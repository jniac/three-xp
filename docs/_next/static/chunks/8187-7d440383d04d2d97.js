"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8187],{96966:function(n,e,t){t.d(e,{v:function(){return r}});let r={development:!1}},4917:function(n,e,t){t.d(e,{H7:function(){return x},Ky:function(){return s},_v:function(){return m}});var r=t(78485),a=t(27275),o=t(52471),l=t(48583),i=t(48181),c=t(96966),u=t(11030);let f=(0,a.createContext)(null);function s(n,e){let t=(0,a.useContext)(f);return(0,l.sv)(async function*(e,r){if(n){let e=n(t,r);if(e&&"function"==typeof e.next)do{let{value:n,done:t}=await e.next();if(t)break;yield n}while(r.mounted)}},null!=e?e:"always"),t}function m(n,e,t){let r=(0,a.useMemo)(()=>new o.Group,[]);return r.name=n,s(async function*(n,t){if(n.scene.add(r),yield()=>{r.clear(),r.removeFromParent()},e){let a=e(r,n,t);if(a&&"function"==typeof a.next)do{let{value:n,done:e}=await a.next();if(e)break;yield n}while(t.mounted)}},t),r}function p(n){let{children:e,className:t}=n,u=(0,a.useMemo)(()=>new i.Vu,[]),{ref:s}=(0,l.sv)(function*(n){let e=c.v.development?"/assets/":"/three-xp/assets/";u.loader.setPath(e),yield u.initialize(n),Object.assign(window,{three:u,THREE:o})},[]);return(0,r.jsx)("div",{ref:s,className:"ThreeProvider absolute-through ".concat(null!=t?t:""),children:(0,r.jsx)(f.Provider,{value:u,children:e})})}function x(n){return(0,u.O)()&&(0,r.jsx)(p,{...n})}},11030:function(n,e,t){t.d(e,{O:function(){return a}});var r=t(27275);function a(){let[n,e]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{e(!0)},[]),n}},63221:function(n,e,t){t.d(e,{w:function(){return u}});var r=t(52471),a=t(66666);let o={axis:"x",length:1,radialSegments:12,radius:.01,coneRatio:.1,radiusScale:1,vertexColor:!0,baseCap:"flat",color:"white"},l=new r.Color;function i(n){let{axis:e,length:t,radius:i,radialSegments:c,coneRatio:u,radiusScale:f,vertexColor:s,baseCap:m,color:p}={...o,...n},x=i*f,h=t*u,d=new r.ConeGeometry(3*x,h,c),g=new r.CylinderGeometry(x,x,1,c,1,!0),v=t-h,_=t-.5*h;d.rotateZ(-Math.PI/2).translate(_,0,0),g.scale(1,v,1).rotateZ(-Math.PI/2).translate(.5*v,0,0);let w="none"===m?new r.BufferGeometry:"flat"===m?new r.CircleGeometry(x,c).rotateY(-Math.PI/2):new r.SphereGeometry(x,c,3,0,2*Math.PI,0,.5*Math.PI).rotateZ(Math.PI/2).rotateX(Math.PI/2),y=(0,a.n4)([d,g,w]);switch(e){case"y":y.rotateZ(Math.PI/2);break;case"z":y.rotateY(-Math.PI/2)}if(s){let n=y.attributes.position.count,e=new r.BufferAttribute(new Float32Array(3*n),3);y.setAttribute("color",e),l.set(p);for(let t=0;t<n;t++)e.setXYZ(t,l.r,l.g,l.b)}return y}let c={xColor:"#ff3333",yColor:"#33cc66",zColor:"#3366ff"};class u extends r.BufferGeometry{constructor(n){super();let{xColor:e,yColor:t,zColor:r,...o}={...c,...n},l=i({...o,axis:"x",color:e}),u=i({...o,axis:"y",color:t}),f=i({...o,axis:"z",color:r}),s=(0,a.n4)([l,u,f]);this.copy(s),s.dispose()}}},63549:function(n,e,t){t.d(e,{P:function(){return o}});var r=t(52471);let a={vertexColors:!0,color:"white",luminosity:.5};class o extends r.ShaderMaterial{constructor(n){let{color:e,luminosity:t,vertexColors:o,...l}={...a,...n};super({...l,uniforms:{uColor:{value:new r.Color(e)},uSunPosition:{value:new r.Vector3(.5,.7,.3)},uLuminosity:{value:t}},vertexColors:o,vertexShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vColor = color;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nuniform vec3 uSunPosition;\nuniform vec3 uColor;\nuniform float uLuminosity;\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  light = mix(uLuminosity, 1.0, light);\n  gl_FragColor = vec4(vColor * uColor * light, 1.0);\n}\n"}),this.sunPosition=this.uniforms.uSunPosition.value}}},47174:function(n,e,t){t.d(e,{b:function(){return v},R:function(){return w}});var r=t(32717),a=t(52471);let o=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var l=t(79509);class i{static from(n,e){if(e instanceof l.Observable){if("number"==typeof e.value)return new i(n,e);throw Error("Observable value must be a number")}let t=typeof e;return"object"===t&&(e.constructor===Object||e instanceof a.Uniform)&&"value"in e?new i(n,e):"string"===t?new i(n,{value:new a.Color(e)}):new i(n,{value:e})}get value(){return this.target.value}computeDeclaration(){let n=this.name,e=this.target.value;if("number"==typeof e)return"uniform float ".concat(n,";");if(e.isVector2)return"uniform vec2 ".concat(n,";");if(e.isVector3||e.isColor)return"uniform vec3 ".concat(n,";");if(e.isVector4||e.isQuaternion)return"uniform vec4 ".concat(n,";");if(e.isMatrix3)return"uniform mat3 ".concat(n,";");if(e.isMatrix4)return"uniform mat4 ".concat(n,";");if(e.isTexture)return e.isCubeTexture?"uniform samplerCube ".concat(n,";"):"uniform sampler2D ".concat(n,";");if(e instanceof Float32Array)return"uniform float ".concat(n,"[").concat(e.length,"];");throw console.log("unhandled value:",e),Error('unhandled value: "'.concat(null==e?void 0:e.constructor.name,'"'))}constructor(n,e){this.name=n,this.target=e}}function c(){let n=(0,r._)(["","s*",""],["","\\s*",""]);return c=function(){return n},n}let u=null,f=n=>(u=n,v),s="// ShaderForge (injected code) ->",m="// <- ShaderForge",p=n=>"".concat(s,"\n").concat(n.trim(),"\n").concat(m),x=n=>{let e=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=RegExp(String.raw(c(),e(m),e(s)),"g");return n.replaceAll(t,"")};class h{getPattern(n){let{throwError:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="#include <".concat(n,">"),r=this.type;if(e&&!1===u[r].includes(t))throw Error('"'.concat(t,'" is not present in the shader template program.'));return{pattern:t,type:r}}replace(n,e){let{type:t,pattern:r}=this.getPattern(n),a=p(e);return u[t]=u[t].replace(r,a),v}inject(n,e,t){let{type:r,pattern:a}=this.getPattern(e),o="after"===n?"".concat(a,"\n").concat(p(t)):"".concat(p(t),"\n").concat(a);return u[r]=u[r].replace(a,o),v}injectTokenComments(){for(let n of o){let{type:e,pattern:t}=this.getPattern(n,{throwError:!1});u[e]=u[e].replace(t,"\n        ".concat(t,"\n        // ShaderForge TOKEN: ").concat(n,"\n      "))}return v}header(n){let e=this.type;return u[e]="".concat(n,"\n").concat(u[e]),v}before(n,e){return this.inject("before",n,e)}after(n,e){return this.inject("after",n,e)}top(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return u[this.type]=u[this.type].replace("void main() {","\n      ".concat(p(e.join("\n\n")),"\n      void main() {\n    ")),v}mainBeforeAll(n){return u[this.type]=u[this.type].replace("void main() {","void main() {\n        ".concat(p(n))),v}mainAfterAll(n){return u[this.type]=u[this.type].replace(/}\s*$/,"\n      ".concat(p(n),"\n    }")),v}uniforms(n){if("string"==typeof n)this.top(n);else{let e=[];for(let[t,r]of Object.entries(n)){let n=i.from(t,r);e.push(n.computeDeclaration())}this.top(e.join("\n")),function(n){for(let[e,t]of Object.entries(n)){let n=i.from(e,t);if(e in u.uniforms){if(n.value!==u.uniforms[e].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else u.uniforms[e]=n}}(n)}return v}clean(){return u[this.type]=x(u[this.type]),v}printFinalCode(){return console.log(u[this.type].replace(/#include <(.*)>/g,(n,e)=>{let t=a.ShaderChunk[e];if(!t)throw Error('Shader chunk "'.concat(e,'" not found'));return t})),v}constructor(n){this.type=n}}let d=new h("fragmentShader"),g=new h("vertexShader"),v=Object.assign(function(n){return n&&f(n),v},{shaderName:function(n){return u.shaderName="".concat(n," (ShaderForge)"),v},defines:function(n){return u.defines?Object.assign(u.defines,n):u.defines=n,v},uniforms:function(n){return g.uniforms(n),d.uniforms(n),v},varying:function(n){let e="";if("string"==typeof n)e=n;else{let t=[];for(let[e,r]of Object.entries(n))t.push("varying ".concat(r," ").concat(e,";"));e=t.join("\n")}return g.top(e),d.top(e),v},vertex:g,fragment:d,header:function(n){return d.header(n),g.header(n),v},clean:function(){return d.clean(),g.clean(),v},with:f,wrap:(n,e)=>(n.onBeforeCompile=n=>{u=n},n)}),_=new a.Color;function w(n){let{r:e,g:t,b:r}=_.set(n);return"vec3(".concat(e.toFixed(3),", ").concat(t.toFixed(3),", ").concat(r.toFixed(3),")")}},26917:function(n,e,t){t.d(e,{l:function(){return r}});let r="\n#ifndef GLSL_BASIC\n#define GLSL_BASIC\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\n#endif\n"},1060:function(n,e,t){t.d(e,{i:function(){return o}});var r=t(26917);let a=["linear"];for(let n=1;n<=10;n++)a.push("easeIn".concat(n)),a.push("easeOut".concat(n)),a.push("easeInOut".concat(n)),a.push("easeOutIn".concat(n));let o="\n#ifndef GLSL_EASING\n#define GLSL_EASING\n\n".concat(r.l,"\n\nfloat easePow1(float x) {\n  return x;\n}\n\nfloat easePow2(float x) {\n  return x * x;\n}\n\nfloat easePow3(float x) {\n  return x * x * x;\n}\n\nfloat easePow4(float x) {\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow5(float x) {\n  float x0 = x;\n  x *= x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow6(float x) {\n  x *= x * x;\n  return x *= x;\n}\n\nfloat easePow7(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow8(float x) {\n  x *= x;\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow9(float x) {\n  x *= x * x;\n  return x *= x * x;\n}\n\nfloat easePow10(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x * x;\n  return x0 * x;\n}\n\nfloat linear(float x) {\n  return clamp01(x);\n}\n\n").concat(Array.from({length:10},(n,e)=>{let t=e+1;return"\n\nfloat easeIn".concat(t," (float x) {\n  return easePow").concat(t,"(clamp01(x));\n}\nfloat easeOut").concat(t," (float x) {\n  return 1.0 - easePow").concat(t,"(clamp01(1.0 - x));\n}\nfloat easeInOut").concat(t," (float x) {\n  return x < 0.5 \n    ? 0.5 * easePow").concat(t,"(2.0 * x) \n    : 1.0 - 0.5 * easePow").concat(t,"(2.0 * (1.0 - x));\n}\nfloat easeOutIn").concat(t," (float x) {\n  return x < 0.5\n    ? 0.5 * (1.0 - easePow").concat(t,"(1.0 - x * 2.0))\n    : 1.0 - 0.5 * (1.0 - easePow").concat(t,"(2.0 * x - 1.0));\n}\n\n").trim()}).join("\n\n"),"\n\n\n// https://www.desmos.com/calculator/mqou4lf9zc?lang=fr\nfloat easeInOut(float x, float p, float i) {\n  return  x <= 0.0 ? 0.0 :\n          x >= 1.0 ? 1.0 :\n          x <= i ? 1.0 / pow(i, p - 1.0) * pow(x, p) :\n          1.0 - 1.0 / pow(1.0 - i, p - 1.0) * pow(1.0 - x, p);\n}\n\n// https://www.desmos.com/calculator/nrjlezusdv\nfloat easeInThenOut(float x, float p) {\n  return 1.0 - pow(abs(2.0 * x - 1.0), p);\n}\n\n#endif\n")},70155:function(n,e,t){t.d(e,{C:function(){return a}});let r={vecX:["float","vec2","vec3","vec4"]},a=(n,e)=>{let t=[],a=Array.isArray(n)?n:[n].map(n=>n in r?r[n]:n).flat();if("function"==typeof e)for(let n of a)t.push(e(n).replaceAll(/\bT\b/g,n));else for(let n of a)t.push(e.replaceAll(/\bT\b/g,n));return t.join("\n")}},98828:function(n,e,t){t.d(e,{U:function(){return o}});var r=t(26917),a=t(70155);let o="\n  ".concat(r.l,"\n\n  float sin01(float x) {\n    return 0.5 + 0.5 * sin(x * 6.283185307179586);\n  }\n\n  vec2 scaleAround(vec2 p, vec2 c, float s) {\n    return c + (p - c) / s;\n  }\n\n  // Same as mix, but clamped.\n  ").concat((0,a.C)("vecX","\n    T lerp(in T a, in T b, in float x) {\n      return mix(a, b, clamp01(x));\n    }\n  "),"\n\n  float inverseLerpUnclamped(in float a, in float b, float x) {\n    return (x - a) / (b - a);\n  }\n\n  float inverseLerp(in float a, in float b, float x) {\n    return clamp01((x - a) / (b - a));\n  }\n\n  float threshold(in float x, in float thresholdValue) {\n    return x < thresholdValue ? 0. : 1.;\n  }\n\n  float threshold(in float x, in float thresholdValue, in float width) {\n    return width < 1e-9 \n      ? (x < thresholdValue ? 0. : 1.)\n      : clamp01((x - thresholdValue + width * .5) / width);\n  }\n\n  mat3 extractRotation(mat4 matrix) {\n    return mat3(matrix[0].xyz, matrix[1].xyz, matrix[2].xyz);\n  }\n\n  vec2 rotate(vec2 p, float a) {\n    float c = cos(a);\n    float s = sin(a);\n    float x = c * p.x + s * p.y;\n    float y = -s * p.x + c * p.y;\n    return vec2(x, y);\n  }\n\n  vec2 rotateAround(vec2 p, float a, vec2 c) {\n    return c + rotate(p - c, a);\n  }\n\n  vec2 rotateScaleAround(vec2 p, float a, float s, vec2 c) {\n    return c + rotate((p - c) / s, a);\n  }\n  \n  float positiveModulo(float x) {\n    x = mod(x, 1.0);\n    return x < 0.0 ? x + 1.0 : x;\n  }\n\n  float positiveModulo(float x, float modulo) {\n    x = mod(x, modulo);\n    return x < 0.0 ? x + modulo : x;\n  }\n\n  // Limit a value to a maximum that the function tends to reach when x -> ∞\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float maxValue) {\n    return x <= 0.0 ? x : maxValue * x / (maxValue + x);\n  }\n\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float minValue, float maxValue) {\n    float d = maxValue - minValue;\n    float xd = x - minValue;\n    return x <= minValue ? x : minValue + d * xd / (d + xd);\n  }\n\n  float sqLength(in vec2 p) {\n    return p.x * p.x + p.y * p.y;\n  }\n\n  float sqLength(in vec3 p) {\n    return p.x * p.x + p.y * p.y + p.z * p.z;\n  }\n\n  float pcurve(float x, float a, float b) {\n    float k = pow(a + b, a + b) / (pow(a, a) * pow(b, b));\n    return k * pow(x, a) * pow(1.0 - x, b);\n  }\n\n  ").concat((0,a.C)("vecX","\n    T min3(in T a, in T b, in T c) {\n      return min(min(a, b), c);\n    }\n  "),"\n\n  ").concat((0,a.C)("vecX","\n    T min4(in T a, in T b, in T c, in T d) {\n      return min(min(a, b), min(c, d));\n    }\n  "),"\n")},28142:function(n,e,t){t.d(e,{T:function(){return u}});let r=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return(n=(n=(7*n+Math.sqrt(n)+16087*Math.sin(n))%2147483647)<0?n+2147483647:n)>1?2147483647&n:0===n?345678:123456},a=n=>n=2147483647&Math.imul(n,48271),o=n=>(n-1)/2147483646,l=n=>n,i={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function c(){let n=a(a(r(123456)));function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return"string"==typeof e&&(e=e.split("").reduce((n,e)=>7*n+e.charCodeAt(0),0)),n=a(a(r(e))),s}function t(){return o(n=a(n))}function c(n){switch(n.length){default:return[0,1,l];case 1:return[0,n[0],l];case 2:return[n[0],n[1],l];case 3:return[n[0],n[1],n[2]]}}function u(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];let[a,o,l]=c(e);return a+(o-a)*l(t())}function f(){for(var n,e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];let[o,l,{weightsAreNormalized:c,indexOffset:u,forbiddenItems:f}]=function(n){let[e,t=null,r]=n,a={...i,...r};if(Array.isArray(e))return[e,t,a];if("object"==typeof e)return[Object.values(e),t?Object.values(t):null,a];throw Error("pick: unsupported options type")}(r);if(f.length>0){let e=new Set;for(let n of f){let t=o.indexOf(n);t>=0&&e.add(t)}if(o=o.filter((n,t)=>!e.has(t)),l=null!==(n=null==l?void 0:l.filter((n,t)=>!e.has(t)))&&void 0!==n?n:null,0===o.length)throw Error("pick: all items are forbidden")}if(null===l){let n=Math.floor(t()*o.length);return u&&(n+=u,(n%=o.length)<0&&(n+=o.length)),o[n]}if(!c){let n=l.reduce((n,e)=>n+e,0);l=l.map(e=>e/n)}let s=t(),m=0;for(let n=0;n<o.length;n++)if(s<(m+=l[n]))return o[n];throw Error("among: unreachable")}let s={seed:e,seedMax:function(){return 2147483647},reset:function(){return e(123456),s},next:function(){return n=a(n),s},random:t,between:u,around:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];let[a=1,o=l]=e,i=2*t();return(i>1?1:-1)*o(i>1?i-1:i)*a},int:function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];let[a,o,l]=c(e);return a+Math.floor(l(t())*(o-a))},chance:function(n){return t()<n},shuffle:function(n){let{mutate:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&Array.isArray(n)?n:[...n],a=r.length;for(let n=0;n<a;n++){let e=Math.floor(a*t()),o=r[n];r[n]=r[e],r[e]=o}return r},pick:f,createPicker:function(n){let e=n.map(n=>{let[e]=n;return e}),t=n.map(n=>{let[e,t]=n;return t}),r=t.reduce((n,e)=>n+e,0);for(let[n,e]of t.entries())t[n]=e/r;return()=>f(e,t,{weightsAreNormalized:!0})},vector:function(n,e){let[t=0,r=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max];for(let e of Object.keys(n))n[e]=u(t,r);return n},unitVector:function(n,e){let[t=-1,r=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max],a=Object.keys(n),o=a.map(()=>u(t,r)),l=Math.sqrt(o.reduce((n,e)=>n+e*e,0));for(let[e,t]of a.entries())n[t]=o[e]/l;return n},boxMuller:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t(),a=t(),o=Math.sqrt(-2*Math.log(r)),l=2*Math.PI*a;return[n+e*o*Math.cos(l),n+e*o*Math.sin(l)]}};return s}let u=class{constructor(n){Object.assign(this,c().seed(n))}};Object.assign(u,c())},32717:function(n,e,t){t.d(e,{_:function(){return r}});function r(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}}}]);