"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6506],{39680:function(t,e,i){i.d(e,{a:function(){return c}});var o=i(52471),r=i(81796);let s=new o.Matrix4,n=new o.Vector3,a=new o.Quaternion,h=new o.Quaternion,l={fov:"45deg",perspective:1,zoom:1,focus:[0,0,0],size:[4,4],before:100,after:1e3,rotation:[0,0,0,"YXZ"],frame:"contain",allowOrthographic:!0,fovEpsilon:"1.5deg",nearMin:.1};class c{set(t){let{perspective:e,fov:i,zoom:o,focus:s,size:n,before:a,after:h,rotation:l,frame:c,allowOrthographic:u,fovEpsilon:p,nearMin:v}=t;return void 0!==e&&(this.perspective=e),void 0!==i&&(this.fov=(0,r.FE)(i)),void 0!==o&&(this.zoom=o),void 0!==s&&(0,r.Q7)(s,this.focus),void 0!==n&&(0,r.iK)(n,this.size),void 0!==a&&(this.before=a),void 0!==h&&(this.after=h),void 0!==l&&(0,r.Gg)(l,this.rotation),void 0!==c&&(this.frame="string"==typeof c?"cover"===c?0:1:c),void 0!==u&&(this.allowOrthographic=u),void 0!==p&&(this.fovEpsilon=(0,r.FE)(p)),void 0!==v&&(this.nearMin=v),this}copy(t){return this.perspective=t.perspective,this.fov=t.fov,this.zoom=t.zoom,this.focus.copy(t.focus),this.size.copy(t.size),this.before=t.before,this.after=t.after,this.rotation.copy(t.rotation),this.frame=t.frame,this.allowOrthographic=t.allowOrthographic,this.fovEpsilon=t.fovEpsilon,this.nearMin=t.nearMin,this}clone(){return new c().copy(this)}lerpVertigos(t,e,i){this.perspective=t.perspective+(e.perspective-t.perspective)*i,this.fov=t.fov+(e.fov-t.fov)*i;let o=Math.log(t.zoom)/Math.log(.001),r=o+(Math.log(e.zoom)/Math.log(.001)-o)*i;return this.zoom=.001**r,this.focus.lerpVectors(t.focus,e.focus,i),this.size.lerpVectors(t.size,e.size,i),this.before=t.before+(e.before-t.before)*i,this.after=t.after+(e.after-t.after)*i,a.setFromEuler(t.rotation),h.setFromEuler(e.rotation),this.rotation.setFromQuaternion(a.slerp(h,i)),this.frame=t.frame+(e.frame-t.frame)*i,this.allowOrthographic=i<.5?t.allowOrthographic:e.allowOrthographic,this.fovEpsilon=t.fovEpsilon+(e.fovEpsilon-t.fovEpsilon)*i,this.nearMin=t.nearMin+(e.nearMin-t.nearMin)*i,this}lerp(t,e){return this.lerpVertigos(this,t,e)}apply(t,e){let i=this.size.x/this.size.y/e,o=1+(i>1?this.frame:1-this.frame)*(i-1),r=this.size.y*o/this.zoom,a=this.fovEpsilon,h=this.perspective*this.fov;!this.allowOrthographic&&h<a&&(h=a);let l=r/2/Math.tan(h/2),c=h>=a,u=c?l:this.before+this.nearMin;if(s.makeRotationFromEuler(this.rotation),n.set(s.elements[8],s.elements[9],s.elements[10]).multiplyScalar(u).add(this.focus),t.position.copy(n),t.rotation.copy(this.rotation),t.updateMatrix(),t.updateMatrixWorld(!0),t.isPerspectiveCamera=c,t.isOrthographicCamera=!c,c){let i=Math.max(this.nearMin/this.zoom,l-this.before),o=l+this.after,s=r*i/l/2,n=s*e;t.fov=180*h/Math.PI,t.projectionMatrix.makePerspective(-n,n,s,-s,i,o)}else{let i=this.nearMin/this.zoom,o=i+this.before+this.after,s=r/2,n=s*e;t.fov=0,t.projectionMatrix.makeOrthographic(-n,n,s,-s,i,o)}return t.projectionMatrixInverse.copy(t.projectionMatrix).invert(),this.computedNdcScalar.set(o*e,o),this.computedSize.set(r*e,r),this}toDeclaration(){let t=[(0,r.ux)(this.rotation.x,"deg"),(0,r.ux)(this.rotation.y,"deg"),(0,r.ux)(this.rotation.z,"deg"),this.rotation.order];return{perspective:this.perspective,fov:(0,r.ux)(this.fov,"deg"),zoom:this.zoom,focus:this.focus.toArray(),size:this.size.toArray(),before:this.before,after:this.after,rotation:t,frame:this.frame,allowOrthographic:this.allowOrthographic,fovEpsilon:(0,r.ux)(this.fovEpsilon,"deg"),nearMin:this.nearMin}}constructor(t){this.focus=new o.Vector3,this.size=new o.Vector2,this.rotation=new o.Euler,this.computedNdcScalar=new o.Vector2,this.computedSize=new o.Vector2,this.set({...l,...t})}}},494:function(t,e,i){i.d(e,{F:function(){return d}});var o=i(52471),r=i(74831),s=i(63425),n=i(1296),a=i(77552),h=i(81796),l=i(39680);let c=new o.Quaternion,u=new o.Vector3,p=new o.Vector3;function v(t){c.setFromEuler(t),u.set(1,0,0).applyQuaternion(c),p.set(0,1,0).applyQuaternion(c)}class d extends n.N{pan(t,e){v(this.vertigo.rotation);let i=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(u,t*i).addScaledVector(p,e*i)}rotate(t,e){this.vertigo.rotation.x+=t,this.vertigo.rotation.y+=e}zoomAt(t,e){let i=this.vertigo.size.x/this.vertigo.zoom,o=this.vertigo.size.y/this.vertigo.zoom,r=this.vertigo.size.x/t,s=this.vertigo.size.y/t;v(this.vertigo.rotation);let{x:n,y:a}=e;this.vertigo.focus.addScaledVector(u,-((r-i)*n)).addScaledVector(p,-((s-o)*a)),this.vertigo.zoom=t}*doInitialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;yield function(t,e){for(let[i,o]of Object.entries(e))t.addEventListener(i,o);return{destroy(){for(let[i,o]of Object.entries(e))t.removeEventListener(i,o)}}}(t,{contextmenu:t=>{t.preventDefault()}});let e=new o.Vector2;yield(0,r.w)(t,{onChange:i=>{let o=t.getBoundingClientRect(),r=(i.localPosition.x-o.x)/o.width*2-1,s=-((i.localPosition.y-o.y)/o.height*2-1);e.set(r/2,s/2).multiply(this.vertigo.computedNdcScalar)},dragButton:-1,onDrag:t=>{switch(t.button){case r.M.Left:this.rotate(-.01*t.delta.y,-.01*t.delta.x);break;case r.M.Right:this.pan(-.005*t.delta.x,.005*t.delta.y)}},wheelPreventDefault:!0,onWheel:t=>{let i=this.vertigo.zoom*(1-.001*t.delta.y);t.event.altKey?this.zoomAt(i,e):this.zoomAt(i,{x:0,y:0})}})}initialize(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.collect(this.doInitialize(...e)),this}update(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/60,o=(0,a.M3)(this.dampingDecayFactor,i);this.dampedVertigo.lerp(this.vertigo,o).apply(t,e)}constructor(t={}){super(),this.dampingDecayFactor=.01,this.vertigo=new l.a,this.dampedVertigo=new l.a,this.actions={togglePerspective:()=>{let t=this.vertigo.perspective>.5?0:1;s.fw.tween({target:[this.vertigo,"perspective"],to:{perspective:t},duration:1,ease:"inOut3"})},focus:t=>{s.fw.tween({target:this.vertigo.focus,to:(0,h.Q7)(t),duration:1,ease:"inOut3"})},rotate:(t,e,i)=>{let r=new o.Quaternion().setFromEuler(this.vertigo.rotation),n=new o.Quaternion().setFromEuler(new o.Euler(t,e,i,"YXZ")),a=new o.Quaternion;s.fw.during({target:[this.vertigo,"rotation"],duration:1}).onUpdate(t=>{let{progress:e}=t;a.slerpQuaternions(r,n,s.fw.ease("inOut3")(e)),this.vertigo.rotation.setFromQuaternion(a)})},positiveXAlign:()=>{this.actions.rotate(0,Math.PI/2,0)},negativeXAlign:()=>{this.actions.rotate(0,-Math.PI/2,0)},positiveYAlign:()=>{this.actions.rotate(-Math.PI/2,0,0)},negativeYAlign:()=>{this.actions.rotate(Math.PI/2,0,0)},positiveZAlign:()=>{this.actions.rotate(0,0,0)},negativeZAlign:()=>{this.actions.rotate(0,Math.PI,0)}},this.vertigo.set(t),this.dampedVertigo.set(t)}}},88156:function(t,e,i){i.d(e,{O:function(){return l}});var o=i(52471),r=i(1237),s=i(81796);let n=new o.Vector2,a=new o.Vector3,h=new o.Matrix4;class l extends o.LineSegments{showOccludedLines(){let{opacity:t=.2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new o.LineBasicMaterial({color:this.material.color,transparent:!0,depthFunc:o.GreaterDepth,opacity:t}),i=new o.LineSegments(this.geometry,e);return this.add(i),this}clear(){return this.points.length=0,this.geometry.setFromPoints(this.points),this}draw(){return this.geometry.setFromPoints(this.points),this}circle(t){let{radius:e,segments:i,...r}={...l.circleDefaultOptions,...t};(0,s.Xe)(r,h);let n=new o.Vector3(1,0,0),a=new o.Vector3(0,1,0);for(let t=0;t<i;t++){let r=t/i*Math.PI*2,s=(t+1)/i*Math.PI*2,l=Math.cos(r)*e,c=Math.sin(r)*e,u=Math.cos(s)*e,p=Math.sin(s)*e,v=new o.Vector3().addScaledVector(n,l).addScaledVector(a,c).applyMatrix4(h),d=new o.Vector3().addScaledVector(n,u).addScaledVector(a,p).applyMatrix4(h);this.points.push(v,d)}return this}rectangle(t){let{centerX:e,centerY:i,width:s,height:n}=r.Ae.from(t),a=s/2,h=n/2,l=new o.Vector3(e-a,i-h,0),c=new o.Vector3(e+a,i-h,0),u=new o.Vector3(e+a,i+h,0),p=new o.Vector3(e-a,i+h,0);return this.points.push(l,c,c,u,u,p,p,l),this}box(){let{center:t=[0,0,0],size:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:i,y:r,z:n}=(0,s.Q7)(t,a),{x:h,y:l,z:c}=(0,s.Q7)(e,a),u=h/2,p=l/2,v=c/2,d=new o.Vector3(i-u,r-p,n-v),f=new o.Vector3(i+u,r-p,n-v),g=new o.Vector3(i+u,r+p,n-v),m=new o.Vector3(i-u,r+p,n-v),w=new o.Vector3(i-u,r-p,n+v),y=new o.Vector3(i+u,r-p,n+v),V=new o.Vector3(i+u,r+p,n+v),M=new o.Vector3(i-u,r+p,n+v);return this.points.push(d,f,f,g,g,m,m,d),this.points.push(w,y,y,V,V,M,M,w),this.points.push(d,w,f,y,g,V,m,M),this}plus(t,e){let i=e/2,{x:r,y:a}=(0,s.iK)(t,n),h=new o.Vector3(r-i,a,0),l=new o.Vector3(r+i,a,0),c=new o.Vector3(r,a-i,0),u=new o.Vector3(r,a+i,0);return this.points.push(h,l,c,u),this}cross(t,e){let i=e/2,{x:r,y:a}=(0,s.iK)(t,n),h=new o.Vector3(r-i,a-i,0),l=new o.Vector3(r+i,a+i,0),c=new o.Vector3(r-i,a+i,0),u=new o.Vector3(r+i,a-i,0);return this.points.push(h,l,c,u),this}constructor(...t){super(...t),this.points=[]}}l.circleDefaultOptions={radius:.5,segments:96}},63549:function(t,e,i){i.d(e,{P:function(){return s}});var o=i(52471);let r={vertexColors:!0,color:"white",luminosity:.5};class s extends o.ShaderMaterial{constructor(t){let{color:e,luminosity:i,vertexColors:s,...n}={...r,...t};super({...n,uniforms:{uColor:{value:new o.Color(e)},uSunPosition:{value:new o.Vector3(.5,.7,.3)},uLuminosity:{value:i}},vertexColors:s,vertexShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vColor = color;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nuniform vec3 uSunPosition;\nuniform vec3 uColor;\nuniform float uLuminosity;\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  light = mix(uLuminosity, 1.0, light);\n  gl_FragColor = vec4(vColor * uColor * light, 1.0);\n}\n"}),this.sunPosition=this.uniforms.uSunPosition.value}}}}]);