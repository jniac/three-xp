"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5942],{65942:function(e,t,r){r.d(t,{Main:function(){return g}});var n=r(78485),a=r(52471),o=r(86818),i=r(63549),c=r(47174),l=r(49635),s=r(87858),u=r(16573),f=r(28142);class m extends a.Group{constructor(){super(),(0,s.cY)(new a.Mesh(new a.IcosahedronGeometry(1,12),new i.P),this),(0,s.cY)(new a.Mesh(new a.TorusKnotGeometry(2,.1,256,16),new i.P({color:"red"})),this);let e=new a.InstancedBufferAttribute(new Float32Array(100),4),t=new a.PlaneGeometry;t.setAttribute("aRand",e);let r=new a.MeshBasicMaterial({side:a.DoubleSide});r.onBeforeCompile=e=>c.b.with(e).vertex.top("\n        attribute vec4 aRand;\n      ").vertex.after("project_vertex","\n        gl_Position.z += aRand.x * .1;\n      ");let n=(0,s.cY)(new a.InstancedMesh(t,r,25),this);f.T.reset();let o=Array.from({length:25},()=>16777215*f.T.random());for(let t of(0,u.B)(5,5)){let r=(t.tx-.5)*4,a=(t.ty-.5)*4,i=(t.tx+t.ty)*.4;n.setMatrixAt(t.i,(0,l.$)({x:r,y:a,z:i,scaleScalar:1.25})),n.setColorAt(t.i,(0,l.E)(f.T.pick(o))),e.setXYZW(t.i,f.T.random(),f.T.random(),f.T.random(),f.T.random())}}}function p(){return(0,o.Ky)(function*(e){e.useOrbitControls(),e.scene.background=new a.Color("#345");let t=new m;e.scene.add(t),yield()=>t.removeFromParent()},[]),null}function g(){return(0,n.jsx)(o.c,{children:(0,n.jsx)(p,{})})}},47174:function(e,t,r){r.d(t,{b:function(){return v},R:function(){return x}});var n=r(32717),a=r(52471);let o=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var i=r(79509);class c{static from(e,t){if(t instanceof i.Observable){if("number"==typeof t.value)return new c(e,t);throw Error("Observable value must be a number")}let r=typeof t;return"object"===r&&(t.constructor===Object||t instanceof a.Uniform)&&"value"in t?new c(e,t):"string"===r?new c(e,{value:new a.Color(t)}):new c(e,{value:t})}get value(){return this.target.value}computeDeclaration(){let e=this.name,t=this.target.value,r="";if(t instanceof Float32Array)return"uniform float ".concat(e,"[").concat(t.length,"];");if(Array.isArray(t)&&(r="[".concat(t.length,"]"),t=t[0]),"number"==typeof t)return"uniform float ".concat(e).concat(r,";");if(t.isVector2)return"uniform vec2 ".concat(e).concat(r,";");if(t.isVector3||t.isColor)return"uniform vec3 ".concat(e).concat(r,";");if(t.isVector4||t.isQuaternion)return"uniform vec4 ".concat(e).concat(r,";");if(t.isMatrix3)return"uniform mat3 ".concat(e).concat(r,";");if(t.isMatrix4)return"uniform mat4 ".concat(e).concat(r,";");if(t.isTexture)return t.isCubeTexture?"uniform samplerCube ".concat(e).concat(r,";"):"uniform sampler2D ".concat(e).concat(r,";");throw console.log("unhandled value:",t),Error('unhandled value: "'.concat(null==t?void 0:t.constructor.name,'"'))}constructor(e,t){this.name=e,this.target=t}}function l(){let e=(0,n._)(["","s*",""],["","\\s*",""]);return l=function(){return e},e}let s=null,u=e=>(s=e,v),f="// ShaderForge (injected code) ->",m="// <- ShaderForge",p=e=>"".concat(f,"\n").concat(e.trim(),"\n").concat(m),g=e=>{let t=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=RegExp(String.raw(l(),t(m),t(f)),"g");return e.replaceAll(r,"")};class h{getPattern(e){let{throwError:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="#include <".concat(e,">"),n=this.type;if(t&&!1===s[n].includes(r))throw Error('"'.concat(r,'" is not present in the shader template program.'));return{pattern:r,type:n}}replace(e,t){let{type:r,pattern:n}=this.getPattern(e),a=p(t);return s[r]=s[r].replace(n,a),v}inject(e,t,r){let{type:n,pattern:a}=this.getPattern(t),o="after"===e?"".concat(a,"\n").concat(p(r)):"".concat(p(r),"\n").concat(a);return s[n]=s[n].replace(a,o),v}injectTokenComments(){for(let e of o){let{type:t,pattern:r}=this.getPattern(e,{throwError:!1});s[t]=s[t].replace(r,"\n        ".concat(r,"\n        // ShaderForge TOKEN: ").concat(e,"\n      "))}return v}header(e){let t=this.type;return s[t]="".concat(e,"\n").concat(s[t]),v}before(e,t){return this.inject("before",e,t)}after(e,t){return this.inject("after",e,t)}top(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return s[this.type]=s[this.type].replace("void main() {","\n      ".concat(p(t.join("\n\n")),"\n      void main() {\n    ")),v}mainBeforeAll(e){return s[this.type]=s[this.type].replace("void main() {","void main() {\n        ".concat(p(e))),v}mainAfterAll(e){return s[this.type]=s[this.type].replace(/}\s*$/,"\n      ".concat(p(e),"\n    }")),v}uniforms(e){if("string"==typeof e)this.top(e);else{let t=[];for(let[r,n]of Object.entries(e)){let e=c.from(r,n);t.push(e.computeDeclaration())}this.top(t.join("\n")),function(e){for(let[t,r]of Object.entries(e)){let e=c.from(t,r);if(t in s.uniforms){if(e.value!==s.uniforms[t].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else s.uniforms[t]=e}}(e)}return v}clean(){return s[this.type]=g(s[this.type]),v}printFinalCode(){return console.log(s[this.type].replace(/#include <(.*)>/g,(e,t)=>{let r=a.ShaderChunk[t];if(!r)throw Error('Shader chunk "'.concat(t,'" not found'));return r})),v}constructor(e){this.type=e}}let _=new h("fragmentShader"),d=new h("vertexShader"),v=Object.assign(function(e){return e&&u(e),v},{shaderName:function(e){return s.shaderName="".concat(e," (ShaderForge)"),v},defines:function(e){return s.defines?Object.assign(s.defines,e):s.defines=e,v},uniforms:function(e){return d.uniforms(e),_.uniforms(e),v},varying:function(e){let t="";if("string"==typeof e)t=e;else{let r=[];for(let[t,n]of Object.entries(e))r.push("varying ".concat(n," ").concat(t,";"));t=r.join("\n")}return d.top(t),_.top(t),v},vertex:d,fragment:_,header:function(e){return _.header(e),d.header(e),v},clean:function(){return _.clean(),d.clean(),v},with:u,wrap:(e,t)=>(e.onBeforeCompile=e=>{s=e},e)}),y=new a.Color;function x(e){let{r:t,g:r,b:n}=y.set(e);return"vec3(".concat(t.toFixed(3),", ").concat(r.toFixed(3),", ").concat(n.toFixed(3),")")}},49635:function(e,t,r){r.d(t,{$:function(){return i},E:function(){return l}});var n=r(52471),a=r(81796);let o=new n.Matrix4;function i(e){return(0,a.Xe)(e,o)}let c=new n.Color;function l(e){return c.set(e)}},16573:function(e,t,r){function*n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0,a=0;2===t.length?(n=t[0],a=t[1]):Array.isArray(t[0])?(n=t[0][0],a=t[0][1]):(n=t[0].x,a=t[0].y);let o=0,i=0,c=0,l={get i(){return o},get x(){return i},get y(){return c},get tx(){return i/(n-1)},get ty(){return c/(a-1)}};for(c=0;c<a;c++)for(i=0;i<n;i++)yield l,o++}function*a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0,a=0,o=0;3===t.length?(n=t[0],a=t[1],o=t[2]):Array.isArray(t[0])?(n=t[0][0],a=t[0][1],o=t[0][2]):(n=t[0].x,a=t[0].y,o=t[0].z);let i=0,c=0,l=0,s=0,u={get i(){return i},get x(){return c},get y(){return l},get z(){return s},get tx(){return c/(n-1)},get ty(){return l/(a-1)},get tz(){return s/(o-1)}};for(s=0;s<o;s++)for(l=0;l<a;l++)for(c=0;c<n;c++)yield u,i++}r.d(t,{B:function(){return n},K:function(){return a}})},28142:function(e,t,r){r.d(t,{T:function(){return s}});let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return(e=(e=(7*e+Math.sqrt(e)+16087*Math.sin(e))%2147483647)<0?e+2147483647:e)>1?2147483647&e:0===e?345678:123456},a=e=>e=2147483647&Math.imul(e,48271),o=e=>(e-1)/2147483646,i=e=>e,c={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function l(){let e=a(a(n(123456)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=a(a(n(t))),f}function r(){return o(e=a(e))}function l(e){switch(e.length){default:return[0,1,i];case 1:return[0,e[0],i];case 2:return[e[0],e[1],i];case 3:return[e[0],e[1],e[2]]}}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[a,o,i]=l(t);return a+(o-a)*i(r())}function u(){for(var e,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];let[o,i,{weightsAreNormalized:l,indexOffset:s,forbiddenItems:u}]=function(e){let[t,r=null,n]=e,a={...c,...n};if(Array.isArray(t))return[t,r,a];if("object"==typeof t)return[Object.values(t),r?Object.values(r):null,a];throw Error("pick: unsupported options type")}(n);if(u.length>0){let t=new Set;for(let e of u){let r=o.indexOf(e);r>=0&&t.add(r)}if(o=o.filter((e,r)=>!t.has(r)),i=null!==(e=null==i?void 0:i.filter((e,r)=>!t.has(r)))&&void 0!==e?e:null,0===o.length)throw Error("pick: all items are forbidden")}if(null===i){let e=Math.floor(r()*o.length);return s&&(e+=s,(e%=o.length)<0&&(e+=o.length)),o[e]}if(!l){let e=i.reduce((e,t)=>e+t,0);i=i.map(t=>t/e)}let f=r(),m=0;for(let e=0;e<o.length;e++)if(f<(m+=i[e]))return o[e];throw Error("among: unreachable")}let f={seed:t,seedMax:function(){return 2147483647},reset:function(){return t(123456),f},next:function(){return e=a(e),f},random:r,between:s,around:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[a=1,o=i]=t,c=2*r();return(c>1?1:-1)*o(c>1?c-1:c)*a},int:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[a,o,i]=l(t);return a+Math.floor(i(r())*(o-a))},chance:function(e){return r()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&Array.isArray(e)?e:[...e],a=n.length;for(let e=0;e<a;e++){let t=Math.floor(a*r()),o=n[e];n[e]=n[t],n[t]=o}return n},pick:u,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),r=e.map(e=>{let[t,r]=e;return r}),n=r.reduce((e,t)=>e+t,0);for(let[e,t]of r.entries())r[e]=t/n;return()=>u(t,r,{weightsAreNormalized:!0})},vector:function(e,t){let[r=0,n=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=s(r,n);return e},unitVector:function(e,t){let[r=-1,n=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max],a=Object.keys(e),o=a.map(()=>s(r,n)),i=Math.sqrt(o.reduce((e,t)=>e+t*t,0));for(let[t,r]of a.entries())e[r]=o[t]/i;return e},boxMuller:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(),a=r(),o=Math.sqrt(-2*Math.log(n)),i=2*Math.PI*a;return[e+t*o*Math.cos(i),e+t*o*Math.sin(i)]}};return f}let s=class{constructor(e){Object.assign(this,l().seed(e))}};Object.assign(s,l())},32717:function(e,t,r){r.d(t,{_:function(){return n}});function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}}}]);