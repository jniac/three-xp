"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7540],{47540:function(t,e,i){i.d(e,{ur:function(){return C},H7:function(){return I},Ky:function(){return k}});var r,n=i(32617),o=i(87200),s=i(23657),a=i(87868),l=i(11648),h=i(81540),c=i(54157),u=i(2132),f=i(35357),d=i(71964),p=i(34669);let v=new a.yGw,g=new a.Pa4,y=new a._fP,m=new a._fP,w={fov:"45deg",perspective:1,zoom:1,focus:[0,0,0],size:[4,4],before:1e3,after:1e3,rotation:[0,0,0,"YXZ"],frame:"contain",allowOrthographic:!0,fovEpsilon:"1.5deg",nearMin:.1};class x{static get default(){return b}set(t){let{perspective:e,fov:i,zoom:r,focus:n,size:o,before:s,after:a,rotation:l,frame:h,allowOrthographic:c,fovEpsilon:u,nearMin:f}=t;return void 0!==e&&(this.perspective=e),void 0!==i&&(this.fov=(0,p.FE)(i)),void 0!==r&&(this.zoom=r),void 0!==n&&(0,p.Q7)(n,this.focus),void 0!==o&&(0,p.iK)(o,this.size),void 0!==s&&(this.before=s),void 0!==a&&(this.after=a),void 0!==l&&(0,p.Gg)(l,{defaultOrder:"YXZ"},this.rotation),void 0!==h&&(this.frame="string"==typeof h?"cover"===h?0:1:h),void 0!==c&&(this.allowOrthographic=c),void 0!==u&&(this.fovEpsilon=(0,p.FE)(u)),void 0!==f&&(this.nearMin=f),this}copy(t){return this.perspective=t.perspective,this.fov=t.fov,this.zoom=t.zoom,this.focus.copy(t.focus),this.size.copy(t.size),this.before=t.before,this.after=t.after,this.rotation.copy(t.rotation),this.frame=t.frame,this.allowOrthographic=t.allowOrthographic,this.fovEpsilon=t.fovEpsilon,this.nearMin=t.nearMin,this}clone(){return new x().copy(this)}lerpVertigos(t,e,i){this.perspective=t.perspective+(e.perspective-t.perspective)*i,this.fov=t.fov+(e.fov-t.fov)*i;let r=Math.log(t.zoom)/Math.log(.001),n=r+(Math.log(e.zoom)/Math.log(.001)-r)*i;return this.zoom=.001**n,this.focus.lerpVectors(t.focus,e.focus,i),this.size.lerpVectors(t.size,e.size,i),this.before=t.before+(e.before-t.before)*i,this.after=t.after+(e.after-t.after)*i,y.setFromEuler(t.rotation),m.setFromEuler(e.rotation),this.rotation.setFromQuaternion(y.slerp(m,i)),this.frame=t.frame+(e.frame-t.frame)*i,this.allowOrthographic=i<.5?t.allowOrthographic:e.allowOrthographic,this.fovEpsilon=t.fovEpsilon+(e.fovEpsilon-t.fovEpsilon)*i,this.nearMin=t.nearMin+(e.nearMin-t.nearMin)*i,this}lerp(t,e){return this.lerpVertigos(this,t,e)}apply(t,e){let i=this.size.x/this.size.y/e,r=1+(i>1?this.frame:1-this.frame)*(i-1),n=this.size.y*r/this.zoom,o=this.fovEpsilon,s=this.perspective*this.fov;!this.allowOrthographic&&s<o&&(s=o);let a=n/2/Math.tan(s/2),l=s>=o,h=l?a:this.before+this.nearMin;if(v.makeRotationFromEuler(this.rotation),g.set(v.elements[8],v.elements[9],v.elements[10]).multiplyScalar(h).add(this.focus),t.position.copy(g),t.rotation.copy(this.rotation),t.updateMatrix(),t.updateMatrixWorld(!0),t.isPerspectiveCamera=l,t.isOrthographicCamera=!l,l){let i=Math.max(this.nearMin/this.zoom,a-this.before),r=a+this.after,o=n*i/a/2,l=o*e;t.fov=180*s/Math.PI,t.projectionMatrix.makePerspective(-l,l,o,-o,i,r)}else{let i=this.nearMin/this.zoom,r=i+this.before+this.after,o=n/2,s=o*e;t.fov=0,t.projectionMatrix.makeOrthographic(-s,s,o,-o,i,r)}return t.projectionMatrixInverse.copy(t.projectionMatrix).invert(),this.computedNdcScalar.set(r*e,r),this.computedSize.set(n*e,n),this}toDeclaration(){let t=[(0,p.ux)(this.rotation.x,"deg"),(0,p.ux)(this.rotation.y,"deg"),(0,p.ux)(this.rotation.z,"deg"),this.rotation.order];return{perspective:this.perspective,fov:(0,p.ux)(this.fov,"deg"),zoom:this.zoom,focus:this.focus.toArray(),size:this.size.toArray(),before:this.before,after:this.after,rotation:t,frame:this.frame,allowOrthographic:this.allowOrthographic,fovEpsilon:(0,p.ux)(this.fovEpsilon,"deg"),nearMin:this.nearMin}}constructor(t){this.focus=new a.Pa4,this.size=new a.FM8,this.rotation=new a.USm,this.computedNdcScalar=new a.FM8,this.computedSize=new a.FM8,this.set({...w,...t})}}let b=(0,d._A)(new x),z=new a._fP,M=new a.Pa4,P=new a.Pa4;function E(t){z.setFromEuler(t),M.set(1,0,0).applyQuaternion(z),P.set(0,1,0).applyQuaternion(z)}class A extends f.N{pan(t,e){E(this.vertigo.rotation);let i=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(M,t*i).addScaledVector(P,e*i)}rotate(t,e){this.vertigo.rotation.x+=t,this.vertigo.rotation.y+=e}zoomAt(t,e){let i=this.vertigo.size.x/this.vertigo.zoom,r=this.vertigo.size.y/this.vertigo.zoom,n=this.vertigo.size.x/t,o=this.vertigo.size.y/t;E(this.vertigo.rotation);let{x:s,y:a}=e;this.vertigo.focus.addScaledVector(M,-((n-i)*s)).addScaledVector(P,-((o-r)*a)),this.vertigo.zoom=t}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return this.element=t,this}*doStart(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(r=this.element)&&void 0!==r?r:document.body;yield(0,l.f)(t,{contextmenu:t=>{t.preventDefault()}});let e=new a.FM8;yield(0,h.w)(t,{onChange:i=>{let r=t.getBoundingClientRect(),n=(i.localPosition.x-r.x)/r.width*2-1,o=-((i.localPosition.y-r.y)/r.height*2-1);e.set(n/2,o/2).multiply(this.vertigo.computedNdcScalar)},dragButton:-1,onDrag:t=>{switch(t.button){case h.M.Left:this.rotate(-.01*t.delta.y,-.01*t.delta.x);break;case h.M.Right:this.pan(-.025*t.delta.x,.025*t.delta.y)}},wheelPreventDefault:!0,onWheel:t=>{let i=this.vertigo.zoom*(1-.001*t.delta.y);t.event.altKey?this.zoomAt(i,e):this.zoomAt(i,{x:0,y:0})}})}start(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return!1===this.started&&(this.started=!0,this.collect(this.doStart(...e))),this}stop(){this.started&&(this.started=!1,this.destroy())}toggle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.started;t?this.start():this.stop()}update(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/60,r=(0,u.M3)(this.dampingDecayFactor,i);this.dampedVertigo.lerp(this.vertigo,r).apply(t,e)}constructor(t={}){super(),this.dampingDecayFactor=1e-4,this.vertigo=new x,this.dampedVertigo=new x,this.actions={togglePerspective:()=>{let t=this.vertigo.perspective>.5?0:1;c.fw.tween({target:[this.vertigo,"perspective"],to:{perspective:t},duration:1,ease:"inOut3"})},focus:t=>{c.fw.tween({target:this.vertigo.focus,to:(0,p.Q7)(t),duration:1,ease:"inOut3"})},rotate:(t,e,i)=>{let r=new a._fP().setFromEuler(this.vertigo.rotation),n=new a._fP().setFromEuler(new a.USm(t,e,i,"YXZ")),o=new a._fP;c.fw.during({target:[this.vertigo,"rotation"],duration:1}).onUpdate(t=>{let{progress:e}=t;o.slerpQuaternions(r,n,c.fw.ease("inOut3")(e)),this.vertigo.rotation.setFromQuaternion(o)})},positiveXAlign:()=>{this.actions.rotate(0,Math.PI/2,0)},negativeXAlign:()=>{this.actions.rotate(0,-Math.PI/2,0)},positiveYAlign:()=>{this.actions.rotate(-Math.PI/2,0,0)},negativeYAlign:()=>{this.actions.rotate(Math.PI/2,0,0)},positiveZAlign:()=>{this.actions.rotate(0,0,0)},negativeZAlign:()=>{this.actions.rotate(0,Math.PI,0)}},this.started=!1,this.vertigo.set(t),this.dampedVertigo.set(t)}}var O=i(30699),F=i(29368);class S{get aspect(){return this.width/this.height}setSize(t){let{width:e,height:i,pixelRatio:r}={...this,...t};if(e===this.width&&i===this.height&&r===this.pixelRatio)return this;this.width=e,this.height=i,this.pixelRatio=r;let{renderer:n,perspectiveCamera:o,orhtographicCamera:s}=this;n.setSize(e,i),n.setPixelRatio(r);let a=e/i;return o.aspect=a,o.updateProjectionMatrix(),s.left=-a,s.right=a,s.top=1,s.bottom=-1,s.updateProjectionMatrix(),this}initialize(t){if(this.initialized)return console.warn("ThreeWebglContext is already initialized."),this;Object.defineProperty(this,"initialized",{value:!0,writable:!1,configurable:!1,enumerable:!1}),new ResizeObserver(()=>{this.setSize({width:t.clientWidth,height:t.clientHeight,pixelRatio:window.devicePixelRatio})}).observe(t);let{domElement:e}=this.renderer;return e.style.display="block",e.style.width="100%",e.style.height="100%",t.appendChild(e),this.setSize({width:e.clientWidth,height:e.clientHeight,pixelRatio:window.devicePixelRatio}),this.internal.cancelTick=this.ticker.onTick(()=>{let{renderer:t,scene:e,camera:i}=this;e.traverse(t=>{"onTick"in t&&t.onTick(this.ticker,this)}),t.renderAsync(e,i)}).destroy,this.internal.cancelRequestActivation=(0,O.s)(document.body,this.ticker.requestActivation).destroy,this}constructor(){this.width=300,this.height=150,this.pixelRatio=1,this.ticker=F.vB.get("three").set({minActiveDuration:8}),this.renderer=new a.p9q({antialias:!0}),this.perspectiveCamera=new a.cPb,this.orhtographicCamera=new a.iKG,this.scene=new a.xsS,this.camera=this.perspectiveCamera,this.internal={observer:null,cancelRequestActivation:null,cancelTick:null},this.initialized=!1,this.destroyed=!1,this.destroy=()=>{var t,e,i,r,n;if(this.destroyed){console.warn("ThreeWebglContext is already destroyed.");return}Object.defineProperty(this,"destroyed",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.renderer.dispose(),null===(t=this.internal.observer)||void 0===t||t.disconnect(),null===(e=(i=this.internal).cancelTick)||void 0===e||e.call(i),null===(r=(n=this.internal).cancelRequestActivation)||void 0===r||r.call(n)},this.camera.position.set(0,1,10),this.camera.lookAt(0,0,0)}}var R=i(74707);let j=(0,o.createContext)(null);function k(t,e){let i=(0,o.useContext)(j);return(0,s.sv)(async function*(e,r){if(t){let e=t(i,r);if(e&&"function"==typeof e.next)do{let{value:t,done:i}=await e.next();if(i)break;yield t}while(r.mounted)}},null!=e?e:"always"),i}function C(t){let{value:e}=t;return k(async function*(t){let i="function"==typeof e?new e:e;if(t.scene.add(i),"onInitialize"in i){let e=i.onInitialize(t);if(e&&"function"==typeof e.next)for(;;){let{value:t,done:i}=await e.next();if(i)break;yield t}}yield()=>{if(i.removeFromParent(),"onDestroy"in i){var t;null===(t=i.onDestroy)||void 0===t||t.call(i)}}},"always"),null}let D={className:"",assetsPath:"/",vertigoControls:!1};function N(t){let{children:e,className:i,vertigoControls:r}={...D,...t},a=(0,o.useMemo)(()=>new S,[]),{ref:l}=(0,s.Nv)({debounce:!0},function*(t,e){yield a.initialize(t.firstElementChild),e.triggerRender(),Object.assign(window,{three:a})},[]);(0,s.sv)(function*(){if(r){let t=new A("object"==typeof r?r:{}).initialize(l.current).start();yield t.destroy,yield(0,F.RC)("three",e=>{t.update(a.camera,a.aspect,e.deltaTime)})}},[r]);let h={position:"absolute",inset:0};return(0,n.jsx)("div",{ref:l,className:i,style:h,children:(0,n.jsxs)(j.Provider,{value:a,children:[(0,n.jsx)("div",{style:h}),(0,n.jsx)("div",{style:h,className:"thru",children:a.initialized&&e})]})})}function I(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return(0,R.O)()&&(0,n.jsx)(N,{...e[0]})}},74707:function(t,e,i){i.d(e,{O:function(){return n}});var r=i(87200);function n(){let[t,e]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{e(!0)},[]),t}},11648:function(t,e,i){i.d(e,{f:function(){return r}});function r(t,e){for(let[i,r]of Object.entries(e))t.addEventListener(i,r);return{destroy(){for(let[i,r]of Object.entries(e))t.removeEventListener(i,r)}}}},34669:function(t,e,i){i.d(e,{FE:function(){return n.FE},Gg:function(){return u},Q7:function(){return h},iK:function(){return l},ux:function(){return n.ux}});var r=i(87868),n=i(20821),o=i(50864);function s(t){return"string"==typeof t&&/^(rad|deg|turn)$/.test(t)}function a(t){return"string"==typeof t&&/^(XYZ|XZY|YXZ|YZX|ZXY|ZYX)$/.test(t)}function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.FM8;return n.iK(t,e)}function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pa4;return n.Q7(t,e)}let c={defaultOrder:"XYZ"};function u(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];let[l,{defaultOrder:h},u]=(()=>{if(1===e.length)return[e[0],c,new r.USm];if(2===e.length)return(0,o.Dr)(e[1])?[e[0],c,e[1]]:[e[0],e[1],new r.USm];if(3===e.length)return e;throw Error("Invalid number of arguments")})();if((0,o.Dr)(l))return u.copy(l);if(Array.isArray(l)){let[t,e,i,r,o]=l,c=s(r)?r:s(o)?o:"rad",f=a(r)?r:a(o)?o:h;return u.set((0,n.FE)(t,c),(0,n.FE)(e,c),(0,n.FE)(i,c),f)}let{x:f,y:d,z:p,order:v=h,unit:g="rad"}=l;return u.set((0,n.FE)(f,g),(0,n.FE)(d,g),(0,n.FE)(p,g),v)}new r.Pa4,new r.USm,new r.Pa4,new r._fP},50864:function(t,e,i){function r(t){return!!t.isVector3}function n(t){return!!t.isEuler}function o(t){return!!t.isMatrix4}function s(t){return!!t.isObject3D}i.d(e,{Dr:function(){return n},Eq:function(){return o},nK:function(){return s},uU:function(){return r}})},20821:function(t,e,i){i.d(e,{FE:function(){return o},Q7:function(){return h},iK:function(){return l},ux:function(){return s}});var r=i(96672);let n={rad:1,deg:Math.PI/180,turn:2*Math.PI};function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rad",i=e,r=0;if("number"==typeof t)r=t;else{let e=t.match(/^\s*(-?[0-9.]+)\s*(\/\s*-?[0-9.]+)?\s*(rad|deg|turn)\s*$/);if(e){let[t,n,o,s]=e;r=Number.parseFloat(n),o&&(r/=Number.parseFloat(o.slice(1))),i=s}else r=Number.parseFloat(t)}return r*n[i]}function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rad";return"".concat((0,r.uf)(t/n[e])).concat(e)}function a(t){return"number"==typeof t}function l(t,e,i,r){if(null!=i||(i=0),null!=r||(r=a),null!=e||(e={x:i,y:i}),null==t)return e;if(r(t))return e.x=t,e.y=t,e;if(Array.isArray(t)){let[i,r]=t;return e.x=i,e.y=r,e}if("width"in t){let{width:i,height:r}=t;return e.x=i,e.y=r,e}let{x:n,y:o}=t;return e.x=n,e.y=o,e}function h(t,e,i,r){if(null!=r||(r=a),null!=i||(i=0),null!=e||(e={x:i,y:i,z:i}),null==t)return e;if(r(t))return e.x=t,e.y=t,e.z=t,e;if(Array.isArray(t)){let[r,n,o=i]=t;return e.x=r,e.y=n,e.z=o,e}if("width"in t){let{width:r,height:n=i,depth:o=i}=t;return e.x=r,e.y=n,e.z=o,e}let{x:n=i,y:o=i,z:s=i}=t;return e.x=n,e.y=o,e.z=s,e}},35357:function(t,e,i){function r(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e.flat(2))"destroy"in t?t.destroy():t()}i.d(e,{N:function(){return n},o:function(){return r}});class n{collect(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e)if(t){if(Symbol.iterator in t)for(let e of t)e&&this.destroyables.push(e);else this.destroyables.push(t)}}constructor(){this.destroyables=[],this.destroy=()=>{r(this.destroyables),this.destroyables=[]}}}},71964:function(t,e,i){var r,n;i.d(e,{_A:function(){return function t(e){if(Object.freeze(e),null!==e&&"object"==typeof e)for(let i in e)t(e[i]);return e}}});let o=new Map;o.set(Date,t=>new Date(t.getTime())),o.set(RegExp,t=>new RegExp(t.source,t.flags)),o.set(DOMPoint,t=>DOMPoint.fromPoint(t)),o.set(DOMRect,t=>DOMRect.fromRect(t)),(n=r||(r={})).None="none",n.NotAnObject="not-an-object",n.InvalidIndex="invalid-index",n.CannotCreateAscendants="cannot-create-ascendants",n.CannotPierceNullOrUndefined="cannot-pierce-null-or-undefined"}}]);