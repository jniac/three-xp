(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5370],{75370:function(e,t,n){"use strict";n.r(t),n.d(t,{Client:function(){return k}});var i=n(32617),r=n(87200);function s(e){let t=e.match(/\s*([0-9.]+)\s*(\/\s*[0-9.]+)?\s*([a-zA-Z]*)\s*?/);if(null===t)throw Error("Invalid number");let[n,i,r,s=""]=t;return[Number.parseFloat(i)/(r?Number.parseFloat(r.slice(1)):1),s]}let l={height:"3/2em",aspect:1.6,strokeWidth:"1px",padding:".3em",active:!1,circleActiveFill:"currentColor"},o=(0,r.forwardRef)(function(e,t){let{height:n,strokeWidth:r,aspect:o,padding:c,active:a,circleActiveFill:d,...u}={...l,...e},[h,m]=s(n),x="".concat(h).concat(m),[f,p]=s(r),v=f.toString()+p,g=(h/2).toString()+m,j=(h*o).toString()+m,y=(f/2).toString()+p;return(0,i.jsxs)("svg",{ref:t,width:j,height:x,stroke:"currentColor",strokeWidth:r,fill:"none",...u,children:[(0,i.jsx)("rect",{x:y,y:y,rx:g,width:"calc(".concat(j," - ").concat(v,")"),height:"calc(".concat(x," - ").concat(v,")")}),(0,i.jsx)("circle",{cx:a?"calc(".concat(j," - ").concat(g,")"):g,cy:g,r:"calc(".concat(g," - ").concat(y," - ").concat(c,")"),fill:a?"currentColor":"transparent",style:{transition:"0.2s"}})]})});var c=n(23657),a=n(87868),d=n(47090),u=n(50864);let h=new a.yGw,m=new a.yGw,x=new a.Pa4,f=new a.Pa4;var p=n(33660),v=n(29368);class g extends a.ZAu{static current(){return this.instances.at(-1)}constructor(){super(),this.parts=(()=>{let e=(0,a.e5)((0,a.fzv)(0)),t=(0,a.Fn)(t=>{let{storageTexture:n}=t,i=a.V7B.modInt(512),r=a.V7B.div(512),s=(0,a.qzT)(i,r),l=(0,a.fzv)(i).div(50),o=(0,a.fzv)(r).div(50),c=l.sin(),d=o.sin(),u=l.add(o).sin(),h=l.mul(l).add(o.mul(o),e.mul(1.2).sin()).sqrt().add(5,e.sin()).sin(),m=c.add(d,u,h),x=e.mul(2).add(l.div(12).add(o.div(32))).sin().remap(-1,1,0,1),f=m.add(Math.PI).sin(),p=m.add(Math.PI).sub(.5).sin();(0,a.YDX)(n,s,(0,a.vhs)(x,f,p,1)).toWriteOnly()});e.onObjectUpdate(()=>v.vB.get("three").time);let n=new a.Kj0(new a._12,new a.AEy({side:a.ehD,color:"#ffcc00"}));this.add(n);let i=new a.Sxh(512,512),r=t({storageTexture:i}).compute(262144);return n.material.colorNode=(0,a.hYO)(i),{plane:n,computeNode:r}})(),this.onDestroy=()=>{g.instances.splice(g.instances.indexOf(this),1)},this.onTick=(e,t)=>{t.renderer.computeAsync(this.parts.computeNode)},g.instances.push(this)}}g.instances=[];var j=n(56997),y=n.n(j);function b(){return(0,i.jsx)("div",{className:"".concat(y().Background," layer flex flex-col text-center items-center justify-center"),children:(0,i.jsx)("div",{style:{margin:"-100px",inset:0},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ad dicta unde totam! Iusto rerum tempore provident dolores voluptas sed neque quisquam corrupti impedit quam eum animi sint, eaque non quae?"})})}function w(){let[e,t]=(0,r.useState)(!1),n=(0,p.Ky)(),{ref:s}=(0,c.sv)(function*(t){let i=t.querySelector("#three-div"),r=g.current();yield n.ticker.onTick({order:-1},s=>{!function(e,t,n,i){let{pixelPerUnit:r=100,resetRotation:s=0,resetScale:l=0,leftHanded:o=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};e.style.perspective=function(e,t){if(0!==e.projectionMatrix.elements[15])return"none";{let n=e.projectionMatrix.elements[5],i=t.clientHeight*n/2;return"".concat(i,"px")}}(n,e),t.style.position="absolute",t.style.left="50%",t.style.top="50%",t.style.transform=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=e.projectionMatrix.elements[5],c=n.clientHeight*o/2,a=c/i,f=function(e,t){if((0,u.nK)(e))return e.matrixWorld;if((0,u.Eq)(e))return e;if((0,u.uU)(e))return t.makeTranslation(e.x,e.y,e.z);throw Error("Invalid object type.")}(t,m);h.multiplyMatrices(e.matrixWorldInverse,f);let p=h.elements;p[4]*=-1,p[5]*=-1,p[6]*=-1,p[8]*=-1,p[9]*=-1,p[10]*=-1;let v=p[14];return p[14]+=l?-1:1,p[0]*=a,p[1]*=a,p[2]*=a,p[4]*=a,p[5]*=a,p[6]*=a,p[8]*=a,p[9]*=a,p[10]*=a,p[12]*=c,p[13]*=c,p[14]*=c,p[1]*=-1,p[5]*=-1,p[9]*=-1,p[13]*=-1,l&&(p[2]*=-1,p[6]*=-1,p[10]*=-1,p[14]*=-1),r>0&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.elements;x.set(n[0],n[1],n[2]);let i=x.length();n[0]=(0,d.t7)(n[0],i,t),n[1]=(0,d.t7)(n[1],0,t),n[2]=(0,d.t7)(n[2],0,t),x.set(n[4],n[5],n[6]);let r=x.length();n[4]=(0,d.t7)(n[4],0,t),n[5]=(0,d.t7)(n[5],r,t),n[6]=(0,d.t7)(n[6],0,t),x.set(n[8],n[9],n[10]);let s=x.length();n[8]=(0,d.t7)(n[8],0,t),n[9]=(0,d.t7)(n[9],0,t),n[10]=(0,d.t7)(n[10],s,t)}(h,r),s>0&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.elements;x.set(i[0],i[1],i[2]);let r=(0,d.t7)(1,t/x.length(),n);i[0]*=r,i[1]*=r,i[2]*=r,x.set(i[4],i[5],i[6]);let s=(0,d.t7)(1,t/x.length(),n);i[4]*=s,i[5]*=s,i[6]*=s,x.set(i[8],i[9],i[10]);let l=(0,d.t7)(1,t/x.length(),n);i[8]*=l,i[9]*=l,i[10]*=l}(h,l?v:-v,s),"translate(-50%, -50%) matrix3d(".concat(h.elements.join(","),")")}(n,i,e,r,s,l,o),t.style.zIndex=(x.set(n.matrixWorld.elements[12],n.matrixWorld.elements[13],n.matrixWorld.elements[14]),function(e,t){if((0,u.nK)(e))return t.setFromMatrixPosition(e.matrixWorld);if((0,u.Eq)(e))return t.setFromMatrixPosition(e);if((0,u.uU)(e))t.copy(e);else throw Error("Invalid object type.")}(i,f),Math.round(1e4/(1+x.distanceTo(f))).toString())}(t,i,n.camera,r),e&&(r.rotation.y+=2*s.deltaTime,r.rotation.x+=1*s.deltaTime)})},[e]);return(0,i.jsxs)("div",{ref:s,className:"layer thru p-8 flex flex-col items-start",children:[(0,i.jsx)(p.ur,{value:g}),(0,i.jsxs)("div",{className:"p-4 bg-white text-[#707070] flex flex-col gap-2",children:[(0,i.jsx)("h1",{className:"text-4xl mb-2",children:"Webgpu Demo"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"✅ Transparent background"}),(0,i.jsx)("li",{children:"✅ TSL"}),(0,i.jsx)("li",{children:"✅ Basic context (resize, tick, render)"}),(0,i.jsx)("li",{children:"✅ Vertigo controls"}),(0,i.jsx)("li",{children:"✅ CSS 3D"})]}),(0,i.jsxs)("button",{className:"flex gap-2",onClick:()=>t(!e),children:["Auto-Rotate",(0,i.jsx)(o,{active:e})]}),(0,i.jsx)("button",{className:"border border-[#707070]",onClick:()=>{var e;return null===(e=g.current())||void 0===e?void 0:e.rotation.set(0,0,0)},children:"Reset Rotation"})]}),(0,i.jsx)("div",{id:"three-div",className:"w-[100px] h-[100px] flex flex-col justify-end items-end select-none uppercase p-1 hover:bg-[#f006]",style:{fontFamily:"'Sofia Sans Extra Condensed', sans-serif",fontWeight:"100",fontSize:"2em",lineHeight:".7em",textTransform:"uppercase"},children:"3D div"})]})}function k(){return(0,i.jsxs)("div",{className:"".concat(y().Client," layer bg-[#707070]"),children:[(0,i.jsx)(b,{}),(0,i.jsx)("div",{className:"layer",children:(0,i.jsx)(p.H7,{vertigoControls:{size:2},children:(0,i.jsx)(w,{})})})]})}},56997:function(e){e.exports={Client:"client_Client__xAYKJ",Background:"client_Background__G4qOA"}}}]);