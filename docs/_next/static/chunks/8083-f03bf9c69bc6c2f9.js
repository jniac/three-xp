"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8083],{29717:(t,e,i)=>{i.d(e,{X5:()=>j});let r=t=>{let e=typeof t;return"number"===e||"bigint"===e||"boolean"===e||"string"===e};class o{get(t){if(!Array.isArray(t))return r(t)?this._valueMap.get(t):this._objectMap.get(t);{let{_multiValueMap:e,_multiObjectMap:i}=this;for(let o=0,s=t.length;o<s;o++){let n=t[o],a=r(n)?e.get(n):i.get(n);if(a)for(let e of a){let{keyCount:i,valueKeys:o,objectKeys:n,value:a}=e;if(i===s&&t.every(t=>r(t)?o.has(t):n.has(t)))return a}}return}}delete(t){if(Array.isArray(t)){let{_multiValueMap:e,_multiObjectMap:i}=this;for(let o=0,s=t.length;o<s;o++){let n=t[o],a=r(n)?e.get(n):i.get(n);if(a)for(let o of a){let{keyCount:l,valueKeys:h,objectKeys:u}=o;if(l===s&&t.every(t=>r(t)?h.has(t):u.has(t)))return a.delete(o),0===a.size&&(r(n)?e.delete(n):i.delete(n)),!0}}return!1}return r(t)?this._valueMap.delete(t):this._objectMap.delete(t)}set(t,e){if(Array.isArray(t)){if(0===t.length)throw Error("Invalid array length!");let{_multiValueMap:i,_multiObjectMap:o}=this,s=t.length;for(let n=0;n<s;n++){let a=t[n],l=r(a)?i.get(a):o.get(a);if(l)for(let i of l){let{keyCount:o,valueKeys:n,objectKeys:a}=i;if(o===s&&t.every(t=>r(t)?n.has(t):a.has(t))){i.value=e;return}}}let n=new Set,a=new WeakSet;for(let e=0;e<s;e++){let i=t[e];r(i)?n.add(i):a.add(i)}let l={valueKeys:n,objectKeys:a,keyCount:s,value:e},h=t.find(t=>!1===r(t));if(void 0!==h){let t=o.get(h);if(t)t.add(l);else{let t=new Set;t.add(l),o.set(h,t)}}else{let e=t.find(t=>r(t)),o=i.get(e);if(o)o.add(l);else{let t=new Set;t.add(l),i.set(e,t)}}}else r(t)?this._valueMap.set(t,e):this._objectMap.set(t,e)}constructor(){this._valueMap=new Map,this._objectMap=new WeakMap,this._multiValueMap=new Map,this._multiObjectMap=new WeakMap}}var s=i(79285);function n(t){return null!==t&&"object"==typeof t}function a(t){if(Array.isArray(t)){let e=t.length,i=Array(e);for(let r=0;r<e;r++){let e=t[r];i[r]=n(e)?a(e):e}return i}{let e={};for(let i in t){let r=t[i];e[i]=n(r)?a(r):r}return e}}function l(t){return!1===n(t)?t:function t(e){for(let i in e){let r=e[i];if(n(r)&&t(r),i.includes("|")){delete e[i];let t=i.split("|");for(let i=t.length-1;i>=0;i--)e[t[i]]=n(r)?a(r):r}}return e}(function t(e){for(let i in e){let r=e[i];if(n(r)&&t(r),i.includes(".")){delete e[i];let t=i.split(".");for(let e=t.length-1;e>=1;e--)r={[t[e]]:r};e[t[0]]=r;continue}}return e}(a(t)))}var h=i(37197);let u=(t,e,i)=>{let r=1-i,o=i*i;return 3*r*r*i*t+3*r*o*e+o*i},d=function(t,e,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-4,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;if(i<=o)return 0;if(i>=1-o)return 1;let h=0,d=0,c=0;for(let p=0;p<r;p++){if(Math.abs(h=i-(d=u(t,e,c=(s+n)/2)))<=o)return c;h<0?(n=c,l=d):(s=c,a=d)}return s+(n-s)*(i-a)/(l-a)},c=(t,e,i,r,o,s,n)=>u(e,r,d(t,i,o,s,n));var p=i(40074);let f={linear:p.kY.linear,in1:p.kY.in1,in2:p.kY.in2,in3:p.kY.in3,in4:p.kY.in4,in5:p.kY.in5,in6:p.kY.in6,out1:p.kY.out1,out2:p.kY.out2,out3:p.kY.out3,out4:p.kY.out4,out5:p.kY.out5,out6:p.kY.out6,inOut1:p.kY.inOut1,inOut2:p.kY.inOut2,inOut3:p.kY.inOut3,inOut4:p.kY.inOut4,inOut5:p.kY.inOut5,inOut6:p.kY.inOut6},m=new Map;function g(t){var e,i,r;if("function"==typeof t)return t;if(t in f)return f[t];if(t.startsWith("cubic-bezier(")&&t.endsWith(")"))return null!=(e=m.get(t))?e:function(t){let[e,i,r,o]=t.slice(13,-1).trim().split(/\s*,\s*/).map(t=>Number.parseFloat(t)),s=t=>c(e,i,r,o,t);return m.set(t,s),s}(t);if(t.startsWith("inOut(")&&t.endsWith(")"))return null!=(i=m.get(t))?i:function(t){let[e,i=.5]=t.trim().slice(6,-1).split(/\s*,\s*/).map(t=>Number.parseFloat(t)),r=t=>p.kY.inOut(t,e,i);return m.set(t,r),r}(t);if("elasticInPlace"===t||t.startsWith("elasticInPlace(")&&t.endsWith(")"))return null!=(r=m.get(t))?r:function(t){let[e,i]=t.trim().slice(15,-1).split(/\s*,\s*/).map(t=>Number.parseFloat(t)),r=t=>h.$p.elastic(t,e,i);return m.set(t,r),r}(t);throw Error('Invalid argument for Animation.ease(): "'.concat(t,'"'))}class v{add(t,e){var i;(null!=(i=this.map.get(t))?i:(t=>{let e=new Set;return this.map.set(t,e),e})(t)).add(e)}clear(t){var e;null==(e=this.map.get(t))||e.clear()}get(t){var e,i;return null!=(i=null==(e=this.map.get(t))?void 0:e[Symbol.iterator]())?i:v.empty}constructor(){this.map=new Map}}v.empty=[][Symbol.iterator]();let y=new v,w=new v,M=new o,b=0;class O{get progressOld(){return this.timeOld/this.duration}get complete(){return 1===this.progress}get delayed(){return this.unclampedTime<0}get deltaTime(){return this.time-this.timeOld}get direction(){return this.progress>=this.progressOld?"forward":"backward"}onUpdate(t){return y.add(this.id,t),this}onStart(t){return this.onUpdate(e=>{let{progress:i,progressOld:r}=e;i>0&&0===r&&t(this)})}onComplete(t){return this.onUpdate(()=>{1===this.progress&&t(this)})}onThreshold(t,e){let{threshold:i=.5,direction:r="both",mode:o="reach"}=t;return this.onUpdate(t=>{let{progress:s,progressOld:n}=t;("both"===r||this.direction===r)&&(("reach"===o?s>=i&&n<i:s>i&&n<=i)||("reach"===o?s<=i&&n>i:s<i&&n>=i))&&e(this)})}onPass(t,e){return this.onThreshold({threshold:t,mode:"pass"},e)}onReach(t,e){return this.onThreshold({threshold:t,mode:"reach"},e)}onDestroy(t){return w.add(this.id,t),this}requestDestroy(){this.destroyHasBeenRequested=!0}set(){let{paused:t,time:e,progress:i,timeScale:r,delay:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==i&&Number.isFinite(i)&&(e=i*this.duration),void 0!==e&&Number.isFinite(e)&&(this.unclampedTime=e),void 0!==t&&(this.paused=t),void 0!==r&&(this.timeScale=r),void 0!==o&&this.applyDelay(o),this}applyDelay(t){return this.timeScale>0?this.unclampedTime=-t:this.unclampedTime=this.duration+t,this}pause(t){return"number"==typeof t&&(t={time:t}),this.set({...t,paused:!0})}play(t){return"number"==typeof t&&(t={time:t}),this.set({...t,paused:!1})}reverse(t){return"number"==typeof t&&(t={time:t}),this.set({...t,timeScale:-this.timeScale})}didPassAbove(t){let{time:e,progress:i}=t;return void 0!==e?this.timeOld<e&&this.time>=e:void 0!==i&&this.progressOld<i&&this.progress>=i}didPassBelow(t){let{time:e,progress:i}=t;return void 0!==e?this.timeOld>=e&&this.time<e:void 0!==i&&this.progressOld>=i&&this.progress<i}didPass(t){return this.didPassAbove(t)||this.didPassBelow(t)}constructor(t,e,i,r,o,s){var n=this;this.id=b++,this.destroyHasBeenRequested=!1,this.paused=!1,this.time=0,this.timeOld=0,this.progress=0,this.destroy=()=>this.requestDestroy(),this.progressLerp=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear";return t+(e-t)*g(i)(n.progress)},this.duration=t,this.delay=e,this.frame=0,this.timeScale=i,this.unclampedTimeOld=this.unclampedTime=-e,this.target=r,this.autoDestroy=o,this.prerun=null!=s?s:e>0}}let z=[],A=t=>{for(let e of w.get(t.id))e(t);y.clear(t.id),w.clear(t.id),function(t){let{target:e}=t;if(void 0!==e){let i=M.get(e);i&&(i.delete(t),0===i.size&&M.delete(e))}}(t)},k=t=>{let e=M.get(t);if(e)for(let t of e)t.requestDestroy()},P=(t,e)=>{!1===I&&T();let{target:i}=e;return void 0!==i&&(t&&k(i),!function(t){let{target:e}=t;if(void 0!==e){let i=M.get(e);void 0===i&&(i=new Set,M.set(e,i)),i.add(t)}}(e)),z.push(e),e},S=t=>{for(let e=0,i=z.length;e<i;e++){let i=z[e];if(i.destroyHasBeenRequested)continue;!1===i.paused&&(i.timeScale>0?i.unclampedTime<i.duration:i.unclampedTime>0)&&(i.unclampedTime+=t*i.timeScale),i.timeOld=i.time,i.time=(0,s.clamp)(i.unclampedTime,0,i.duration);let r=0===i.duration;i.progress=r?1:Number.isFinite(i.duration)?(0,s.saturate)(i.time/i.duration):0;let o=i.unclampedTime!==i.unclampedTimeOld&&(i.unclampedTimeOld>=0&&i.unclampedTimeOld<=i.duration||i.unclampedTime>=0&&i.unclampedTime<=i.duration),n=0===i.frame&&i.prerun;if(o||n||r)for(let t of y.get(i.id)){switch(t(i)){case"pause":i.pause();break;case"destroy":i.requestDestroy()}i.frame++}i.unclampedTimeOld=i.unclampedTime}let e=new Set;for(let t of(z=z.filter(t=>!t.destroyHasBeenRequested&&(!t.autoDestroy||!t.complete)||(e.add(t),!1)),e))A(t)},E=-1,I=!1;function T(){I=!0;let t=window.performance.now(),e=i=>{E=window.requestAnimationFrame(e),S((-t+(t=i))/1e3)};E=window.requestAnimationFrame(e)}let Y={duration:1,delay:0,timeScale:1,target:void 0,clear:!1,autoDestroy:!0,prerun:void 0},x={...function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Object.fromEntries(Object.entries(t).filter(t=>{let[e]=t;return!i.includes(e)}))}(Y,"target"),ease:"inOut2"};class F extends O{add(t){for(let e of Array.isArray(t)?t:[t])!function t(e,i,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)t(e[s],i,r,o);return o}if(!1===n(e)||!1===n(null!=i?i:r))return o;for(let s in null!=i?i:r){let a=(null!=i?i:e)[s],l=(null!=r?r:e)[s];if(n(l))if(!1===n(a))throw Error("Tween from/to pair association error!");else t(e[s],i&&a,r&&l,o);else o.push({from:a,to:l,key:s,target:e})}return o}(e.target,l(e.from),l(e.to),this.entries);return this}constructor(...t){super(...t),this.entries=[]}}let j={remap:function(t,e,i,r,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"inOut2",n=(t-e)/(i-e);return r+(o-r)*("function"==typeof s?s:g(s))(n<0?0:n>1?1:n)},ease:g,lerp:s.lerp,during:function(t){"number"==typeof t&&(t={duration:t});let{clear:e,duration:i,delay:r,timeScale:o,target:s,autoDestroy:n,prerun:a}={...Y,...t};return P(e,new O(i,r,o,s,n,a))},tween:function(t){let{clear:e,duration:i,delay:r,timeScale:o,ease:s,autoDestroy:n,prerun:a,target:l,from:h,to:u}={...x,...t},d=P(e,new F(i,r,o,l,n,a));(null!=h?h:u)&&d.add({target:l,from:h,to:u});let c="function"==typeof s?s:g(s);return d.onUpdate(t=>{let{progress:e}=t,i=c(e),{entries:r}=d;for(let t=0,e=r.length;t<e;t++){let{target:e,key:o,from:s,to:n}=r[t];e[o]=s+(n-s)*i}}),d},existing:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];let r=[];for(let t of e){let e=M.get(t);e&&r.push(...e)}return r},clear:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e)k(t);return j},safewords:["pause","destroy"],core:{instancesCount:()=>z.length,instances:()=>[...z],updateInstances:S,startAnimationLoop:T,stopAnimationLoop:function(){window.cancelAnimationFrame(E)}}}},31107:(t,e,i)=>{i.d(e,{B:()=>d});var r=i(49797),o=i(28340),s=i(96273);let n=new r.kn4,a=new r.Pq0,l=new r.PTz,h=new r.PTz,u={fov:"45deg",perspective:1,zoom:1,focus:[0,0,0],size:[4,4],before:1e3,after:1e3,rotation:[0,0,0,"YXZ"],frame:"contain",allowOrthographic:!0,fovEpsilon:"1.5deg",nearMin:.1};class d{static get default(){return c}set(t){let{perspective:e,fov:i,zoom:r,focus:o,size:n,before:a,after:l,rotation:h,frame:u,allowOrthographic:d,fovEpsilon:c,nearMin:p}=t;return void 0!==e&&(this.perspective=e),void 0!==i&&(this.fov=(0,s.ey)(i)),void 0!==r&&(this.zoom=r),void 0!==o&&(0,s.jj)(o,this.focus),void 0!==n&&(0,s.wX)(n,this.size),void 0!==a&&(this.before=a),void 0!==l&&(this.after=l),void 0!==h&&(0,s.if)(h,{defaultOrder:"YXZ"},this.rotation),void 0!==u&&(this.frame="string"==typeof u?+("cover"!==u):u),void 0!==d&&(this.allowOrthographic=d),void 0!==c&&(this.fovEpsilon=(0,s.ey)(c)),void 0!==p&&(this.nearMin=p),this}copy(t){return this.perspective=t.perspective,this.fov=t.fov,this.zoom=t.zoom,this.focus.copy(t.focus),this.size.copy(t.size),this.before=t.before,this.after=t.after,this.rotation.copy(t.rotation),this.frame=t.frame,this.allowOrthographic=t.allowOrthographic,this.fovEpsilon=t.fovEpsilon,this.nearMin=t.nearMin,this}clone(){return new d().copy(this)}lerpVertigos(t,e,i){this.perspective=t.perspective+(e.perspective-t.perspective)*i,this.fov=t.fov+(e.fov-t.fov)*i;let r=Math.log(t.zoom)/Math.log(.001),o=r+(Math.log(e.zoom)/Math.log(.001)-r)*i;return this.zoom=.001**o,this.focus.lerpVectors(t.focus,e.focus,i),this.size.lerpVectors(t.size,e.size,i),this.before=t.before+(e.before-t.before)*i,this.after=t.after+(e.after-t.after)*i,l.setFromEuler(t.rotation),h.setFromEuler(e.rotation),this.rotation.setFromQuaternion(l.slerp(h,i)),this.frame=t.frame+(e.frame-t.frame)*i,this.allowOrthographic=i<.5?t.allowOrthographic:e.allowOrthographic,this.fovEpsilon=t.fovEpsilon+(e.fovEpsilon-t.fovEpsilon)*i,this.nearMin=t.nearMin+(e.nearMin-t.nearMin)*i,this}lerp(t,e){return this.lerpVertigos(this,t,e)}apply(t,e){let i=this.size.x/this.size.y/e,r=1+(i>1?this.frame:1-this.frame)*(i-1),o=this.size.y/this.zoom,s=o*r,l=this.fovEpsilon,h=this.perspective*this.fov;!this.allowOrthographic&&h<l&&(h=l);let u=o/2/Math.tan(h/2),d=h>=l,c=d?u:this.before+this.nearMin;if(n.makeRotationFromEuler(this.rotation),a.set(n.elements[8],n.elements[9],n.elements[10]).multiplyScalar(c).add(this.focus),t.position.copy(a),t.rotation.copy(this.rotation),t.updateMatrix(),t.updateMatrixWorld(!0),t.isPerspectiveCamera=d,t.isOrthographicCamera=!d,d){let i=Math.max(this.nearMin/this.zoom,u-this.before),r=u+this.after,o=s*i/u/2,n=o*e;t.fov=180*h/Math.PI,t.near=i,t.far=r,t.projectionMatrix.makePerspective(-n,n,o,-o,i,r)}else{let i=-this.before,r=this.after+this.before,o=s/2,n=o*e;t.fov=0,t.near=i,t.far=r,t.projectionMatrix.makeOrthographic(-n,n,o,-o,i,r)}return t.projectionMatrixInverse.copy(t.projectionMatrix).invert(),this.computedNdcScalar.set(r*e,r),this.computedSize.set(s*e,s),this}toDeclaration(){let t=[(0,s.wz)(this.rotation.x,"deg"),(0,s.wz)(this.rotation.y,"deg"),(0,s.wz)(this.rotation.z,"deg"),this.rotation.order];return{perspective:this.perspective,fov:(0,s.wz)(this.fov,"deg"),zoom:this.zoom,focus:this.focus.toArray(),size:this.size.toArray(),before:this.before,after:this.after,rotation:t,frame:this.frame,allowOrthographic:this.allowOrthographic,fovEpsilon:(0,s.wz)(this.fovEpsilon,"deg"),nearMin:this.nearMin}}constructor(t){this.focus=new r.Pq0,this.size=new r.I9Y,this.rotation=new r.O9p,this.computedNdcScalar=new r.I9Y,this.computedSize=new r.I9Y,this.set({...u,...t})}}let c=(0,o.ol)(new d)},37197:(t,e,i)=>{i.d(e,{$p:()=>r});let r={sin:t=>Math.sin(Math.PI*t),cos:t=>.5+.5*Math.cos(2*Math.PI*(t-.5)),pow:(t,e)=>1-Math.abs(2*t-1)**e,iqPower:(t,e,i)=>Math.pow(e+i,e+i)/(Math.pow(e,e)*Math.pow(i,i))*Math.pow(t,e)*Math.pow(1-t,i),unnormalizedElastic:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.sin(2*e*Math.PI*t)*Math.pow(1-t,i)},elastic:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=2/3+.4*(e-1)/e;return(Math.pow(1-1/(4*e),-i)*r+1-r)*Math.sin(2*e*Math.PI*t)*Math.pow(1-t,i)}}},39787:(t,e,i)=>{function r(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e.flat(2))"destroy"in t?t.destroy():t()}i.d(e,{e:()=>o,z:()=>r});class o{collect(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e)if(t)if(Symbol.iterator in t)for(let e of t)e&&this.destroyables.push(e);else this.destroyables.push(t)}constructor(){this.destroyables=[],this.destroy=()=>{r(this.destroyables),this.destroyables=[]}}}},40074:(t,e,i)=>{i.d(e,{kY:()=>a,o8:()=>n,ol:()=>s});let r=t=>Math.max(0,Math.min(1,t)),o=t=>r(t),s=t=>t<0?0:t>1?1:t<.5?2*t*t:1-2*(t=1-t)*t,n=t=>t<0?0:t>1?1:t<.5?8*t*t*t*t:1-8*(t=1-t)*t*t*t,a={linear:o,in:(t,e)=>r(t)**e,in1:o,in2:t=>(t=r(t))*t,in3:t=>(t=r(t))*t*t,in4:t=>(t=r(t))*t*t*t,in5:t=>(t=r(t))*t*t*t*t,in6:t=>(t=r(t))*t*t*t*t*t,out:(t,e)=>1-r(1-t)**e,out1:o,out2:t=>1-(t=r(1-t))*t,out3:t=>1-(t=r(1-t))*t*t,out4:t=>1-(t=r(1-t))*t*t*t,out5:t=>1-(t=r(1-t))*t*t*t*t,out6:t=>1-(t=r(1-t))*t*t*t*t*t,inOut:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return t<0?0:t>1?1:t<i?1/Math.pow(i,e-1)*Math.pow(t,e):1-1/Math.pow(1-i,e-1)*Math.pow(1-t,e)},inOut1:o,inOut2:s,inOut3:t=>t<0?0:t>1?1:t<.5?4*t*t*t:1-4*(t=1-t)*t*t,inOut4:n,inOut5:t=>t<0?0:t>1?1:t<.5?16*t*t*t*t*t:1-16*(t=1-t)*t*t*t*t,inOut6:t=>t<0?0:t>1?1:t<.5?32*t*t*t*t*t*t:1-32*(t=1-t)*t*t*t*t*t,inLinearOut:(t,e,i,r)=>{let o=1e-6>Math.abs(e-1)?1/Math.E:(1/e)**(1/(e-1)),s=1e-6>Math.abs(i-1)?1/Math.E:(1/i)**(1/(i-1)),n=(o+s)/(1-r),a=o**e,l=n-o+a-s+s**i;return t<0?0:t>1?1:r>=1?t:t<o/n?(t*n)**e/l:t>1-s/n?1-((1-t)*n)**i/l:(t*n-o+a)/l},asymmetricalInOut:(t,e,i)=>Math.pow(t,e)/(Math.pow(t,e)+Math.pow(1-t,i))}},48083:(t,e,i)=>{i.d(e,{n:()=>w});var r,o=i(49797),s=i(72598),n=i(29717),a=i(63126),l=i(39787),h=i(96273),u=i(31107);let d=new o.PTz,c=new o.Pq0,p=new o.Pq0,f=new o.Pq0;function m(t){d.setFromEuler(t),c.set(1,0,0).applyQuaternion(d),p.set(0,1,0).applyQuaternion(d),f.crossVectors(c,p)}let g=["shift","alt","control","meta"];function v(t,e){return e.every(e=>t["".concat(e,"Key")])}function y(t){return t.split("+").filter(t=>{if(""===t)return!1;let e=g.includes(t);return e||console.warn("Invalid input: ".concat(t)),e})}class w extends l.e{parsePanInputs(t){this.panInputs=y(t)}parseOrbitInputs(t){this.orbitInputs=y(t)}pan(t,e){m(this.vertigo.rotation);let i=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(c,t*i).addScaledVector(p,e*i)}dolly(t){m(this.vertigo.rotation);let e=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(f,t*e)}orbit(t,e){this.vertigo.rotation.x+=t,this.vertigo.rotation.y+=e}rotate(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this.orbit(...e)}zoomAt(t,e){let i=this.vertigo.size.x/this.vertigo.zoom,r=this.vertigo.size.y/this.vertigo.zoom,o=this.vertigo.size.x/t,s=this.vertigo.size.y/t;m(this.vertigo.rotation);let{x:n,y:a}=e;this.vertigo.focus.addScaledVector(c,-((o-i)*n)).addScaledVector(p,-((s-r)*a)),this.vertigo.zoom=t}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if("string"==typeof t&&(t=document.querySelector(t)),!(t instanceof HTMLElement))throw Error("Invalid element: ".concat(t));return this.element=t,this}*doStart(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!=(r=this.element)?r:document.body;yield function(t,e){for(let[i,r]of Object.entries(e))t.addEventListener(i,r);return{destroy(){for(let[i,r]of Object.entries(e))t.removeEventListener(i,r)}}}(t,{contextmenu:t=>{t.preventDefault()}});let e=new o.I9Y;yield(0,s.s)(t,{onChange:i=>{let r=t.getBoundingClientRect(),o=(i.localPosition.x-r.x)/r.width*2-1,s=-((i.localPosition.y-r.y)/r.height*2-1);e.set(o/2,s/2).multiply(this.dampedVertigo.computedNdcScalar)},dragButton:-1,onDrag:t=>{let e=t.altKey?.2:t.shiftKey?5:1;switch(t.button){case s.m.Left:v(t,this.orbitInputs)&&this.orbit(-.01*t.delta.y*e,-.01*t.delta.x*e);break;case s.m.Right:v(t,this.panInputs)&&this.pan(-.025*t.delta.x*e,.025*t.delta.y*e)}},wheelPreventDefault:!0,onWheel:t=>{switch(this.inputConfig.wheel){case"zoom":{let i=this.vertigo.zoom*(1-.001*t.delta.y);t.event.altKey?this.zoomAt(i,e):this.zoomAt(i,{x:0,y:0});break}case"dolly":this.dolly(.01*t.delta.y)}}})}start(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return!1===this.started&&(this.started=!0,this.collect(this.doStart(...e))),this}stop(){this.started&&(this.started=!1,this.destroy())}toggle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.started;t?this.start():this.stop()}update(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/60,r=(0,a.calculateExponentialDecayLerpRatio)(this.dampingDecayFactor,i);this.dampedVertigo.lerp(this.vertigo,r).apply(t,e)}constructor(t={}){super(),this.dampingDecayFactor=1e-4,this.vertigo=new u.B,this.dampedVertigo=new u.B,this.inputConfig={wheel:"zoom"},this.actions={togglePerspective:()=>{let t=this.vertigo.perspective>.5?0:1;n.X5.tween({target:[this.vertigo,"perspective"],to:{perspective:t},duration:1,ease:"inOut3"})},focus:t=>{n.X5.tween({target:this.vertigo.focus,to:(0,h.jj)(t),duration:1,ease:"inOut3"})},rotate:(t,e,i)=>{let r=new o.PTz().setFromEuler(this.vertigo.rotation),s=new o.PTz().setFromEuler(new o.O9p(t,e,i,"YXZ")),a=new o.PTz;n.X5.during({target:[this.vertigo,"rotation"],duration:1}).onUpdate(t=>{let{progress:e}=t;a.slerpQuaternions(r,s,n.X5.ease("inOut3")(e)),this.vertigo.rotation.setFromQuaternion(a)})},positiveXAlign:()=>{this.actions.rotate(0,Math.PI/2,0)},negativeXAlign:()=>{this.actions.rotate(0,-Math.PI/2,0)},positiveYAlign:()=>{this.actions.rotate(-Math.PI/2,0,0)},negativeYAlign:()=>{this.actions.rotate(Math.PI/2,0,0)},positiveZAlign:()=>{this.actions.rotate(0,0,0)},negativeZAlign:()=>{this.actions.rotate(0,Math.PI,0)}},this.panInputs=[],this.orbitInputs=[],this.started=!1,this.vertigo.set(t),this.dampedVertigo.set(t)}}}}]);