"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4831],{74831:function(e,t,n){n.d(t,{M:function(){return l},w:function(){return T}});class i{clone(){let e=Object.create(this);for(let[t,n]of Object.entries(this))e[t]=function e(t){if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);switch(t.constructor){case DOMPoint:return DOMPoint.fromPoint(t);case DOMRect:return DOMRect.fromRect(t);case Object:{let n=Object.create(t);for(let i of Object.keys(t))n[i]=e(t[i]);return n}}throw Error("Unsupported value type: ".concat(t.constructor))}(n);return Object.freeze(e)}}class o{get targetElement(){throw Error("Not implemented")}get button(){throw Error("Not implemented")}getLocalPosition(e){let t=this.targetElement.getBoundingClientRect(),{x:n,y:i}=this.position;return null!=e||(e={}),e.x=n-t.x,e.y=i-t.y,e}get localPosition(){return this.getLocalPosition(new DOMPoint)}getRelativeLocalPosition(e){let{x:t,y:n}=this.localPosition,i=this.targetElement.getBoundingClientRect();return null!=e||(e={}),e.x=(t-i.x)/i.width,e.y=(n-i.y)/i.height,e}get relativeLocalPosition(){return this.getRelativeLocalPosition(new DOMPoint)}constructor(){this.position=new DOMPoint}}class s extends o{get targetElement(){let e=this.event.target;if(e instanceof Element)return e;throw Error("targetElement is not an Element")}get button(){return this.event instanceof MouseEvent?this.event.button:this.event instanceof PointerEvent?this.event.button:0}get localPosition(){let e=this.targetElement.getBoundingClientRect(),{x:t,y:n}=this.position;return new DOMPoint(t-e.x,n-e.y)}constructor(e=!1,t=!1,n=new DOMPoint,i=new DOMPoint,o=null){super(),this.entered=e,this.pressed=t,this.downPosition=n,this.upPosition=i,this.event=o}}let r=["onDown","onUp","onChange","onEnter","onLeave"];var a,l,u=n(9710);(a=l||(l={}))[a.Main=0]="Main",a[a.Aux=1]="Aux",a[a.Second=2]="Second",a[a.Fourth=3]="Fourth",a[a.Fifth=4]="Fifth",a[a.DoubleTouch=5]="DoubleTouch",a[a.Left=0]="Left",a[a.Middle=1]="Middle",a[a.Right=2]="Right";class c extends o{get button(){return this._button}constructor(...e){super(...e),this.direction="horizontal",this.startPosition=new DOMPoint,this.position=new DOMPoint,this.positionOld=new DOMPoint,this.movement=new DOMPoint,this.delta=new DOMPoint,this.deltaTime=1/60,this.shiftKey=!1,this.metaKey=!1,this.altKey=!1,this.ctrlKey=!1,this._button=0}}let d={dragDistanceThreshold:10,dragPreventDefault:!1,dragButton:1<<l.Main,dragEaseFactor:1,dragTickOrder:void 0},v=["onDragStart","onDragStop","onDrag","onVerticalDragStart","onVerticalDragStop","onVerticalDrag","onHorizontalDragStart","onHorizontalDragStop","onHorizontalDrag"],m={},h=["onFocusEnter","onFocusLeave"];var w=n(58648);let p=["onPressStart","onPressStop","onPressFrame"];class y extends o{get targetElement(){return this.tapTarget}get button(){return this.orignalDownEvent.button}getLocalDownPosition(e){let{x:t,y:n}=this.localPosition;return null!=e||(e={}),e.x=t,e.y=n,e}get localDownPosition(){return this.localPosition}constructor(e,t,n,i,o){super(),this.timestamp=e,this.tapTarget=t,this.downTarget=n,this.downPosition=i,this.orignalDownEvent=o,this.position=i}}let E={maxDistance:10,maxDuration:.3},f=["onTap"];var x=n(77405);class g extends i{constructor(...e){super(...e),this.time=-1,this.rawDeltaTime=-1,this.deltaTime=-1,this.delta=new DOMPoint,this.phase="start",this.event=null}}let L={wheelPreventDefault:!1},D=["onWheel","onWheelStart","onWheelEnd"];class P extends i{constructor(e=0,t=0,n=new DOMPoint,i="start"){super(),this.time=e,this.deltaTime=t,this.delta=n,this.phase=i}}let O={preventDefault:!1,wheelFrameTickOrder:void 0},M=["onWheelFrame","onWheelFrameStart","onWheelFrameEnd"];class b{add(e){if(this.data.length===this.capacity){let e=this.data.shift();this.sum.x-=e.x,this.sum.y-=e.y,this.sum.z-=e.z}this.data.push(e),this.sum.x+=e.x,this.sum.y+=e.y,this.sum.z+=e.z;let t=this.data.length;this.average.x=this.sum.x/t,this.average.y=this.sum.y/t,this.average.z=this.sum.z/t}constructor(e=5){this.capacity=e,this.data=[],this.sum=new DOMPoint,this.average=new DOMPoint}}function T(e,t){let n=[];for(let i of"length"in e?Array.from(e):[e])(function(e){return r.some(t=>t in e)})(t)&&n.push(function(e,t){let n={touchStarted:!1,touchTimestamp:-1};function i(){return n.touchStarted||n.touchTimestamp>Date.now()-1e3}let o=new s,r=(e,n,i)=>{var s;o.pressed=!0,o.downPosition.x=n,o.downPosition.y=i,l(e,n,i),null===(s=t.onDown)||void 0===s||s.call(t,o)},a=(e,n,i)=>{var s;o.pressed=!1,o.upPosition.x=n,o.upPosition.y=i,l(e,n,i),null===(s=t.onUp)||void 0===s||s.call(t,o),o.position.x=-1,o.position.y=-1},l=(e,n,i)=>{if(o.position.x!==n||o.position.y!==i){var s;o.event=e,o.position.x=n,o.position.y=i,null===(s=t.onChange)||void 0===s||s.call(t,o)}},u=e=>{!1===i()&&r(e,e.clientX,e.clientY)},c=e=>{!1===i()&&a(e,e.clientX,e.clientY)},d=e=>{!1===i()&&l(e,e.clientX,e.clientY)},v=()=>{document.body.addEventListener("mouseup",h),w()},m=()=>{p()},h=()=>{o.pressed=!1,p(),document.documentElement.removeEventListener("mouseup",h)},w=()=>{if(!1===o.entered){var e;o.entered=!0,null===(e=t.onEnter)||void 0===e||e.call(t,o)}},p=()=>{if(o.entered&&!1===o.pressed){var e;o.entered=!1,null===(e=t.onLeave)||void 0===e||e.call(t,o)}},y=e=>{1===e.touches.length&&(n.touchStarted=!0,n.touchTimestamp=Date.now(),r(e,e.touches[0].clientX,e.touches[0].clientY))},E=e=>{0===e.touches.length&&(n.touchStarted=!1,n.touchTimestamp=Date.now(),a(e,e.changedTouches[0].clientX,e.changedTouches[0].clientY))},f=e=>{1===e.touches.length&&(n.touchTimestamp=Date.now(),l(e,e.touches[0].clientX,e.touches[0].clientY))};return e.addEventListener("mouseover",v),e.addEventListener("mouseout",m),e.addEventListener("mousedown",u),e.addEventListener("mouseup",c),e.addEventListener("mousemove",d),e.addEventListener("touchstart",y,{passive:!1}),e.addEventListener("touchend",E,{passive:!1}),e.addEventListener("touchmove",f,{passive:!1}),()=>{e.removeEventListener("mouseover",v),e.removeEventListener("mouseout",m),e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",c),e.removeEventListener("mousemove",d),e.removeEventListener("touchstart",y),e.removeEventListener("touchend",E),e.removeEventListener("touchmove",f),document.body.removeEventListener("mouseup",h)}}(i,t)),function(e){return v.some(t=>t in e)}(t)&&n.push(function(e,t){let{dragDistanceThreshold:n,dragPreventDefault:i,dragButton:o,dragEaseFactor:s,dragTickOrder:r,onDragStart:a,onDragStop:v,onDrag:m,onVerticalDragStart:h,onVerticalDragStop:w,onVerticalDrag:p,onHorizontalDragStart:y,onHorizontalDragStop:E,onHorizontalDrag:f}={...d,...t},x=!1,g=!1,L=!1,D=-1,P=new DOMPoint(0,0),O=new c,{startPosition:M,position:b,positionOld:T,movement:z,delta:F}=O,X=()=>{D=void 0===r?window.requestAnimationFrame(B):u.vB.current().requestAnimationFrame(B,{order:r})},Y=()=>{void 0===r?window.cancelAnimationFrame(D):u.vB.current().cancelAnimationFrame(D)},K=(e,t)=>{X(),x=!0,M.x=e,M.y=t,P.x=e,P.y=t},C=()=>{switch(g=!0,F.x=0,F.y=0,z.x=0,z.y=0,b.x=M.x,b.y=M.y,null==a||a(O),O.direction){case"horizontal":null==y||y(O);break;case"vertical":null==h||h(O)}},S=()=>{switch(g=!1,null==v||v(O),O.direction){case"horizontal":null==E||E(O);break;case"vertical":null==w||w(O)}},A=(e,t)=>{T.x=b.x,T.y=b.y,b.x+=(e-b.x)*s,b.y+=(t-b.y)*s,F.x=b.x-T.x,F.y=b.y-T.y,z.x=b.x-M.x,z.y=b.y-M.y},R=()=>{switch(L?A(P.x,P.y):A(M.x,M.y),null==m||m(O),O.direction){case"horizontal":null==f||f(O);break;case"vertical":null==p||p(O)}},k=0,B=e=>{if(O.deltaTime=(e-k)/1e3,k=e,x){X();let e=M.x-P.x,t=M.y-P.y;L=Math.sqrt(e*e+t*t)>n,!1===g&&L&&(O.direction=Math.abs(e/t)>=1?"horizontal":"vertical",C()),g&&R()}},q=e=>{O._button=e.button,o&1<<e.button&&(window.addEventListener("mousemove",j,{passive:!1}),window.addEventListener("mouseup",V),K(e.clientX,e.clientY))},j=e=>{P.x=e.clientX,P.y=e.clientY,O.shiftKey=e.shiftKey,O.metaKey=e.metaKey,O.altKey=e.altKey,O.ctrlKey=e.ctrlKey,g&&i&&e.preventDefault()},V=()=>{window.removeEventListener("mousemove",j),window.addEventListener("mouseup",V),g&&S(),x=!1},_=null,I=e=>{if(o&1<<l.Main){let t=e.changedTouches[0];null===_&&(_=t,window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",Z),X(),x=!0,F.x=0,F.y=0,z.x=0,z.y=0,M.x=t.clientX,M.y=t.clientY,b.x=t.clientX,b.y=t.clientY,P.x=t.clientX,P.y=t.clientY)}},W=e=>{let t=e.changedTouches[0];t.identifier===_.identifier&&(P.x=t.clientX,P.y=t.clientY,O.shiftKey=e.shiftKey,O.metaKey=e.metaKey,O.altKey=e.altKey,O.ctrlKey=e.ctrlKey,g&&i&&e.preventDefault())},Z=e=>{e.changedTouches[0].identifier===_.identifier&&(window.removeEventListener("touchmove",W),window.removeEventListener("touchend",Z),g&&S(),x=!1,_=null)};return e.addEventListener("mousedown",q,{passive:!1}),e.addEventListener("touchstart",I,{passive:!1}),()=>{e.removeEventListener("mousedown",q),e.removeEventListener("touchstart",I),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",V),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",Z),Y()}}(i,t)),function(e){return h.some(t=>t in e)}(t)&&n.push(function(e,t){let{onFocusEnter:n,onFocusLeave:i}={...m,...t},o=()=>{e.addEventListener("blur",s),null==n||n({})},s=()=>{e.removeEventListener("blur",s),null==i||i({})};return e.addEventListener("focus",o),()=>{e.removeEventListener("focus",o),e.removeEventListener("blur",s)}}(i,t)),function(e){return p.some(t=>t in e)}(t)&&n.push(function(e,t){let{onPressStart:n,onPressStop:i,onPressFrame:o}=t,s=!1,r=-1,a=new DOMPoint(0,0),l=new DOMPoint(0,0),u=new DOMPoint(0,0),c={position:l,delta:u,target:e,targetRectOnDown:new w.Ae,get pointerIsInside(){return c.targetRectOnDown.contains(a.x,a.y)}},d=()=>{s&&(r=window.requestAnimationFrame(d),u.x=a.x-l.x,u.y=a.y-l.y,l.x+=u.x,l.y+=u.y,null==o||o(c))},v=t=>{window.addEventListener("mousemove",m),window.addEventListener("mouseup",h),r=window.requestAnimationFrame(d),s=!0,c.targetRectOnDown.copy(e.getBoundingClientRect()),u.x=0,u.y=0,l.x=t.clientX,l.y=t.clientY,a.x=t.clientX,a.y=t.clientY,null==n||n(c)},m=e=>{a.x=e.clientX,a.y=e.clientY},h=()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",h),s=!1,null==i||i(c)},p=t=>{t.preventDefault();let i=t.touches[0];i&&(window.addEventListener("touchmove",y),window.addEventListener("touchend",E),r=window.requestAnimationFrame(d),s=!0,c.targetRectOnDown.copy(e.getBoundingClientRect()),u.x=0,u.y=0,l.x=i.clientX,l.y=i.clientY,a.x=i.clientX,a.y=i.clientY,null==n||n(c))},y=e=>{let t=e.touches[0];t&&(a.x=t.clientX,a.y=t.clientY)},E=e=>{window.removeEventListener("touchmove",y),window.removeEventListener("touchend",E),s=!1,null==i||i(c)};return e.addEventListener("mousedown",v,{passive:!1}),e.addEventListener("touchstart",p,{passive:!1}),()=>{e.removeEventListener("mousedown",v),e.removeEventListener("touchstart",p),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",E),window.cancelAnimationFrame(r)}}(i,t)),function(e){return f.some(t=>t in e)}(t)&&n.push(function(e,t){let{maxDistance:n,maxDuration:i,onTap:o}={...E,...t},s=null,r=t=>{s=new y(Date.now(),e,t.target,new DOMPoint(t.clientX,t.clientY),t),window.addEventListener("pointerup",a)},a=e=>{window.removeEventListener("pointerup",a);let t=(Date.now()-s.timestamp)/1e3,r=e.clientX-s.downPosition.x,l=e.clientY-s.downPosition.y;Math.sqrt(r*r+l*l)<=n&&t<i&&(null==o||o(s))};return e.addEventListener("pointerdown",r),()=>{e.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",a)}}(i,t)),function(e){return D.some(t=>t in e)}(t)&&n.push(function(e,t){let{wheelPreventDefault:n,onWheel:i,onWheelStart:o,onWheelEnd:s}={...L,...t},r={start:!1,timeout:-1,time:-1},a=new g,l=e=>{n&&e.preventDefault();let t=!1===r.start?"start":"continue",l=e.timeStamp/1e3,u="start"===t?1/60:l-r.time;r.time=l,a.event=e,a.phase=t,a.time=l;let c=function(e){switch(e){default:case 0:return 1;case 1:return 16;case 2:return 1e3}}(e.deltaMode);a.delta.x=e.deltaX*c,a.delta.y=e.deltaY*c,a.delta.z=e.deltaZ*c;let d=(0,x.uZ)(u,1/240,1/30);a.rawDeltaTime=u,a.deltaTime=d,"start"===t&&(r.start=!0,null==o||o(a)),null==i||i(a),window.clearTimeout(r.timeout),r.timeout=window.setTimeout(()=>{r.start=!1,a.phase="end",a.deltaTime=.1,a.time=l+.1,a.delta.x=0,a.delta.y=0,a.delta.z=0,null==s||s(a)},100)};return e.addEventListener("wheel",l,{passive:!n}),()=>{e.removeEventListener("wheel",l)}}(i,t)),function(e){return M.some(t=>t in e)}(t)&&n.push(function(e,t){let{preventDefault:n,wheelFrameTickOrder:i,onWheelFrame:o,onWheelFrameStart:s,onWheelFrameEnd:r}={...O,...t},a={msOld:0,frame:0,frameID:0,deltaTime:0,time:0,position:new DOMPoint,positionOld:new DOMPoint,eventCount:0,eventCountOld:0,eventFrame:0,eventMsOld:0,eventPosition:new DOMPoint,eventVelocities:new b(5),eventVelocity:new DOMPoint},l=e=>{n&&e.preventDefault();let t=0===a.eventCount?1/60:(e.timeStamp-a.eventMsOld)/1e3;0===a.eventCount&&c(),a.eventPosition.x+=e.deltaX,a.eventPosition.y+=e.deltaY,a.eventPosition.z+=e.deltaZ;let i=new DOMPoint;i.x=e.deltaX/t,i.y=e.deltaY/t,i.z=e.deltaZ/t,a.eventVelocities.add(i),a.eventCount++,a.eventFrame=a.frame,a.eventMsOld=e.timeStamp},c=()=>{d(),a.frameID=void 0===i?window.requestAnimationFrame(v):u.vB.current().requestAnimationFrame(v,{order:i})},d=()=>{void 0===i?window.cancelAnimationFrame(a.frameID):u.vB.current().cancelAnimationFrame(a.frameID)},v=e=>{let t=0===a.eventCountOld?"start":a.frame===a.eventFrame+8?"end":"continue";console.log(t);let n=(e-a.msOld)/1e3,i="start"===t?1/60:(0,x.uZ)(n,1/240,1/30);if(a.deltaTime=i,a.msOld=e,"end"!==t?c():d(),a.time+=i,"end"===t)a.position.x=a.eventPosition.x,a.position.y=a.eventPosition.y,a.position.z=a.eventPosition.z;else{let{x:e,y:t,z:n}=a.eventVelocities.average;a.position.x+=e*i*8,a.position.y+=t*i*8,a.position.z+=n*i*8;let o=10000000000000017e-46**i;a.position.x+=(a.eventPosition.x-a.position.x)*o,a.position.y+=(a.eventPosition.y-a.position.y)*o,a.position.z+=(a.eventPosition.z-a.position.z)*o}let l=new DOMPoint;l.x=a.position.x-a.positionOld.x,l.y=a.position.y-a.positionOld.y,l.z=a.position.z-a.positionOld.z;let u=new P(a.time,i,l,t);"start"===t&&(null==s||s(u)),null==o||o(u),"end"!==t?(a.eventCountOld=a.eventCount,a.frame++,a.positionOld.x=a.position.x,a.positionOld.y=a.position.y,a.positionOld.z=a.position.z):(a.eventCount=0,a.eventCountOld=0,a.frame=0,null==r||r(u))};return e.addEventListener("wheel",l,{passive:!n}),()=>{e.removeEventListener("wheel",l),d()}}(i,t));return()=>{for(let e of n)e()}}}}]);