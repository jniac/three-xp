"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3977],{81219:function(t,e,r){r.d(e,{a:function(){return u}});var n,o,i=r(88780);let a=new Map;a.set(Date,t=>new Date(t.getTime())),a.set(RegExp,t=>new RegExp(t.source,t.flags)),a.set(DOMPoint,t=>DOMPoint.fromPoint(t)),a.set(DOMRect,t=>DOMRect.fromRect(t)),(n=o||(o={})).None="none",n.NotAnObject="not-an-object",n.InvalidIndex="invalid-index",n.CannotCreateAscendants="cannot-create-ascendants",n.CannotPierceNullOrUndefined="cannot-pierce-null-or-undefined";var s=r(32219);let c=new i.Matrix4,l=new i.Vector3,h=new i.Quaternion,p=new i.Quaternion,f={fov:"45deg",perspective:1,zoom:1,focus:[0,0,0],size:[4,4],before:1e3,after:1e3,rotation:[0,0,0,"YXZ"],frame:"contain",allowOrthographic:!0,fovEpsilon:"1.5deg",nearMin:.1};class u{static get default(){return m}set(t){let{perspective:e,fov:r,zoom:n,focus:o,size:i,before:a,after:c,rotation:l,frame:h,allowOrthographic:p,fovEpsilon:f,nearMin:u}=t;return void 0!==e&&(this.perspective=e),void 0!==r&&(this.fov=(0,s.FE)(r)),void 0!==n&&(this.zoom=n),void 0!==o&&(0,s.Q7)(o,this.focus),void 0!==i&&(0,s.iK)(i,this.size),void 0!==a&&(this.before=a),void 0!==c&&(this.after=c),void 0!==l&&(0,s.Gg)(l,{defaultOrder:"YXZ"},this.rotation),void 0!==h&&(this.frame="string"==typeof h?"cover"===h?0:1:h),void 0!==p&&(this.allowOrthographic=p),void 0!==f&&(this.fovEpsilon=(0,s.FE)(f)),void 0!==u&&(this.nearMin=u),this}copy(t){return this.perspective=t.perspective,this.fov=t.fov,this.zoom=t.zoom,this.focus.copy(t.focus),this.size.copy(t.size),this.before=t.before,this.after=t.after,this.rotation.copy(t.rotation),this.frame=t.frame,this.allowOrthographic=t.allowOrthographic,this.fovEpsilon=t.fovEpsilon,this.nearMin=t.nearMin,this}clone(){return new u().copy(this)}lerpVertigos(t,e,r){this.perspective=t.perspective+(e.perspective-t.perspective)*r,this.fov=t.fov+(e.fov-t.fov)*r;let n=Math.log(t.zoom)/Math.log(.001),o=n+(Math.log(e.zoom)/Math.log(.001)-n)*r;return this.zoom=.001**o,this.focus.lerpVectors(t.focus,e.focus,r),this.size.lerpVectors(t.size,e.size,r),this.before=t.before+(e.before-t.before)*r,this.after=t.after+(e.after-t.after)*r,h.setFromEuler(t.rotation),p.setFromEuler(e.rotation),this.rotation.setFromQuaternion(h.slerp(p,r)),this.frame=t.frame+(e.frame-t.frame)*r,this.allowOrthographic=r<.5?t.allowOrthographic:e.allowOrthographic,this.fovEpsilon=t.fovEpsilon+(e.fovEpsilon-t.fovEpsilon)*r,this.nearMin=t.nearMin+(e.nearMin-t.nearMin)*r,this}lerp(t,e){return this.lerpVertigos(this,t,e)}apply(t,e){let r=this.size.x/this.size.y/e,n=1+(r>1?this.frame:1-this.frame)*(r-1),o=this.size.y*n/this.zoom,i=this.fovEpsilon,a=this.perspective*this.fov;!this.allowOrthographic&&a<i&&(a=i);let s=o/2/Math.tan(a/2),h=a>=i,p=h?s:this.before+this.nearMin;if(c.makeRotationFromEuler(this.rotation),l.set(c.elements[8],c.elements[9],c.elements[10]).multiplyScalar(p).add(this.focus),t.position.copy(l),t.rotation.copy(this.rotation),t.updateMatrix(),t.updateMatrixWorld(!0),t.isPerspectiveCamera=h,t.isOrthographicCamera=!h,h){let r=Math.max(this.nearMin/this.zoom,s-this.before),n=s+this.after,i=o*r/s/2,c=i*e;t.fov=180*a/Math.PI,t.projectionMatrix.makePerspective(-c,c,i,-i,r,n)}else{let r=this.nearMin/this.zoom,n=r+this.before+this.after,i=o/2,a=i*e;t.fov=0,t.projectionMatrix.makeOrthographic(-a,a,i,-i,r,n)}return t.projectionMatrixInverse.copy(t.projectionMatrix).invert(),this.computedNdcScalar.set(n*e,n),this.computedSize.set(o*e,o),this}toDeclaration(){let t=[(0,s.ux)(this.rotation.x,"deg"),(0,s.ux)(this.rotation.y,"deg"),(0,s.ux)(this.rotation.z,"deg"),this.rotation.order];return{perspective:this.perspective,fov:(0,s.ux)(this.fov,"deg"),zoom:this.zoom,focus:this.focus.toArray(),size:this.size.toArray(),before:this.before,after:this.after,rotation:t,frame:this.frame,allowOrthographic:this.allowOrthographic,fovEpsilon:(0,s.ux)(this.fovEpsilon,"deg"),nearMin:this.nearMin}}constructor(t){this.focus=new i.Vector3,this.size=new i.Vector2,this.rotation=new i.Euler,this.computedNdcScalar=new i.Vector2,this.computedSize=new i.Vector2,this.set({...f,...t})}}let m=function t(e){if(Object.freeze(e),null!==e&&"object"==typeof e)for(let r in e)t(e[r]);return e}(new u)},62274:function(t,e,r){r.d(e,{F:function(){return g}});var n,o=r(88780),i=r(81540),a=r(54157),s=r(35357),c=r(2132),l=r(32219),h=r(81219);let p=new o.Quaternion,f=new o.Vector3,u=new o.Vector3;function m(t){p.setFromEuler(t),f.set(1,0,0).applyQuaternion(p),u.set(0,1,0).applyQuaternion(p)}class g extends s.N{pan(t,e){m(this.vertigo.rotation);let r=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(f,t*r).addScaledVector(u,e*r)}rotate(t,e){this.vertigo.rotation.x+=t,this.vertigo.rotation.y+=e}zoomAt(t,e){let r=this.vertigo.size.x/this.vertigo.zoom,n=this.vertigo.size.y/this.vertigo.zoom,o=this.vertigo.size.x/t,i=this.vertigo.size.y/t;m(this.vertigo.rotation);let{x:a,y:s}=e;this.vertigo.focus.addScaledVector(f,-((o-r)*a)).addScaledVector(u,-((i-n)*s)),this.vertigo.zoom=t}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return this.element=t,this}*doStart(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!==(n=this.element)&&void 0!==n?n:document.body;yield function(t,e){for(let[r,n]of Object.entries(e))t.addEventListener(r,n);return{destroy(){for(let[r,n]of Object.entries(e))t.removeEventListener(r,n)}}}(t,{contextmenu:t=>{t.preventDefault()}});let e=new o.Vector2;yield(0,i.w)(t,{onChange:r=>{let n=t.getBoundingClientRect(),o=(r.localPosition.x-n.x)/n.width*2-1,i=-((r.localPosition.y-n.y)/n.height*2-1);e.set(o/2,i/2).multiply(this.vertigo.computedNdcScalar)},dragButton:-1,onDrag:t=>{switch(t.button){case i.M.Left:this.rotate(-.01*t.delta.y,-.01*t.delta.x);break;case i.M.Right:this.pan(-.025*t.delta.x,.025*t.delta.y)}},wheelPreventDefault:!0,onWheel:t=>{let r=this.vertigo.zoom*(1-.001*t.delta.y);t.event.altKey?this.zoomAt(r,e):this.zoomAt(r,{x:0,y:0})}})}start(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return!1===this.started&&(this.started=!0,this.collect(this.doStart(...e))),this}stop(){this.started&&(this.started=!1,this.destroy())}toggle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.started;t?this.start():this.stop()}update(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/60,n=(0,c.M3)(this.dampingDecayFactor,r);this.dampedVertigo.lerp(this.vertigo,n).apply(t,e)}constructor(t={}){super(),this.dampingDecayFactor=1e-4,this.vertigo=new h.a,this.dampedVertigo=new h.a,this.actions={togglePerspective:()=>{let t=this.vertigo.perspective>.5?0:1;a.fw.tween({target:[this.vertigo,"perspective"],to:{perspective:t},duration:1,ease:"inOut3"})},focus:t=>{a.fw.tween({target:this.vertigo.focus,to:(0,l.Q7)(t),duration:1,ease:"inOut3"})},rotate:(t,e,r)=>{let n=new o.Quaternion().setFromEuler(this.vertigo.rotation),i=new o.Quaternion().setFromEuler(new o.Euler(t,e,r,"YXZ")),s=new o.Quaternion;a.fw.during({target:[this.vertigo,"rotation"],duration:1}).onUpdate(t=>{let{progress:e}=t;s.slerpQuaternions(n,i,a.fw.ease("inOut3")(e)),this.vertigo.rotation.setFromQuaternion(s)})},positiveXAlign:()=>{this.actions.rotate(0,Math.PI/2,0)},negativeXAlign:()=>{this.actions.rotate(0,-Math.PI/2,0)},positiveYAlign:()=>{this.actions.rotate(-Math.PI/2,0,0)},negativeYAlign:()=>{this.actions.rotate(Math.PI/2,0,0)},positiveZAlign:()=>{this.actions.rotate(0,0,0)},negativeZAlign:()=>{this.actions.rotate(0,Math.PI,0)}},this.started=!1,this.vertigo.set(t),this.dampedVertigo.set(t)}}},23247:function(t,e,r){r.d(e,{b:function(){return _},R:function(){return x}});var n=r(77478),o=r(88780);let i=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var a=r(58100);class s{static from(t,e){if(e instanceof a.Observable){if("number"==typeof e.value)return new s(t,e);throw Error("Observable value must be a number")}let r=typeof e;return"object"===r&&(e.constructor===Object||e instanceof o.Uniform)&&"value"in e?new s(t,e):"string"===r?new s(t,{value:new o.Color(e)}):new s(t,{value:e})}get value(){return this.target.value}computeDeclaration(){let t=this.name,e=this.target.value,r="";if(e instanceof Float32Array)return"uniform float ".concat(t,"[").concat(e.length,"];");if(Array.isArray(e)&&(r="[".concat(e.length,"]"),e=e[0]),"number"==typeof e)return"uniform float ".concat(t).concat(r,";");if(e.isVector2)return"uniform vec2 ".concat(t).concat(r,";");if(e.isVector3||e.isColor)return"uniform vec3 ".concat(t).concat(r,";");if(e.isVector4||e.isQuaternion)return"uniform vec4 ".concat(t).concat(r,";");if(e.isMatrix3)return"uniform mat3 ".concat(t).concat(r,";");if(e.isMatrix4)return"uniform mat4 ".concat(t).concat(r,";");if(e.isTexture)return e.isCubeTexture?"uniform samplerCube ".concat(t).concat(r,";"):"uniform sampler2D ".concat(t).concat(r,";");throw console.log("unhandled value:",e),Error('unhandled value: "'.concat(null==e?void 0:e.constructor.name,'"'))}constructor(t,e){this.name=t,this.target=e}}function c(){let t=(0,n._)(["","s*",""],["","\\s*",""]);return c=function(){return t},t}let l=null,h=t=>(l=t,_),p="// ShaderForge (injected code) ->",f="// <- ShaderForge",u=t=>"".concat(p,"\n").concat(t.trim(),"\n").concat(f),m=t=>{let e=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=RegExp(String.raw(c(),e(f),e(p)),"g");return t.replaceAll(r,"")};class g{getPattern(t){let{throwError:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="#include <".concat(t,">"),n=this.type;if(e&&!1===l[n].includes(r))throw Error('"'.concat(r,'" is not present in the shader template program.'));return{pattern:r,type:n}}replace(t,e){if(t instanceof RegExp){let{type:r}=this;l[r].match(t),l[r]=l[r].replace(t,u(e))}else{let{type:r,pattern:n}=this.getPattern(t),o=u(e);l[r]=l[r].replace(n,o)}return _}inject(t,e,r){let{type:n,pattern:o}=this.getPattern(e),i="after"===t?"".concat(o,"\n").concat(u(r)):"".concat(u(r),"\n").concat(o);return l[n]=l[n].replace(o,i),_}injectTokenComments(){for(let t of i){let{type:e,pattern:r}=this.getPattern(t,{throwError:!1});l[e]=l[e].replace(r,"\n        ".concat(r,"\n        // ShaderForge TOKEN: ").concat(t,"\n      "))}return _}header(t){let e=this.type;return l[e]="".concat(t,"\n").concat(l[e]),_}before(t,e){return this.inject("before",t,e)}after(t,e){return this.inject("after",t,e)}top(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return l[this.type]=l[this.type].replace("void main() {","\n      ".concat(u(e.join("\n\n")),"\n      void main() {\n    ")),_}mainBeforeAll(t){return l[this.type]=l[this.type].replace("void main() {","void main() {\n        ".concat(u(t))),_}mainAfterAll(t){return l[this.type]=l[this.type].replace(/}\s*$/,"\n      ".concat(u(t),"\n    }")),_}uniforms(t){if("string"==typeof t)this.top(t);else{let e=[];for(let[r,n]of Object.entries(t)){let t=s.from(r,n);e.push(t.computeDeclaration())}this.top(e.join("\n")),function(t){for(let[e,r]of Object.entries(t)){let t=s.from(e,r);if(e in l.uniforms){if(t.value!==l.uniforms[e].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else l.uniforms[e]=t}}(t)}return _}clean(){return l[this.type]=m(l[this.type]),_}printFinalCode(){return console.log(l[this.type].replace(/#include <(.*)>/g,(t,e)=>{let r=o.ShaderChunk[e];if(!r)throw Error('Shader chunk "'.concat(e,'" not found'));return r})),_}constructor(t){this.type=t}}let v=new g("fragmentShader"),d=new g("vertexShader"),_=Object.assign(function(t){return t&&h(t),_},{shaderName:function(t){return l.shaderName="".concat(t," (ShaderForge)"),_},defines:function(t){return l.defines?Object.assign(l.defines,t):l.defines=t,_},uniforms:function(t){return d.uniforms(t),v.uniforms(t),_},varying:function(t){let e="";if("string"==typeof t)e=t;else{let r=[];for(let[e,n]of Object.entries(t))r.push("varying ".concat(n," ").concat(e,";"));e=r.join("\n")}return d.top(e),v.top(e),_},top:function(t){return d.top(t),v.top(t),_},vertex:d,fragment:v,header:function(t){return v.header(t),d.header(t),_},clean:function(){return v.clean(),d.clean(),_},with:h,wrap:(t,e)=>(t.onBeforeCompile=t=>{l=t},t)}),w=new o.Color;function x(t){let{r:e,g:r,b:n}=w.set(t);return"vec3(".concat(e.toFixed(3),", ").concat(r.toFixed(3),", ").concat(n.toFixed(3),")")}},41737:function(t,e,r){r.d(e,{N:function(){return a}});var n=r(88780),o=r(32219);new n.Vector3(0,0,0),new n.Euler(0,0,0,"XYZ"),new n.Vector3(1,1,1);let i={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,visible:void 0,name:void 0,parent:void 0};function a(t,e){let{x:r,y:a,z:s,position:c=new n.Vector3(r,a,s),rotationX:l,rotationY:h,rotationZ:p,rotationOrder:f,rotationUnit:u,rotation:m,scaleX:g,scaleY:v,scaleZ:d,scaleScalar:_,scale:w=new n.Vector3(g,v,d).multiplyScalar(_),visible:x,name:y,parent:b}={...i,...e};return(0,o.Q7)(c,t.position),(0,o.Gg)(null!=m?m:[l,h,p,f,u],t.rotation),(0,o.Q7)(w,t.scale),void 0!==x&&(t.visible=x),void 0!==y&&(t.name=y),void 0!==b&&b!==t.parent&&(null===b?t.removeFromParent():b.add(t)),t}},78780:function(t,e,r){r.d(e,{H$:function(){return s},bB:function(){return a},cY:function(){return i}});var n=r(32219),o=r(41737);function i(t,e,r){return e&&((0,n.nK)(e)?e.add(t):(0,o.N)(t,e)),null==r||r(t),t}let a=i;function s(t,e){return function(t,e){let r=t;for(;r.parent;){if(r.parent===e)return!0;r=r.parent}return!1}(e,t)}}}]);