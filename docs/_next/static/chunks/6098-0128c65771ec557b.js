"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6098],{5714:function(n,t,e){e.d(t,{v:function(){return o}});let o={development:!1}},47804:function(n,t,e){e.d(t,{H7:function(){return h},Ky:function(){return s},_v:function(){return x}});var o=e(41291),r=e(81406),a=e(64740),l=e(13841),i=e(80550),u=e(5714),c=e(92605);let f=(0,r.createContext)(null);function s(n,t){let e=(0,r.useContext)(f);return(0,l.sv)(async function*(t,o){if(n){let t=n(e,o);if(t&&"function"==typeof t.next)do{let{value:n,done:e}=await t.next();if(e)break;yield n}while(o.mounted)}},null!=t?t:"always"),e}function x(n,t,e){let o=(0,r.useMemo)(()=>new a.Group,[]);return o.name=n,s(async function*(n,e){if(n.scene.add(o),yield()=>{o.clear(),o.removeFromParent()},t){let r=t(o,n,e);if(r&&"function"==typeof r.next)do{let{value:n,done:t}=await r.next();if(t)break;yield n}while(e.mounted)}},e),o}function d(n){let{children:t,className:e}=n,c=(0,r.useMemo)(()=>new i.Vu,[]),{ref:s}=(0,l.sv)(function*(n){let t=u.v.development?"/assets/":"/three-xp/assets/";c.loader.setPath(t),yield c.initialize(n),Object.assign(window,{three:c,THREE:a})},[]);return(0,o.jsx)("div",{ref:s,className:"ThreeProvider absolute-through ".concat(null!=e?e:""),children:(0,o.jsx)(f.Provider,{value:c,children:t})})}function h(n){return(0,c.O)()&&(0,o.jsx)(d,{...n})}},92605:function(n,t,e){e.d(t,{O:function(){return r}});var o=e(81406);function r(){let[n,t]=(0,o.useState)(!1);return(0,o.useLayoutEffect)(()=>{t(!0)},[]),n}},32678:function(n,t,e){e.d(t,{w:function(){return c}});var o=e(64740),r=e(783);let a={axis:"x",length:1,radialSegments:12,radius:.01,coneRatio:.1,radiusScale:1,vertexColor:!0,baseCap:"flat",color:"white"},l=new o.Color;function i(n){let{axis:t,length:e,radius:i,radialSegments:u,coneRatio:c,radiusScale:f,vertexColor:s,baseCap:x,color:d}={...a,...n},h=i*f,m=e*c,p=new o.ConeGeometry(3*h,m,u),v=new o.CylinderGeometry(h,h,1,u,1,!0),w=e-m,y=e-.5*m;p.rotateZ(-Math.PI/2).translate(y,0,0),v.scale(1,w,1).rotateZ(-Math.PI/2).translate(.5*w,0,0);let g="none"===x?new o.BufferGeometry:"flat"===x?new o.CircleGeometry(h,u).rotateY(-Math.PI/2):new o.SphereGeometry(h,u,3,0,2*Math.PI,0,.5*Math.PI).rotateZ(Math.PI/2).rotateX(Math.PI/2),b=(0,r.n4)([p,v,g]);switch(t){case"y":b.rotateZ(Math.PI/2);break;case"z":b.rotateY(-Math.PI/2)}if(s){let n=b.attributes.position.count,t=new o.BufferAttribute(new Float32Array(3*n),3);b.setAttribute("color",t),l.set(d);for(let e=0;e<n;e++)t.setXYZ(e,l.r,l.g,l.b)}return b}let u={xColor:"#ff3333",yColor:"#33cc66",zColor:"#3366ff"};class c extends o.BufferGeometry{constructor(n){super();let{xColor:t,yColor:e,zColor:o,...a}={...u,...n},l=i({...a,axis:"x",color:t}),c=i({...a,axis:"y",color:e}),f=i({...a,axis:"z",color:o}),s=(0,r.n4)([l,c,f]);this.copy(s),s.dispose()}}},75952:function(n,t,e){e.d(t,{P:function(){return a}});var o=e(64740);let r={vertexColors:!0,color:"white"};class a extends o.ShaderMaterial{constructor(n){let{color:t,vertexColors:e,...a}={...r,...n};super({...a,uniforms:{uColor:{value:new o.Color(t)},uSunPosition:{value:new o.Vector3(.5,.7,.3)}},vertexColors:e,vertexShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vColor = color;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nuniform vec3 uSunPosition;\nuniform vec3 uColor;\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  light = mix(0.1, 1.0, light);\n  gl_FragColor = vec4(vColor * uColor * light, 1.0);\n}\n"}),this.sunPosition=this.uniforms.uSunPosition.value}}},85692:function(n,t,e){e.d(t,{l:function(){return o}});let o="\n#ifndef GLSL_BASIC\n#define GLSL_BASIC\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\n#endif\n"},2164:function(n,t,e){e.d(t,{i:function(){return a}});var o=e(85692);let r=["linear"];for(let n=1;n<=10;n++)r.push("easeIn".concat(n)),r.push("easeOut".concat(n)),r.push("easeInOut".concat(n)),r.push("easeOutIn".concat(n));let a="\n#ifndef GLSL_EASING\n#define GLSL_EASING\n\n".concat(o.l,"\n\nfloat easePow1(float x) {\n  return x;\n}\n\nfloat easePow2(float x) {\n  return x * x;\n}\n\nfloat easePow3(float x) {\n  return x * x * x;\n}\n\nfloat easePow4(float x) {\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow5(float x) {\n  float x0 = x;\n  x *= x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow6(float x) {\n  x *= x * x;\n  return x *= x;\n}\n\nfloat easePow7(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow8(float x) {\n  x *= x;\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow9(float x) {\n  x *= x * x;\n  return x *= x * x;\n}\n\nfloat easePow10(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x * x;\n  return x0 * x;\n}\n\nfloat linear(float x) {\n  return clamp01(x);\n}\n\n").concat(Array.from({length:10},(n,t)=>{let e=t+1;return"\n\nfloat easeIn".concat(e," (float x) {\n  return easePow").concat(e,"(clamp01(x));\n}\nfloat easeOut").concat(e," (float x) {\n  return 1.0 - easePow").concat(e,"(clamp01(1.0 - x));\n}\nfloat easeInOut").concat(e," (float x) {\n  return x < 0.5 \n    ? 0.5 * easePow").concat(e,"(2.0 * x) \n    : 1.0 - 0.5 * easePow").concat(e,"(2.0 * (1.0 - x));\n}\nfloat easeOutIn").concat(e," (float x) {\n  return x < 0.5\n    ? 0.5 * (1.0 - easePow").concat(e,"(1.0 - x * 2.0))\n    : 1.0 - 0.5 * (1.0 - easePow").concat(e,"(2.0 * x - 1.0));\n}\n\n").trim()}).join("\n\n"),"\n\n\n// https://www.desmos.com/calculator/mqou4lf9zc?lang=fr\nfloat easeInOut(float x, float p, float i) {\n  return  x <= 0.0 ? 0.0 :\n          x >= 1.0 ? 1.0 :\n          x <= i ? 1.0 / pow(i, p - 1.0) * pow(x, p) :\n          1.0 - 1.0 / pow(1.0 - i, p - 1.0) * pow(1.0 - x, p);\n}\n\n// https://www.desmos.com/calculator/nrjlezusdv\nfloat easeInThenOut(float x, float p) {\n  return 1.0 - pow(abs(2.0 * x - 1.0), p);\n}\n\n#endif\n")},18647:function(n,t,e){e.d(t,{C:function(){return r}});let o={vecX:["float","vec2","vec3","vec4"]},r=(n,t)=>{let e=[],r=Array.isArray(n)?n:[n].map(n=>n in o?o[n]:n).flat();if("function"==typeof t)for(let n of r)e.push(t(n).replaceAll(/\bT\b/g,n));else for(let n of r)e.push(t.replaceAll(/\bT\b/g,n));return e.join("\n")}},68392:function(n,t,e){e.d(t,{U:function(){return a}});var o=e(85692),r=e(18647);let a="\n  ".concat(o.l,"\n\n  float sin01(float x) {\n    return 0.5 + 0.5 * sin(x * 6.283185307179586);\n  }\n\n  vec2 scaleAround(vec2 p, vec2 c, float s) {\n    return c + (p - c) / s;\n  }\n\n  // Same as mix, but clamped.\n  ").concat((0,r.C)("vecX","\n    T lerp(in T a, in T b, in float x) {\n      return mix(a, b, clamp01(x));\n    }\n  "),"\n\n  float inverseLerpUnclamped(in float a, in float b, float x) {\n    return (x - a) / (b - a);\n  }\n\n  float inverseLerp(in float a, in float b, float x) {\n    return clamp01((x - a) / (b - a));\n  }\n\n  float threshold(in float x, in float thresholdValue) {\n    return x < thresholdValue ? 0. : 1.;\n  }\n\n  float threshold(in float x, in float thresholdValue, in float width) {\n    return width < 1e-9 \n      ? (x < thresholdValue ? 0. : 1.)\n      : clamp01((x - thresholdValue + width * .5) / width);\n  }\n\n  mat3 extractRotation(mat4 matrix) {\n    return mat3(matrix[0].xyz, matrix[1].xyz, matrix[2].xyz);\n  }\n\n  vec2 rotate(vec2 p, float a) {\n    float c = cos(a);\n    float s = sin(a);\n    float x = c * p.x + s * p.y;\n    float y = -s * p.x + c * p.y;\n    return vec2(x, y);\n  }\n\n  vec2 rotateAround(vec2 p, float a, vec2 c) {\n    return c + rotate(p - c, a);\n  }\n\n  vec2 rotateScaleAround(vec2 p, float a, float s, vec2 c) {\n    return c + rotate((p - c) / s, a);\n  }\n  \n  float positiveModulo(float x) {\n    x = mod(x, 1.0);\n    return x < 0.0 ? x + 1.0 : x;\n  }\n\n  float positiveModulo(float x, float modulo) {\n    x = mod(x, modulo);\n    return x < 0.0 ? x + modulo : x;\n  }\n\n  // Limit a value to a maximum that the function tends to reach when x -> âˆž\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float maxValue) {\n    return x <= 0.0 ? x : maxValue * x / (maxValue + x);\n  }\n\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float minValue, float maxValue) {\n    float d = maxValue - minValue;\n    float xd = x - minValue;\n    return x <= minValue ? x : minValue + d * xd / (d + xd);\n  }\n\n  float sqLength(in vec2 p) {\n    return p.x * p.x + p.y * p.y;\n  }\n\n  float sqLength(in vec3 p) {\n    return p.x * p.x + p.y * p.y + p.z * p.z;\n  }\n\n  float pcurve(float x, float a, float b) {\n    float k = pow(a + b, a + b) / (pow(a, a) * pow(b, b));\n    return k * pow(x, a) * pow(1.0 - x, b);\n  }\n\n  ").concat((0,r.C)("vecX","\n    T min3(in T a, in T b, in T c) {\n      return min(min(a, b), c);\n    }\n  "),"\n\n  ").concat((0,r.C)("vecX","\n    T min4(in T a, in T b, in T c, in T d) {\n      return min(min(a, b), min(c, d));\n    }\n  "),"\n")},27636:function(n,t,e){e.d(t,{T:function(){return c}});let o=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return(n=(n=(7*n+Math.sqrt(n)+16087*Math.sin(n))%2147483647)<0?n+2147483647:n)>1?2147483647&n:0===n?345678:123456},r=n=>n=2147483647&Math.imul(n,48271),a=n=>(n-1)/2147483646,l=n=>n,i={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function u(){let n=r(r(o(123456)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return"string"==typeof t&&(t=t.split("").reduce((n,t)=>7*n+t.charCodeAt(0),0)),n=r(r(o(t))),s}function e(){return a(n=r(n))}function u(n){switch(n.length){default:return[0,1,l];case 1:return[0,n[0],l];case 2:return[n[0],n[1],l];case 3:return[n[0],n[1],n[2]]}}function c(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];let[r,a,l]=u(t);return r+(a-r)*l(e())}function f(){for(var n,t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];let[a,l,{weightsAreNormalized:u,indexOffset:c,forbiddenItems:f}]=function(n){let[t,e=null,o]=n,r={...i,...o};if(Array.isArray(t))return[t,e,r];if("object"==typeof t)return[Object.values(t),e?Object.values(e):null,r];throw Error("pick: unsupported options type")}(o);if(f.length>0){let t=new Set;for(let n of f){let e=a.indexOf(n);e>=0&&t.add(e)}if(a=a.filter((n,e)=>!t.has(e)),l=null!==(n=null==l?void 0:l.filter((n,e)=>!t.has(e)))&&void 0!==n?n:null,0===a.length)throw Error("pick: all items are forbidden")}if(null===l){let n=Math.floor(e()*a.length);return c&&(n+=c,(n%=a.length)<0&&(n+=a.length)),a[n]}if(!u){let n=l.reduce((n,t)=>n+t,0);l=l.map(t=>t/n)}let s=e(),x=0;for(let n=0;n<a.length;n++)if(s<(x+=l[n]))return a[n];throw Error("among: unreachable")}let s={seed:t,seedMax:function(){return 2147483647},reset:function(){return t(123456),s},next:function(){return n=r(n),s},random:e,between:c,int:function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];let[r,a,l]=u(t);return r+Math.floor(l(e())*(a-r))},chance:function(n){return e()<n},shuffle:function(n){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t&&Array.isArray(n)?n:[...n],r=o.length;for(let n=0;n<r;n++){let t=Math.floor(r*e()),a=o[n];o[n]=o[t],o[t]=a}return o},pick:f,createPicker:function(n){let t=n.map(n=>{let[t]=n;return t}),e=n.map(n=>{let[t,e]=n;return e}),o=e.reduce((n,t)=>n+t,0);for(let[n,t]of e.entries())e[n]=t/o;return()=>f(t,e,{weightsAreNormalized:!0})},vector:function(n,t){let[e=0,o=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(n))n[t]=c(e,o);return n},unitVector:function(n,t){let[e=-1,o=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max],r=Object.keys(n),a=r.map(()=>c(e,o)),l=Math.sqrt(a.reduce((n,t)=>n+t*t,0));for(let[t,e]of r.entries())n[e]=a[t]/l;return n},boxMuller:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=e(),r=e(),a=Math.sqrt(-2*Math.log(o)),l=2*Math.PI*r;return[n+t*a*Math.cos(l),n+t*a*Math.sin(l)]}};return s}let c=class{constructor(n){Object.assign(this,u().seed(n))}};Object.assign(c,u())}}]);