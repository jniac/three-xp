(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7558],{2910:e=>{e.exports={StateButtons:"StateButtons_StateButtons__44xCf"}},5735:e=>{e.exports={Toolbar:"toolbar_Toolbar__buTX6",Wrapper:"toolbar_Wrapper__O3SUu",ToolbarButton:"toolbar_ToolbarButton__0VTTE",ToolTypeSwitch:"toolbar_ToolTypeSwitch__vu9uY",Toggle:"toolbar_Toggle__NFMlu",active:"toolbar_active__7cvyp"}},10802:e=>{e.exports={Foldable:"foldable_Foldable__7AuMN"}},12719:(e,t,n)=>{"use strict";n.d(t,{HG:()=>i.HG,sU:()=>i.sU,pv:()=>i.pv,x_:()=>r.x,bv:()=>i.bv}),n(54402),n(98422),n(32699);var r=n(85376),i=n(28802)},14543:e=>{e.exports={SmallButton:"buttons_SmallButton__ZC6py",outlined:"buttons_outlined__vEweo"}},21667:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});let r=new WeakMap,i=(e=>()=>{let t=r.get(e);if(void 0===t){let t=e();return r.set(e,t),t}return t})(()=>{let e=new WeakMap;return{resizeObserver:new ResizeObserver(t=>{for(let n of t){let t=e.get(n.target);if(t)for(let e of t)e(n)}}),resizeObserverMap:e}});class l{get width(){return this.size.x}get height(){return this.size.y}get aspect(){return this.size.x/this.size.y}constructor(e,t){this.element=e,this.size=t}}function s(e,t){let{onSize:n}=function(e){if("function"==typeof e)return{onSize:e};let{onSize:t=()=>{}}=null!=e?e:{};return{onSize:t}}(t),r=new DOMPoint(0,0);if(e instanceof Window){let t=()=>{r.x=window.innerWidth,r.y=window.innerHeight,n(new l(e,r))};return e.addEventListener("resize",t),t(),{destroy:()=>{e.removeEventListener("resize",t)}}}{var s;let{resizeObserver:t,resizeObserverMap:o}=i();t.observe(e);let a=null!=(s=o.get(e))?s:new Set,c=t=>{r.x=t.contentRect.width,r.y=t.contentRect.height,n(new l(e,r))};return o.set(e,a),a.add(c),{destroy:()=>{let n=o.get(e);if(!n)throw Error("Wtf??? No callbacks found for element");n.delete(c),0===n.size&&(o.delete(e),t.unobserve(e))}}}}},28802:(e,t,n)=>{"use strict";n.d(t,{HG:()=>l,bv:()=>s,pv:()=>r,sU:()=>i});var r=function(e){return e.Select="select",e.Rotate="rotate",e.Move="move",e.Scale="scale",e}({}),i=function(e){return e.World="world",e.Local="local",e}({}),l=function(e){return e.Public="public",e.Internal="internal",e}({}),s=function(e){return e.Visible="visible",e.Hidden="hidden",e}({})},32699:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(49797),i=n(85795),l=n(28802);class s{set(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(2===t.length){let[e,n]=t;return this.set({[e]:n})}let[r]=t,i=!1;for(let e of Object.keys(r)){let t=this[e],n=r[e],l="function"==typeof n?n(t):n;t!==l&&(i=!0,this[e]=l)}return i&&this.changeObs.increment(),this}constructor(e){this.scope=l.HG.Public,this.hierarchyVisibility=l.bv.Visible,this.hierarchyOpen=!1,this.sceneVisibility=l.bv.Visible,this.selectable=!0,this.changeObs=e}}class o{onChange(e){return this.changeObs.onChange(e)}get(e){var t;return null!=(t=this.map.get(e))?t:this.map.set(e,this.defaultFor(e)).get(e)}defaultFor(e){let t=!1,n=!0;return e instanceof r.Z58&&(t=!0,n=!1),e instanceof r.WTh&&(n=!1),new s(this.changeObs).set({hierarchyOpen:t,selectable:n})}constructor(){this.changeObs=new i.ObservableNumber(0),this.map=new WeakMap}}},33999:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>!!e).map(e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e)return Object.keys(e).filter(t=>!0===e[t]);throw Error("Not possible.")}).flat().join(" ")}n.d(t,{S:()=>r})},36575:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(67203);let i=0;function l(e){let[,t]=(0,r.useState)(i);return(0,r.useEffect)(()=>{let{destroy:n}=e.onChange(()=>t(++i));return n},[e.observableId]),e.value}},42206:(e,t,n)=>{"use strict";n.d(t,{OP:()=>f.OP,EU:()=>f.EU,LN:()=>a,$x:()=>w}),function(e){e[e.Auto=0]="Auto",e[e.Absolute=1]="Absolute",e[e.Relative=2]="Relative",e[e.OppositeRelative=3]="OppositeRelative",e[e.SmallerRelative=4]="SmallerRelative",e[e.LargerRelative=5]="LargerRelative",e[e.Fraction=6]="Fraction"}(a||(a={}));let r={abs:a.Absolute,rel:a.Relative,opp:a.OppositeRelative,sm:a.SmallerRelative,lg:a.LargerRelative,fr:a.Fraction},i={"%":a.Relative,part:a.Fraction,sh:a.Fraction},l={...r,...i},s=Object.fromEntries(Object.entries(l).map(e=>{let[t,n]=e;return[n,t]}));class o{static parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o;return t.parse(e),t}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.type;this.value=e,this.type=t}compute(e,t){switch(this.type){case a.Absolute:return this.value;case a.Relative:return this.value*e;case a.OppositeRelative:return this.value*t;case a.SmallerRelative:return this.value*Math.min(e,t);case a.LargerRelative:return this.value*Math.max(e,t);case a.Auto:case a.Fraction:return e}}parse(e){return!function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o;if("auto"===e)return n.value=1,n.type=a.Auto;if("number"==typeof e)return n.value=e,n.type=a.Absolute;if("string"!=typeof e)throw console.log("received:",e),Error("Invalid scalar declaration");let r=e.match(/([\d\.]+)([a-z%]+)?$/);if(!r)throw console.log("received:",e),Error("Invalid scalar declaration");let[i,s,c]=r,h=Number.parseFloat(s),u=null!=(t=l[c])?t:a.Absolute;if(Number.isNaN(h))throw Error("Invalid scalar declaration");"%"===c&&(h/=100),n.value=h,n.type=u}(e,this),this}toString(){return"".concat(this.value).concat(s[this.type])}constructor(e=0,t=a.Absolute){this.value=e,this.type=t}}var a,c=n(44694),h=n(20487),u=n(43107),d=n(69975),f=n(56905);let p=new d.Y,m=[];function v(e,t,n,r,i){let l=0,s=0;if(r===f.OP.Horizontal&&(e.sizeX.type===a.Auto||e.sizeX.type===a.Fraction)&&(n=Math.max(0,n-Math.max(0,i.top-p.top)-Math.max(0,i.bottom-p.bottom))),r===f.OP.Vertical&&(e.sizeY.type===a.Auto||e.sizeY.type===a.Fraction)&&(t=Math.max(0,t-Math.max(0,i.left-p.left)-Math.max(0,i.right-p.right))),null!==e.aspect){let i=!1;if(e.sizeX.type===a.Auto)i=e.sizeY.type!==a.Auto||r===f.OP.Horizontal;else if(e.sizeY.type===a.Auto)i=!1;else throw Error('When aspect ratio is defined, at least one of the sizeX or sizeY must be "auto"');i?s=(l=e.sizeX.compute(t,n))/e.aspect:l=(s=e.sizeY.compute(n,t))*e.aspect}else l=e.sizeX.compute(t,n),s=e.sizeY.compute(n,t);e.rect.width=e.extraSizeX.compute(l,s),e.rect.height=e.extraSizeY.compute(s,l)}let g=new h.M_;function b(e,t,n){if(Array.isArray(e)){let[r,i]=e;return t.parse(r),n.parse(i),[t,n]}return"object"==typeof e?(t.parse(e.x),n.parse(e.y)):(t.parse(e),n.parse(e)),[t,n]}function y(e){if(!1===Array.isArray(e))return[e,e,e,e];if(1===e.length)return[e[0],e[0],e[0],e[0]];if(2===e.length)return[e[0],e[1],e[0],e[1]];if(4===e.length)return e;throw Error("Invalid number of arguments")}function x(e){return"*"===e?()=>!0:"string"==typeof e?t=>t.name===e:e instanceof RegExp?t=>e.test(t.name):e}class w{set(e){if(void 0!==e.name&&(this.name=e.name),void 0!==e.direction&&(this.direction=(0,f.T$)(e.direction)),void 0!==e.positioning&&(this.positioning=(0,f.$P)(e.positioning)),void 0!==e.offset&&b(e.offset,this.offsetX,this.offsetY),void 0!==e.offsetX&&this.offsetX.parse(e.offsetX),void 0!==e.offsetY&&this.offsetY.parse(e.offsetY),void 0!==e.size&&b(e.size,this.sizeX,this.sizeY),void 0!==e.sizeX&&this.sizeX.parse(e.sizeX),void 0!==e.sizeY&&this.sizeY.parse(e.sizeY),void 0!==e.aspect&&(this.aspect=e.aspect),void 0!==e.alignChildren){let{x:t,y:n}=(0,c.wX)(e.alignChildren);this.alignChildrenX=t,this.alignChildrenY=n}if(void 0!==e.alignChildrenX&&(this.alignChildrenX=e.alignChildrenX),void 0!==e.alignChildrenY&&(this.alignChildrenY=e.alignChildrenY),void 0!==e.alignSelf){let{x:t,y:n}=(0,c.wX)(e.alignSelf);this.alignSelfX=t,this.alignSelfY=n}if(void 0!==e.alignSelfX&&(this.alignSelfX=e.alignSelfX),void 0!==e.alignSelfY&&(this.alignSelfY=e.alignSelfY),void 0!==e.padding){let[t,n,r,i]=y(e.padding);this.padding[0].parse(t),this.padding[1].parse(n),this.padding[2].parse(r),this.padding[3].parse(i)}if(void 0!==e.paddingTop&&this.padding[0].parse(e.paddingTop),void 0!==e.paddingRight&&this.padding[1].parse(e.paddingRight),void 0!==e.paddingBottom&&this.padding[2].parse(e.paddingBottom),void 0!==e.paddingLeft&&this.padding[3].parse(e.paddingLeft),void 0!==e.margin){let[t,n,r,i]=y(e.margin);this.margin[0].parse(t),this.margin[1].parse(n),this.margin[2].parse(r),this.margin[3].parse(i)}if(void 0!==e.marginTop&&this.margin[0].parse(e.marginTop),void 0!==e.marginRight&&this.margin[1].parse(e.marginRight),void 0!==e.marginBottom&&this.margin[2].parse(e.marginBottom),void 0!==e.marginLeft&&this.margin[3].parse(e.marginLeft),void 0!==e.gap&&this.gap.parse(e.gap),void 0!==e.spacing){let[t,n,r,i,l]=function(e){if(!1===Array.isArray(e))return[e,e,e,e,e];let[t,...n]=e;return[t,...y(n)]}(e.spacing);this.gap.parse(t),this.padding[0].parse(n),this.padding[1].parse(r),this.padding[2].parse(i),this.padding[3].parse(l)}return void 0!==e.userData&&Object.assign(this.userData,e.userData),this}setDirection(e){return this.direction=(0,f.T$)(e),this}setPositioning(e){return this.positioning=(0,f.$P)(e),this}setOffset(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]&&"object"==typeof t[0]){let{x:e,y:n=e}=t[0];this.offsetX.parse(e),this.offsetY.parse(n)}else{let[e,n=e]=t;this.offsetX.parse(e),this.offsetY.parse(n)}return this}setSize(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]&&"object"==typeof t[0]){let{x:e,y:n=e}=t[0];this.sizeX.parse(e),this.sizeY.parse(n)}else{let[e,n=e]=t;this.sizeX.parse(e),this.sizeY.parse(n)}return this}setSizeX(e){return this.sizeX.parse(e),this}setWidth(e){return this.setSizeX(e)}setSizeY(e){return this.sizeY.parse(e),this}setHeight(e){return this.setSizeY(e)}setOffsetSizeAsAbsoluteRect(e){return this.offsetX.set(e.x,a.Absolute),this.offsetY.set(e.y,a.Absolute),this.sizeX.set(e.width,a.Absolute),this.sizeY.set(e.height,a.Absolute),this}setAlign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.alignChildrenX=e,this.alignChildrenY=t,this}setUserData(e){return Object.assign(this.userData,e),this}setPadding(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&Array.isArray(t[0])&&(t=t[0]);let[r,i,l,s]=y(t);return this.padding[0].parse(r),this.padding[1].parse(i),this.padding[2].parse(l),this.padding[3].parse(s),this}setGap(e){return this.gap.parse(e),this}setSpacing(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,...i]=t;return this.setGap(r),i.length>0?this.setPadding.apply(this,i):this.setPadding(r),this}isRoot(){return null===this.parent}isLeaf(){return 0===this.children.length}depth(){let e=0,t=this;for(;t;)t=t.parent,e++;return e}*allDescendants(){let{includeSelf:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t of(e&&(yield this),this.children))yield*t.allDescendants({includeSelf:!0})}descendantsCount(){let{includeSelf:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0;for(let n of this.allDescendants({includeSelf:e}))t++;return t}*allAncestors(){let{includeSelf:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e?this:this.parent;for(;t;)yield t,t=t.parent}*allLeaves(){let{includeSelf:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t of this.allDescendants({includeSelf:e}))0===t.children.length&&(yield t)}leavesCount(){let{includeSelf:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0;for(let n of this.allLeaves({includeSelf:e}))t++;return t}path(){let e=[],t=this;for(;t.parent;)e.push(t.parent.children.indexOf(t)),t=t.parent;return e.reverse()}get(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t[0]&&"object"==typeof t[0]&&Symbol.iterator in t[0]?t[0]:t,i=this;for(let e of r)if(e<0&&(e=i.children.length+e),!(i=i.children[e]))return null;return i}find(e){let{includeSelf:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let n of(e=x(e),this.allDescendants({includeSelf:t})))if(e(n))return n;return null}*findAll(e){let{includeSelf:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let n of(e=x(e),this.allDescendants({includeSelf:t})))e(n)&&(yield n)}pointCast(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i]=1===t.length?[t[0].x,t[0].y]:t;for(let e of this.allLeaves())if(e.rect.containsXY(r,i))return e;return null}getRoot(){let e=this;for(;e.parent;)e=e.parent;return e}add(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e of t)e.removeFromParent(),e.parent=this,this.children.push(e);return this}populate(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length&&"object"==typeof t[0]){let{count:e,...n}=t[0];return this.populate(e,n)}let[r,i]=t;for(let e=0;e<r;e++)this.add(new w(i));return this}addTo(e){return e.add(this),this}prepend(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e of t)e.removeFromParent(),this.children.unshift(e),e.parent=this;return this}prependTo(e){return e.prepend(this),this}removeFromParent(){return this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent=null),this}remove(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e of t)e.parent===this&&e.removeFromParent();return this}sort(e){return this.children.sort(e),this}tangentSize(){var e,t;return(null!=(t=null==(e=this.parent)?void 0:e.direction)?t:this.direction)===f.OP.Horizontal?this.sizeX:this.sizeY}normalSize(){return this.direction===f.OP.Horizontal?this.sizeX:this.sizeY}getUvRect(e){let{out:t=new h.M_,flipY:n}=e;return t.copy(this.rect).relativeTo(this.getRoot().rect),n&&(t.y=1-t.y-t.height),t}parse(e){let t;if(!e)return;let n=/(\w+)(?:\(([^)]+)\))?/g,r=[];for(;null!==(t=n.exec(e));){let e=t[1],n=t[2]?t[2].split(",").map(e=>e.trim()):[];r.push({token:e,args:n})}for(let{token:t,args:n}of r)switch(t){case"horizontal":this.direction=f.OP.Horizontal;break;case"vertical":this.direction=f.OP.Vertical;break;case"size":{let[e,t=e]=n;this.sizeX.parse(e),this.sizeY.parse(t);break}default:throw console.log(e,r),Error('Unknow type: "'.concat(t,'"'))}}computeLayout(){this.isRoot()&&function(e){let{offsetX:t,offsetY:n,sizeX:r,sizeY:i}=e;for(let e of[t,n,r,i])if(e.type!==a.Absolute)throw Error("Root space must have absolute offset and size");e.rect.set(t.value,n.value,r.value,i.value)}(this);let e=[this];for(;e.length>0;){let t=e.shift();!function(e){let{direction:t,alignChildrenX:n,alignChildrenY:r}=e,[i,l]=(0,u.mn)(e.children,e=>+!e.enabled);if(l)for(let e of l)for(let t of e.allDescendants({includeSelf:!0}))t.rect.set(0,0,0,0);if(void 0===i)return;var s,o,c,h,b,y,x=e;let{width:w,height:j}=x.rect;for(let e of x.padding)if(e.type===a.Fraction)throw Error("Share padding is not allowed");p.setTRBL(x.padding[0].compute(j,w),x.padding[1].compute(w,j),x.padding[2].compute(j,w),x.padding[3].compute(w,j));let{x:C,y:S,width:O,height:_}=g.copy(e.rect).shrink(p),E=e.gap.compute(O,_),[k,N,P,z,L]=i.reduce((e,n)=>{if(n.positioning===f.EU.Detached)e[0].push(n);else{e[1].push(n);let r=t===f.OP.Horizontal?n.sizeX:n.sizeY;r.type!==a.Fraction&&r.type!==a.Auto?e[2].push(n):(e[3].push(n),e[4]+=r.value)}return e},[[],[],[],[],0]);for(;m.length<e.children.length;)m.push(new d.Y);let{width:A,height:I}=e.rect;for(let t=0;t<e.children.length;t++){let n=e.children[t];m[t].setTRBL(n.margin[0].compute(I,A),n.margin[1].compute(A,I),n.margin[2].compute(I,A),n.margin[3].compute(A,I))}let M=Array.from({length:N.length+1}),T=0,D=0;if(t===f.OP.Horizontal){T+=D=Math.max(m[0].left,p.left),M[0]=D;for(let e=1,t=N.length;e<t;e++)T+=D=Math.max(m[e-1].right,m[e].left,E),M[e]=D;N.length>0&&(T+=D=Math.max(m[N.length-1].right,p.right),M[N.length]=D)}else{T+=D=Math.max(m[0].top,p.top),M[0]=D;for(let e=1,t=N.length;e<t;e++)T+=D=Math.max(m[e-1].bottom,m[e].top,E),M[e]=D;N.length>0&&(T+=D=Math.max(m[N.length-1].bottom,p.bottom),M[N.length]=D)}for(let e of k){v(e,O,_,t,m[0]);let i=O-e.rect.width,l=_-e.rect.height;e.rect.x=C+i*(null!=(s=e.alignSelfX)?s:n)+e.offsetX.compute(O,_),e.rect.y=S+l*(null!=(o=e.alignSelfY)?o:r)+e.offsetY.compute(_,O)}let R=0;if(t===f.OP.Horizontal)for(let e=0,n=P.length;e<n;e++){let n=P[e];v(n,O,_,t,m[e]),R+=n.rect.width}else for(let e=0,n=P.length;e<n;e++){let n=P[e];v(n,O,_,t,m[e]),R+=n.rect.height}let V=(t===f.OP.Horizontal?e.rect.width:e.rect.height)-R-T,Y=V>0?V/L:0;if(t===f.OP.Horizontal)for(let e=0,n=z.length;e<n;e++){let n=z[e];v(n,Y*n.sizeX.value,_,t,m[e])}else for(let e=0,n=z.length;e<n;e++){let n=z[e];v(n,O,Y*n.sizeY.value,t,m[e])}let F=0;if(t===f.OP.Horizontal)for(let t of(F=e.rect.width-T,N))F-=t.rect.width;else for(let t of(F=e.rect.height-T,N))F-=t.rect.height;if(t===f.OP.Horizontal){let t=e.rect.x+M[0]+F*n;for(let e=0,n=N.length;e<n;e++){let n=N[e],i=n.offsetX.compute(n.rect.width,n.rect.height),l=n.offsetY.compute(n.rect.height,n.rect.width);if(n.rect.x=i+t,n.sizeY.type===a.Fraction||n.sizeY.type===a.Auto){let t=Math.max(0,m[e].top-p.top),i=Math.max(0,m[e].bottom-p.bottom);n.rect.y=l+g.y+t+(g.height-n.rect.height-t-i)*(null!=(c=n.alignSelfY)?c:r)}else n.rect.y=l+g.y+(g.height-n.rect.height)*(null!=(h=n.alignSelfY)?h:r);t+=n.rect.width+M[e+1]}}else{let t=e.rect.y+M[0]+F*r;for(let e=0,r=N.length;e<r;e++){let r=N[e],i=r.offsetX.compute(r.rect.width,r.rect.height),l=r.offsetY.compute(r.rect.height,r.rect.width);if(r.sizeX.type===a.Fraction||r.sizeX.type===a.Auto){let t=Math.max(0,m[e].left-p.left),l=Math.max(0,m[e].right-p.right);r.rect.x=i+g.x+t+(g.width-r.rect.width-t-l)*(null!=(b=r.alignSelfX)?b:n)}else r.rect.x=i+g.x+(g.width-r.rect.width)*(null!=(y=r.alignSelfX)?y:n);r.rect.y=l+t,t+=r.rect.height+M[e+1]}}}(t),e.push(...t.children)}return this}get root(){throw Error("Space.root is deprecated. Use Space.getRoot() instead.")}constructor(...e){if(this.enabled=!0,this.name="",this.parent=null,this.children=[],this.direction=f.OP.Horizontal,this.positioning=f.EU.Flow,this.aspect=null,this.offsetX=new o(0,a.Absolute),this.offsetY=new o(0,a.Absolute),this.sizeX=new o(1,a.Auto),this.sizeY=new o(1,a.Auto),this.extraSizeX=new o(1,a.Relative),this.extraSizeY=new o(1,a.Relative),this.padding=[new o(0,a.Absolute),new o(0,a.Absolute),new o(0,a.Absolute),new o(0,a.Absolute)],this.margin=[new o(0,a.Absolute),new o(0,a.Absolute),new o(0,a.Absolute),new o(0,a.Absolute)],this.gap=new o(0,a.Absolute),this.alignChildrenX=.5,this.alignChildrenY=.5,this.alignSelfX=null,this.alignSelfY=null,this.rect=new h.M_,this.userData={},1===e.length){let t=e[0];"object"==typeof t?this.set(t):this.direction=t}else 2===e.length&&(this.name=e[0],this.set(e[1]))}}},43107:(e,t,n)=>{"use strict";function r(e,t){for(let n of e)if(t(n))return!0;return!1}function i(e,t){for(let n of e)if(!t(n))return!1;return!0}function l(e,t,n){let r=[];function i(e){let t=[];return r[e]=t,t}if(void 0!==n)for(let e=0;e<n;e++)i(e);for(let n of e){var l;let e=t(n);(null!=(l=r[e])?l:i(e)).push(n)}return r}function*s(e){let t;for(let n of e)void 0!==t&&(yield[t,n]),t=n}function o(e,t){let n,r=-1/0;for(let i of e){let e=t(i);e>r&&(r=e,n=i)}return n}function a(e){let t=new Set;return n=>{let r=e(n);return!t.has(r)&&(t.add(r),!0)}}function c(e){return(t,n)=>{if(null!==t&&"object"!=typeof t)throw Error("Accumulator must be an object");let r=null===t?{}:t,i=e(n);return r[i]||(r[i]=[]),r[i].push(n),r}}n.d(t,{Ju:()=>s,Si:()=>i,VY:()=>c,mn:()=>l,pD:()=>a,vj:()=>o,zN:()=>r})},44544:e=>{e.exports={OrbitControlsPanel:"orbit-controls_OrbitControlsPanel__mzZCS"}},47801:e=>{e.exports={Layout:"layout_Layout__76OXG"}},54402:(e,t,n)=>{"use strict";n.d(t,{p:()=>b});var r=n(49797),i=n(17223),l=n(23035),s=n(79753),o=n(79911),a=n(39787),c=n(85795),h=n(63106),u=n(64028),d=n(28802),f=n(99332),p=n(98422),m=n(32699);class v{_filteredObjects(e){if(-1!==e.findIndex(e=>!this._filter(e))){let t=e.length;e=e.filter(this._filter),console.log("Invalid Object detected. Filtered ".concat(t-e.length," / ").concat(t," objects"))}return e}get obs(){return this._set}equals(e){let t=new Set(e),n=this._set.value;if(t.size!==n.size)return!1;for(let e of t)if(!n.has(e))return!1;return!0}set(e,t,n){let r=new Set(this._set.value),i=this._filteredObjects([...t]);return this.equals(i)||this._command.push({comment:e,execute:()=>{this._set.set(i),null==n||n.execute()},undo:()=>{this._set.set(r),null==n||n.undo()}}),this}add(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=this._filteredObjects(n),l=this._set.otherDifference(i);return this._command.push({comment:e,execute:()=>this._set.add(...l),undo:()=>this._set.remove(...l)}),this}remove(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=this._filteredObjects(n),l=this._set.intersection(i);return this._command.push({comment:e,execute:()=>this._set.remove(...l),undo:()=>this._set.add(...l)}),this}toggle(e,t){return null!==t&&(this._set.has(t)?this.remove(e,t):this.add(e,t)),this}clear(e){let t=new Set(this._set.value);return t.size>0&&this._command.push({comment:e,execute:()=>this._set.clear(),undo:()=>this._set.set(t)}),this}get objects(){return this._set.value}has(e){return this._set.has(e)}get count(){return this._set.size}at(e){var t;return null!=(t=[...this._set.value][e])?t:null}get size(){return this._set.size}constructor(e,{filter:t}){this._set=new c.ObservableSet,this.onChange=this._set.onChange.bind(this._set),this._command=e,this._filter=t}}var g=n(85376);class b{static current(e){let t=b.instances[b.instances.length-1];if(!t)throw Error("No editor context found.");return null==e||e(t),t}get ticker(){return this.three.ticker}reset(){this.sceneSelection.clear("Editor Context Reset"),this.transformControls.detach()}toPlainObject(){return{toolType:this.toolType.value,spaceMode:this.spaceMode.value}}serialize(){return s.Ay.stringify(this.toPlainObject())}deserialize(e){var t,n;let r=s.Ay.parse(e);this.toolType.set(null!=(t=r.toolType)?t:d.pv.Select),this.spaceMode.set(null!=(n=r.spaceMode)?n:d.sU.Local)}*init(){let{three:e,history:t,metadata:n,sceneSelection:r,toolType:i,spaceMode:l,transformControls:s,orbitControls:a,onRefresh:p,requestRefreshImmediate:m}=this;yield t.onChange(m),yield n.onChange(m),yield r.onChange(()=>{e.pipeline.basicPasses.outline.selectedObjects=Array.from(r.objects),m()}),yield i.onChange(m),yield l.onChange(m),yield e.ticker.onTick({order:-1},()=>{e.pointer.event.reset()}),yield e.ticker.onTick({order:1},()=>{a.enabled=this.useOrbitControls&&!1===e.pointer.event.consumed&&!1===v.value});let v=new c.Observable(!1),b=new g.x([]);v.onChange(e=>{e?b.reset(r.objects).comment('Transform "'.concat(i.value,'" (').concat(l.value,")")).beforeSnapshot():b.afterSnapshot().flush(this)}),yield e.ticker.onTick(()=>{s.object&&!(0,o.rd)(e.scene,s.object)&&s.detach()}),s.addEventListener("dragging-changed",e=>{v.set(!!e.value),a.enabled=!e.value}),a.addEventListener("change",()=>{s.enabled=!1}),a.addEventListener("end",()=>y()),a.enabled=!1;let y=()=>{let e=Array.from(r.objects);if(1===e.length){s.visible=!0,s.attach(e[0]);let t=i.value,n=t===d.pv.Select;if(s.visible=!n&&!!s.object,s.enabled=!n&&!!s.object,!n){let e={[d.pv.Rotate]:"rotate",[d.pv.Move]:"translate",[d.pv.Scale]:"scale"}[t];s.setMode(e)}s.setSpace(l.value===d.sU.Local?"local":"world")}else s.visible=!1};p(y),yield*function*(e){yield(0,h.a)(document.body,{strictTarget:!0},[[{key:"g",noModifiers:!0},()=>e.spaceMode.set(e.spaceMode.value===d.sU.World?d.sU.Local:d.sU.World)],[{key:"a",noModifiers:!0},()=>e.toolType.set(d.pv.Select)],[{key:"w",noModifiers:!0},()=>e.toolType.set(d.pv.Move)],[{key:"r",noModifiers:!0},()=>e.toolType.set(d.pv.Rotate)],[{key:"t",noModifiers:!0},()=>e.toolType.set(d.pv.Scale)],[{key:"f",modifiers:"shift"},()=>{document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen()}],[{key:"z",modifiers:e=>e.ctrl||e.meta},t=>{t.event.preventDefault(),t.modifiers.shift?e.history.redo():e.history.undo()}],[{key:"Enter"},t=>{t.modifiers.shift?(0,u.SN)(e):(0,u.wS)(e)}]])}(this),yield*function*(e){yield(0,f.s)(e.three.renderer.domElement,{onDown:e=>{e.event.preventDefault()},onTap:t=>{let n=e.three.pointer.raycaster.intersectObject(e.three.scene,!0).filter(e=>(function(e){if(e.constructor.name.endsWith("Helper"))return!1;let t=e;for(;t;){if(!0===t.userData.ignoreRaycast||!1===t.userData.pickable)return!1;t=t.parent}return!0})(e.object)),{shiftKey:r}=t.orignalDownEvent,i=null;n.length>0&&!0===(i=n[0].object).userData.selectParentOnTap&&(i=i.parent),i?r?e.sceneSelection.toggle("Scene Raycast Toggle",i):e.sceneSelection.set("Scene Raycast Pick",[i]):!1===r&&e.sceneSelection.clear("Scene Raycast Clear")}})}(this)}dispose(){this.transformControls.dispose(),this.orbitControls.dispose(),(0,a.zr)(...this.destroyables)}constructor(e){this.three=e,this.destroyables=[],this.uiVisibility=new c.Observable(!0),this.showUI=()=>this.uiVisibility.set(!0),this.hideUI=()=>this.uiVisibility.set(!1),this.toggleUI=()=>this.uiVisibility.set(!this.uiVisibility.value),this.history=new p.c,this.metadata=new m.t,this.sceneSelection=new v(this.history,{filter:e=>e instanceof r.B69}),this.toolType=new c.Observable(d.pv.Select),this.spaceMode=new c.Observable(d.sU.Local),this.orbitControls=new i.N(this.three.perspectiveCamera,this.three.renderer.domElement),this.useOrbitControls=!0,this.transformControls=new l.ZU(this.three.perspectiveCamera,this.three.renderer.domElement),this.state={refresh:new c.ObservableNumber(0)},this.destroy=()=>{b.instances.splice(b.instances.indexOf(this),1),this.dispose()},this.onRefresh=this.state.refresh.onChange.bind(this.state.refresh),this.requestRefresh=e=>{let{delay:t,frames:n}={...b.requestRefreshDefaultOptions,...e},r=this.state.refresh.value+1;if(void 0!==n){let e=n,t=()=>{e-- >0?this.state.refresh.value<r&&window.requestAnimationFrame(t):this.state.refresh.set(Math.max(r,this.state.refresh.value))};window.requestAnimationFrame(t)}else{let e=window.performance.now()+1e3*t,n=()=>{window.performance.now()<e?this.state.refresh.value<r&&window.requestAnimationFrame(n):this.state.refresh.set(Math.max(r,this.state.refresh.value))};window.requestAnimationFrame(n)}},this.requestRefreshImmediate=()=>{this.requestRefresh({delay:0})},e.gizmoScene.add(this.transformControls.getHelper()),this.destroyables.push(...this.init()),b.instances.push(this)}}b.instances=[],b.requestRefreshDefaultOptions={delay:0,frames:void 0}},54831:e=>{e.exports={HierarchyList:"hierarchy_HierarchyList__1eFX8",Node:"hierarchy_Node__g5cO4",Link:"hierarchy_Link___9bij",ConstructorName:"hierarchy_ConstructorName__oqCpV",ChildCount:"hierarchy_ChildCount__DEYoM",Label:"hierarchy_Label__yhZRF",Background:"hierarchy_Background__WYmOv",selectable:"hierarchy_selectable__UeVl6",RightButtons:"hierarchy_RightButtons__Y3ePb",RequireHover:"hierarchy_RequireHover__biu9F",FadeInHover:"hierarchy_FadeInHover__8NMU2"}},56905:(e,t,n)=>{"use strict";var r,i,l;function s(e){if(e in l)return e;if("string"==typeof e)return"flow"===e?l.Flow:l.Detached;throw Error("Invalid positioning value: ".concat(e))}function o(e){if(e in i)return e;if("string"==typeof e)return"horizontal"===e?i.Horizontal:i.Vertical;throw Error("Invalid direction value: ".concat(e))}n.d(t,{$P:()=>s,EU:()=>l,OP:()=>i,T$:()=>o}),function(e){e[e.Flow=0]="Flow",e[e.Detached=1]="Detached",e[e.Horizontal=2]="Horizontal",e[e.Vertical=3]="Vertical"}(r||(r={})),function(e){e[e.Horizontal=2]="Horizontal",e[e.Vertical=3]="Vertical"}(i||(i={})),function(e){e[e.Flow=0]="Flow",e[e.Detached=1]="Detached"}(l||(l={}))},64028:(e,t,n)=>{"use strict";function r(e){let t=new Set;for(let n of e.sceneSelection.objects){let e=n.parent;e&&e.parent&&t.add(e)}e.sceneSelection.set("Select Parents",t)}function i(e){let t=new Set;for(let n of e.sceneSelection.objects)for(let e of n.children)t.add(e);e.sceneSelection.set("Select Children",t)}function l(e){let t=[...e.sceneSelection.objects];if(t.length>0){let n=!t[0].visible,r=t.filter(e=>e.visible!==n);e.history.push({comment:n?"Show":"Hide",execute:()=>{for(let e of r)e.visible=n},undo:()=>{for(let e of r)e.visible=!n}})}}function s(e,t){let n=[t];for(;n.length>0;){let t=n.shift();e.metadata.get(t).set("hierarchyOpen",!0),n.push(...t.children)}}function o(e,t){t.traverseAncestors(t=>{e.metadata.get(t).set("hierarchyOpen",!0)})}n.d(t,{LF:()=>l,SN:()=>r,_t:()=>o,it:()=>s,wS:()=>i})},65269:e=>{e.exports={EditorUI:"main_EditorUI__y7AnL",Col:"main_Col__JWPK6",Row:"main_Row__HZP7v",Abs:"main_Abs__L4653",Abs0:"main_Abs0__1Cs46",TL:"main_TL__0lNkG",Thru:"main_Thru__yLyCu"}},73879:e=>{e.exports={History:"history_History__nev2g",Stack:"history_Stack__8idWe",Command:"history_Command___2OlW",Redo:"history_Redo___Msn0"}},78985:e=>{e.exports={TransformPanel:"transform_TransformPanel__8n1kc"}},79789:e=>{e.exports={Field:"inputs_Field__e3mT6",dragging:"inputs_dragging__Kara1",NumberField:"inputs_NumberField__3eMRs",InlineInput:"inputs_InlineInput__YHYEv",MainLabel:"inputs_MainLabel__6ALgs",AtomicInput:"inputs_AtomicInput__SDyfx",draggable:"inputs_draggable__A2DyT",focus:"inputs_focus__B_Ysx",multiple:"inputs_multiple___JZM5",WhileDragging:"inputs_WhileDragging__gAfqH",Slider:"inputs_Slider__gKcDK",ProgressBar:"inputs_ProgressBar__RY3fR",ThinBar:"inputs_ThinBar__augfb",OvershootLowerBar:"inputs_OvershootLowerBar__sjsTh",OvershootUpperBar:"inputs_OvershootUpperBar__jqHRP",hidden:"inputs_hidden__dZzYI"}},82307:e=>{e.exports={dim:"inspector_dim__AhntD",UUID:"inspector_UUID__45wJ7",TitleSingle:"inspector_TitleSingle__t1At8",Parent:"inspector_Parent__IN6kA",Children:"inspector_Children__RCyYO",ConstructorNames:"inspector_ConstructorNames__VPEue",Geometry:"inspector_Geometry__8iSdu",SmallButton:"inspector_SmallButton__9JfbM"}},83215:e=>{e.exports={Selection:"selection_Selection__QJ_CN"}},83245:()=>{},84306:(e,t,n)=>{"use strict";n.d(t,{zz:()=>t2,YV:()=>t5,uB:()=>tJ,hG:()=>t0,$k:()=>t1,yk:()=>t$});var r,i,l,s,o,a,c,h,u,d,f,p,m,v,g,b,y,x,w,j,C=n(70691),S=n(67203),O=n(18479);let _=0,E=()=>{let[,e]=(0,S.useState)(_);return(0,S.useCallback)(()=>e(++_),[])};var k=n(54402);n(21804),n(57177);var N=n(49797),P=n(63106),z=n(33999);function L(e){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[(0,C.jsx)("path",{fill:"currentColor",d:"M13 7.5a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-3 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v4.25h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75V12h-.75a.75.75 0 0 1-.75-.75"}),(0,C.jsx)("path",{fill:"currentColor",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12S5.925 1 12 1M2.5 12a9.5 9.5 0 0 0 9.5 9.5a9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5A9.5 9.5 0 0 0 2.5 12"})]})}var A=["title","titleId"];function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let M=function(e){var t=e.title,n=e.titleId,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,A);return S.createElement("svg",I({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},i),t?S.createElement("title",{id:n},t):null,r||(r=S.createElement("path",{d:"M4.99955 9.0625L1.75195 3.4375L8.24714 3.4375L4.99955 9.0625Z",fill:"currentColor"})))};var T=["title","titleId"];function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let R=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,T);return S.createElement("svg",D({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,i||(i=S.createElement("path",{d:"M8.0625 6.00004L2.4375 9.24763L2.4375 2.75244L8.0625 6.00004Z",fill:"currentColor"})))};var V=n(10802),Y=n.n(V);function F(e){let{title:t="Fold Panel",closedByDefault:n,content:r}=e,[i,l]=(0,S.useState)(void 0===n||!n);return(0,C.jsxs)("div",{className:Y().Foldable,children:[(0,C.jsxs)("div",{onClick:()=>l(!i),children:[i?(0,C.jsx)(M,{}):(0,C.jsx)(R,{}),(0,C.jsx)("span",{children:t})]}),i&&(0,C.jsx)("div",{children:null==r?void 0:r()})]})}var B=n(14543),H=n.n(B);function X(e){return(0,C.jsx)("button",{className:(0,z.S)(H().SmallButton,H().outlined),...e})}var U=n(43107);function W(e){let{tree:t}=e;class n{constructor(){this.nodes=[]}}class r{getCurrent(){return this.current||(this.current=new n,this.blocks.push(this.current)),this.current}add(e){this.getCurrent().nodes.push(e)}close(){this.current=null}generateSvgContent(){return this.blocks.map((e,t)=>{if(0===e.nodes.length)return null;let n=18*e.nodes[0]+.5;return(0,C.jsxs)("g",{children:[(0,C.jsx)("rect",{x:.5,y:n,width:"calc(100% - 1px)",height:18*e.nodes.length-1,rx:".15em"}),e.nodes.length>0&&Array.from({length:e.nodes.length-1},(e,t)=>{let r=n+(t+1)*18;return(0,C.jsx)("line",{x1:2.5,x2:"calc(100% - 2.5px)",y1:r,y2:r,opacity:.5},t)})]},t)})}constructor(){this.blocks=[],this.current=null}}let i=new r,l=new r;for(let[e,n]of t.allNodes.entries())0!==e&&(n.isSelected?i.add(e):i.close(),!1===n.metadata.hierarchyOpen&&(0,U.zN)(n.descendants(),e=>e.isSelected)?l.add(e):l.close());return(0,C.jsxs)("svg",{width:"100%",height:"100%",children:[(0,C.jsx)("g",{fill:"#ffffff09",stroke:"#ffffff33",strokeWidth:"1",children:i.generateSvgContent()}),(0,C.jsx)("g",{fill:"none",stroke:"#ffffff22",strokeWidth:"1",children:l.generateSvgContent()})]})}var q=n(12719);class Z{get isRoot(){return this.root===this}get childCount(){return this.children.length}populate(e,t,n){for(let r of t.children){let t=e.metadata.get(r);if(t.hierarchyVisibility===q.bv.Visible&&t.scope!==q.HG.Internal){let i=new Z(e,r,this.root,this,t,n+1);this.children.push(i)}}}*parents(){let e=this.parent;for(;e;)yield e,e=e.parent}*descendants(){for(let e of this.children)yield e,yield*e.descendants()}parentsAreOpen(){for(let e of this.parents())if(!e.metadata.hierarchyOpen)return!1;return!0}isLastChild(){return!!this.parent&&this.parent.children[this.parent.children.length-1]===this}isClosed(){return this.childCount>0&&!this.metadata.hierarchyOpen}getNextSibling(){if(this.parent){let e=this.parent.children.indexOf(this);if(-1!==e&&e<this.parent.children.length-1)return this.parent.children[e+1]}return null}constructor(e,t,n=null,r=null,i=null,l=0){this.allNodes=null,this.root=null!=n?n:this,this.parent=r,this.object=t,this.depth=l,this.isSelected=e.sceneSelection.has(t),this.isRoot&&(this.allNodes=[]),this.metadata=null!=i?i:e.metadata.get(t),this.children=[],this.parentsAreOpen()&&this.root.allNodes.push(this),this.populate(e,t,l),this.totalChildCount=this.children.reduce((e,t)=>e+1+t.totalChildCount,0)}}class ${get metaKey(){var e;return null!=(e=this.orignalEvent.metaKey)&&e}get shiftKey(){var e;return null!=(e=this.orignalEvent.shiftKey)&&e}get ctrlKey(){var e;return null!=(e=this.orignalEvent.ctrlKey)&&e}get altKey(){var e;return null!=(e=this.orignalEvent.altKey)&&e}constructor(e){this.orignalEvent=e}}var G=n(99332),K=["title","titleId"];function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let Q=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,K);return S.createElement("svg",J({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,l||(l=S.createElement("g",{id:"HierarchyNode"},S.createElement("path",{id:"closed",d:"M20 12H16M24 12L22 12",stroke:"currentColor"}),S.createElement("path",{id:"child",d:"M20 24L20 16C20 13.7909 18.2091 12 16 12",stroke:"currentColor"}),S.createElement("path",{id:"ending",d:"M4 0V8C4 10.2091 5.79086 12 8 12V12",stroke:"currentColor"}),S.createElement("path",{id:"parent",d:"M4 0V12M4 24V12M8 12H4",stroke:"currentColor"}),S.createElement("path",{id:"line",d:"M4 0V24",stroke:"currentColor"}),S.createElement("circle",{id:"circle",cx:12,cy:12,r:3.5,stroke:"currentColor"}),S.createElement("circle",{id:"dot",cx:12,cy:12,r:2,fill:"currentColor"}))))};var ee=n(54831),et=n.n(ee);function en(e){let{node:t}=e,{ref:n}=(0,O.IZ)(function*(e){let n=e.querySelector("svg");n.width.baseVal.value=18+6*t.depth*2,n.height.baseVal.value=18,n.viewBox.baseVal.width=24+8*t.depth*2,n.viewBox.baseVal.x=-8*t.depth*2;let[r,i,l,s,o,a,c]=n.querySelector("g").children,{children:h}=t,u=h.length>0&&t.metadata.hierarchyOpen,d=t.isLastChild();for(let e of(o.setAttributeNS(null,"visibility","hidden"),i.setAttributeNS(null,"visibility",u?"visible":"hidden"),r.setAttributeNS(null,"visibility",t.isClosed()&&t.childCount>0?"visible":"hidden"),l.setAttributeNS(null,"visibility",t.parent&&d?"visible":"hidden"),s.setAttributeNS(null,"visibility",t.parent&&!d?"visible":"hidden"),a.setAttributeNS(null,"visibility",t.childCount>0?"visible":"hidden"),c.setAttributeNS(null,"visibility",0===t.childCount?"visible":"hidden"),n.querySelectorAll(".parent-line")))e.remove();{let e=t.parent,r=1;for(;e;){if(e.getNextSibling()){let e=o.cloneNode();e.classList.add("parent-line"),e.setAttributeNS(null,"visibility","visible"),e.setAttributeNS(null,"transform","translate(".concat(-8*r*2,", 0)")),n.appendChild(e)}e=e.parent,r+=1}}},"always");return(0,O.useEffects)(function*(){let e=n.current,r=e.querySelector("#dot");t.childCount>0&&(yield(0,G.s)(e,{onEnter(){r.setAttributeNS(null,"visibility","visible")},onLeave(){r.setAttributeNS(null,"visibility","hidden")}}))},"always"),(0,C.jsx)("div",{ref:n,className:et().Link,children:(0,C.jsx)(Q,{})})}var er=["title","titleId"];function ei(){return(ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let el=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,er);return S.createElement("svg",ei({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,s||(s=S.createElement("g",{id:"pickable-off"},S.createElement("g",{id:"Union"},S.createElement("path",{d:"M9.27305 4.40207L9.45305 4.43207C10.133 4.55207 10.6408 5.16104 10.6408 5.86104V7.16104C10.6408 8.10787 10.6408 8.67486 10.5451 9.12897L9.89141 8.47524C9.91305 8.14463 9.91305 7.719 9.91305 7.14207V5.84207C9.91305 5.51207 9.68305 5.22207 9.36305 5.17207L9.18305 5.14207C9.18305 5.14207 9.11305 5.13207 9.11305 5.21207V5.74207C9.11305 5.95207 8.94305 6.12207 8.73305 6.12207C8.52305 6.12207 8.35305 5.95207 8.35305 5.74207V5.21207C8.35305 4.83207 8.05305 4.53207 7.69305 4.53207C7.61305 4.53207 7.55305 4.60207 7.55305 4.68207V5.20207C7.55305 5.41207 7.38305 5.58207 7.17305 5.58207C6.96305 5.58207 6.79305 5.41207 6.79305 5.20207V4.67207C6.79305 4.52207 6.74305 4.37207 6.65305 4.25207C6.55305 4.13207 6.43305 4.05207 6.28305 4.01207C6.27087 4.01033 6.25626 4.00798 6.24018 4.0054C6.16387 3.99314 6.05435 3.97555 6.01305 3.99207C6.01305 3.99207 5.99305 4.04207 5.99305 4.15207V4.57688L5.23305 3.81688V1.78207C5.23305 1.56207 5.05305 1.37207 4.83305 1.37207C4.61305 1.37207 4.43305 1.55207 4.43305 1.78207V3.01688L3.69305 2.27688V1.78207C3.69305 1.14207 4.20305 0.62207 4.84305 0.62207C5.48305 0.62207 5.99305 1.14207 5.99305 1.78207V3.24207C6.16305 3.23207 6.32305 3.26207 6.42305 3.28207C6.77305 3.37207 7.05305 3.55207 7.24305 3.80207C7.25387 3.8129 7.25884 3.82666 7.26429 3.84176C7.26891 3.85455 7.27387 3.86831 7.28305 3.88207C7.40305 3.82207 7.53305 3.78207 7.67305 3.78207C8.17305 3.78207 8.61305 4.05207 8.86305 4.45207C8.86971 4.44874 8.87638 4.44429 8.88305 4.43985C8.89638 4.43096 8.90971 4.42207 8.92305 4.42207C9.03305 4.39207 9.15305 4.38207 9.27305 4.40207Z",fill:"currentColor"}),S.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.69305 5.10906V6.11207L3.50305 5.92207C3.38305 5.79207 3.23305 5.69207 3.06305 5.63207C2.90305 5.57207 2.72305 5.54207 2.54305 5.55207C2.36305 5.56207 2.19305 5.61207 2.04305 5.69207C1.88305 5.77207 1.74305 5.89207 1.64305 6.03207C1.47305 6.23207 1.37305 6.51207 1.37305 6.78207C1.37305 7.06207 1.45305 7.33207 1.62305 7.55207L3.17305 9.67207C3.52305 10.1521 3.72305 10.4221 3.96305 10.6421C4.33305 10.9721 4.77305 11.1921 5.25305 11.3021C5.56305 11.3721 5.87305 11.3721 6.48305 11.3721C7.64305 11.3721 8.22305 11.3721 8.74305 11.1721C8.97752 11.0819 9.19393 10.9592 9.39443 10.8104L10.1904 11.6065L10.8975 10.8993L1.70515 1.70696L0.998047 2.41406L3.69305 5.10906ZM4.43305 5.84906V7.05207C4.43305 7.21207 4.34305 7.34207 4.20305 7.40207C4.06305 7.45207 3.90305 7.42207 3.79305 7.31207L2.96305 6.45207C2.91305 6.39207 2.85305 6.36207 2.79305 6.33207C2.73305 6.30207 2.66305 6.30207 2.59305 6.30207C2.52305 6.30207 2.45305 6.32207 2.39305 6.35207C2.32305 6.38207 2.27305 6.43207 2.23305 6.48207C2.16305 6.57207 2.12305 6.69207 2.12305 6.80207C2.12305 6.91207 2.15305 7.03207 2.22305 7.12207L3.77305 9.23207C4.10305 9.69207 4.27305 9.92207 4.45305 10.0821C4.73305 10.3221 5.06305 10.4921 5.41305 10.5721C5.64305 10.6221 5.92305 10.6221 6.48305 10.6221C7.55305 10.6221 8.08305 10.6221 8.46305 10.4721C8.60165 10.4195 8.7334 10.3532 8.85721 10.2732L4.43305 5.84906Z",fill:"currentColor"})))))};var es=["title","titleId"];function eo(){return(eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let ea=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,es);return S.createElement("svg",eo({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,o||(o=S.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.227 7.79V3.578c0-.872-.692-1.579-1.545-1.579c-.854 0-1.546.707-1.546 1.579v10.487l-1.669-1.711a1.71 1.71 0 0 0-2.586.146a1.816 1.816 0 0 0-.033 2.182l3.095 4.23c.702.96 1.053 1.439 1.476 1.812c.645.57 1.417.965 2.248 1.152c.545.123 1.13.123 2.301.123c2.232 0 3.348 0 4.237-.35a5.2 5.2 0 0 0 2.954-3.027c.341-.91.341-2.055.341-4.342v-2.603c0-1.029-.728-1.907-1.722-2.076l-.353-.06a.88.88 0 0 0-1.016.88m-6.182-2.633l.595-.304c.287-.146.607-.24.918-.164a2.1 2.1 0 0 1 1.578 2.047m-3.09-1.579v2.632m3.09-1.053v1.053m0-1.053c0-.58.462-1.052 1.03-1.052c1.138 0 2.061.942 2.061 2.105m0 0v1.053",color:"currentColor"})))};var ec=["title","titleId"];function eh(){return(eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let eu=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ec);return S.createElement("svg",eh({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,a||(a=S.createElement("path",{fill:"currentColor",d:"M12 6a9.77 9.77 0 0 1 8.82 5.5a9.647 9.647 0 0 1-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42l1.41-1.41L3.42 2.45zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02a2.5 2.5 0 0 1-2.5-2.5c0-.05.01-.08.01-.13m-3.4-3.4l1.75 1.75a4.6 4.6 0 0 0-.36 1.78a4.507 4.507 0 0 0 6.27 4.14l.98.98c-.88.24-1.8.38-2.75.38a9.77 9.77 0 0 1-8.82-5.5c.7-1.43 1.72-2.61 2.93-3.53"})))};var ed=["title","titleId"];function ef(){return(ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let ep=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ed);return S.createElement("svg",ef({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,c||(c=S.createElement("path",{fill:"currentColor",d:"M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5a2.5 2.5 0 0 1 0 5a2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"})))};var em=n(65269),ev=n.n(em);function eg(e){let{node:t,onClick:n,onLinkClick:r,onVisibilityClick:i,onPickableClick:l}=e,s=t.children.length,{isSelected:o}=t,{selectable:a,hierarchyOpen:c}=t.metadata,h=!c&&(0,U.zN)(t.descendants(),e=>e.isSelected);return(0,C.jsxs)("div",{className:(0,z.S)(et().Node,o&&et().isSelected,a&&et().selectable,h&&et().containsSelectedChild),onClick:e=>{e.preventDefault(),null==n||n(new $(e.nativeEvent))},children:[(0,C.jsx)("div",{className:et().Background}),(0,C.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),null==r||r(new $(e.nativeEvent))},children:(0,C.jsx)(en,{node:t})}),(0,C.jsxs)("div",{className:et().Label,children:[t.object.name?(0,C.jsx)("span",{children:t.object.name}):(0,C.jsx)("span",{className:et().ConstructorName,children:t.object.constructor.name}),s>0&&(0,C.jsx)("span",{className:et().ChildCount,children:t.totalChildCount>s?(0,C.jsxs)(C.Fragment,{children:["(",s,"/",t.totalChildCount,")"]}):(0,C.jsxs)(C.Fragment,{children:["(",s,")"]})})]}),(0,C.jsxs)("div",{className:(0,z.S)(ev().Abs,et().RightButtons),children:[(0,C.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),null==l||l(new $(e.nativeEvent))},children:!1!==t.object.userData.pickable?(0,C.jsx)("div",{className:et().RequireHover,children:(0,C.jsx)(ea,{})}):(0,C.jsx)("div",{className:et().FadeInHover,children:(0,C.jsx)(el,{})})}),(0,C.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),null==i||i(new $(e.nativeEvent))},children:t.object.visible?(0,C.jsx)("div",{className:et().RequireHover,children:(0,C.jsx)(ep,{})}):(0,C.jsx)("div",{className:et().FadeInHover,children:(0,C.jsx)(eu,{})})})]})]})}function eb(){let e=E(),t=t0(function*(t){yield t.onRefresh(e)}),{three:n}=t,r=new Z(t,n.scene),[i,l]=(0,S.useState)({lastClickTarget:null});function s(e){return t.sceneSelection.objects.has(e.object)?[...t.sceneSelection.objects].filter(e=>e instanceof N.B69):[e.object]}return(0,C.jsxs)("div",{className:"flex flex-col max-h-full h-full",children:[(0,C.jsx)("div",{className:ev().Abs,style:{right:0,top:-20},children:(0,C.jsx)(X,{onClick:t.requestRefreshImmediate,children:"refresh"})}),(0,C.jsxs)("div",{className:et().HierarchyList,children:[(0,C.jsx)("div",{className:ev().Abs0,children:(0,C.jsx)(W,{tree:r})}),r.allNodes.map(e=>(0,C.jsx)(eg,{node:e,onClick:n=>{let{lastClickTarget:s}=i,o=n.shiftKey?"add-range":n.metaKey||n.ctrlKey?"toggle-one":"set",a=({"add-range":()=>(function(e,t){for(let n of t)e.add(n);return e})(t.sceneSelection.objects,function(e,t){let[n,r]=t,i=e.allNodes.findIndex(e=>e.object===n),l=e.allNodes.findIndex(e=>e.object===r);if(-1===i||-1===l)return -1===i&&-1===l?[]:-1===i?[r]:[n];let s=Math.min(i,l),o=Math.max(i,l);return e.allNodes.slice(s,o+1).filter(e=>e.parentsAreOpen()).map(e=>e.object)}(r,[s,e.object])),"toggle-one":()=>{var n,r;return n=t.sceneSelection.objects,r=e.object,n.has(r)?n.delete(r):n.add(r),n},set:()=>new Set([e.object])})[o](),c='Change selection in hierarchy (mode "'.concat(o,'", ').concat(a.size," objects selected)");t.sceneSelection.set(c,a,{execute:()=>{l({lastClickTarget:e.object})},undo:()=>{l({lastClickTarget:s})}})},onLinkClick:()=>{let n=!e.metadata.hierarchyOpen;for(let r of s(e))t.metadata.get(r).set({hierarchyOpen:n})},onVisibilityClick:()=>{let n=!e.object.visible,r=s(e);t.history.push({comment:"Toggle visibility (".concat(n?"visible":"hidden"," x").concat(r.length," objects)"),execute:()=>{for(let e of r)e.visible=n},undo:()=>{for(let e of r)e.visible=!n}})},onPickableClick:()=>{let{pickable:n=!0}=e.object.userData;n=!n;let r=s(e);t.history.push({comment:"Toggle pickable (".concat(n?"pickable":"unpickable"," x").concat(r.length," objects)"),execute:()=>{for(let e of r)e.userData.pickable=n},undo:()=>{for(let e of r)e.userData.pickable=!n}})}},e.object.uuid))]})]})}function ey(){return(0,C.jsx)(F,{title:"Hierarchy",content:()=>(0,C.jsx)(eb,{})})}var ex=["title","titleId"];function ew(){return(ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let ej=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ex);return S.createElement("svg",ew({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,h||(h=S.createElement("path",{fill:"currentColor",d:"M9.9 19q-2.425 0-4.163-1.575T4 13.5t1.738-3.925T9.9 8h6.3l-2.6-2.6L15 4l5 5l-5 5l-1.4-1.4l2.6-2.6H9.9q-1.575 0-2.738 1T6 13.5T7.163 16T9.9 17H17v2z"})))};var eC=["title","titleId"];function eS(){return(eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let eO=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,eC);return S.createElement("svg",eS({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,u||(u=S.createElement("path",{fill:"currentColor",d:"M7 19v-2h7.1q1.575 0 2.738-1T18 13.5T16.838 11T14.1 10H7.8l2.6 2.6L9 14L4 9l5-5l1.4 1.4L7.8 8h6.3q2.425 0 4.163 1.575T20 13.5t-1.737 3.925T14.1 19z"})))};var e_=n(73879),eE=n.n(e_);function ek(e){var t;let{commandType:n,command:r,...i}=e;return(0,C.jsxs)("div",{...i,className:(0,z.S)(eE().Command,"undo"===n?eE().Undo:eE().Redo),children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{children:r.historyIndex}),(0,C.jsx)("span",{children:null!=(t=r.comment)?t:"..."})]}),(0,C.jsx)("div",{children:"undo"===n?(0,C.jsx)(eO,{}):(0,C.jsx)(ej,{})})]})}function eN(e){let{commandCount:t=10}=e,n=t0(),r=Math.min(n.history.redoCount,t),i=Math.min(n.history.undoCount,t-r);return(0,C.jsx)("div",{className:eE().History,children:(0,C.jsxs)("div",{className:eE().Stack,children:[i>0&&n.history.undoStack.slice(-i).map((e,t)=>(0,C.jsx)(ek,{commandType:"undo",command:e,onClick:()=>{n.history.undo(i-t)}},t)),function(e,t){let n=[];for(let r=e.length-1;r>=0;r--)n.push(t(e[r],r));return n}(n.history.redoStack.slice(0,r),(e,t)=>(0,C.jsx)(ek,{commandType:"redo",command:e,onClick:()=>{n.history.redo(r-t)}},t))]})})}function eP(e){let t=t0();return t1(),(0,C.jsx)("div",{children:(0,C.jsx)(F,{...e,closedByDefault:!0,title:"Undo / Redo (".concat(t.history.undoCount,"::").concat(t.history.redoCount,")"),content:()=>(0,C.jsx)(eN,{})})})}var ez=n(97443),eL=n.n(ez);function eA(){return(0,C.jsx)("div",{className:eL().Separator,children:(0,C.jsx)("div",{style:{backgroundColor:"#fff3",height:"1px"}})})}var eI=n(36508),eM=n(79285),eT=n(80425);let eD={min:0,max:1,step:0,pow:0,ease:"linear"};var eR=n(79789),eV=n.n(eR);class eY{getInputId(){return"input-".concat(this.id)}getInputName(){return"input-".concat(this.atomNamespace,"-").concat(this.atomType[0])}createLabel(e){let t=document.createElement("label");t.htmlFor=this.getInputId(),t.textContent=e,this.div.appendChild(t),this.labelElement=t;let[,n]=this.atomType;"number"===n&&this.initDraggable()}initDraggable(){this.labelElement.classList.add(eV().draggable);let e=null,t=0;(0,G.s)(this.labelElement,{onHorizontalDragStart:()=>{var n,r;this.focus(),this.div.classList.add(eV().dragging),(e=document.createElement("div")).classList.add(eV().WhileDragging),document.body.appendChild(e),t=this.singleValue,null==(n=(r=this.inputListeners).onDragStart)||n.call(r,this.atomType[0])},onHorizontalDragStop:()=>{var t,n;this.blur(),this.div.classList.remove(eV().dragging),null==e||e.remove(),null==(t=(n=this.inputListeners).onDragEnd)||t.call(n,this.atomType[0])},onHorizontalDrag:e=>{var n,r;let i=e.shiftKey?this.inputOptions.stepLarge:e.altKey?this.inputOptions.stepSmall:this.inputOptions.step,l=t+e.movement.x*this.inputOptions.dragRatio*i;this.element.value=(0,eT.ZV)(l),null==(n=(r=this.inputListeners).onDrag)||n.call(r,this.atomType[0],l)}})}createInput(){let e=document.createElement("input");e.type="text",e.id=this.getInputId(),e.name=this.getInputName(),this.inputDiv.appendChild(e),this.element=e,(0,P.a)(e,[["Enter",()=>{var t,n;e.blur(),this.blur(),null==(t=(n=this.inputListeners).onInput)||t.call(n,this.atomType[0],e.value)}],["Escape",()=>{e.blur(),this.blur()}]]),e.onfocus=()=>this.focus(),e.onblur=()=>this.blur()}createSlider(){let e=document.createElement("div");this.inputDiv.appendChild(e),e.className=eV().Slider;let t=document.createElement("input");e.appendChild(t),t.type="range",t.min="0",t.max="1",t.step="any",t.id=this.getInputId(),t.name=this.getInputName(),this.element=t;let n=document.createElement("div");e.appendChild(n),n.className=eV().ProgressBar;let r=document.createElement("div");e.appendChild(r),r.className=eV().ThinBar;let i=document.createElement("div");e.appendChild(i),i.className="".concat(eV().OvershootUpperBar," ").concat(eV().hidden);let l=document.createElement("div");e.appendChild(l),l.className="".concat(eV().OvershootLowerBar," ").concat(eV().hidden);let s=e=>{let t=function(e,t){let{min:n,max:r,step:i,pow:l}=t;return Number.isFinite(i)&&i>0&&(e=Math.round(e/i)*i),l>0&&(e=Math.log(e)/Math.log(l)),(0,eM.inverseLerpUnclamped)(n,r,e)}(e,this.inputMetadata.props);n.style.width="".concat(100*(0,eM.clamp01)(t),"%"),r.style.left="calc(".concat(t," * (100% - 2px))"),l.classList.toggle(eV().hidden,t>=0),i.classList.toggle(eV().hidden,t<=1)};t.oninput=()=>{var e,n;let r=function(e,t){let{min:n,max:r,step:i,pow:l}=t;return e=(0,eM.lerpUnclamped)(n,r,e),l>0&&(e=Math.pow(l,e)),Number.isFinite(i)&&i>0&&(e=Math.round(e/i)*i),e}(Number.parseFloat(t.value),this.inputMetadata.props);s(r),null==(e=(n=this.inputListeners).onInput)||e.call(n,this.atomType[0],r.toString())},t.onfocus=()=>this.focus(),t.onblur=()=>this.blur(),this.onExternalUpdate=()=>{s(Number.parseFloat(this.singleValue))}}createSelect(e){let t=document.createElement("select");for(let n of(t.id=this.getInputId(),t.name=this.getInputName(),this.inputDiv.appendChild(t),this.element=t,e)){let e=document.createElement("option");e.value=n,e.textContent=n,t.appendChild(e)}t.onfocus=()=>this.focus(),t.onblur=()=>this.blur()}focus(){this.focused=!0,this.div.classList.add(eV().focus)}blur(){this.focused=!1,this.div.classList.remove(eV().focus)}update(e){if(this.focused)return;let[t,n]=this.atomType,r=e[0][t],i=e.length>1&&e.some(e=>e[t]!==r);if(this.singleValue=r,this.isMultiple=i,Array.isArray(n)){let e=this.element;e.value!==r&&(e.value=r)}else if("slider"===n)this.element.value=r,this.onExternalUpdate();else if("number"===n||"string"===n){let e=this.element;if(this.div.classList.toggle(eV().multiple,i),i)e.value="";else try{let t="number"===n?(0,eT.ZV)(r):r;e.value!==t&&(e.value=t)}catch(e){console.log("???",t,r)}}}constructor(e,t,n,r,i={}){var l;this.id=eY.nextId++,this.labelElement=null,this.element=null,this.singleValue=null,this.isMultiple=!1,this.focused=!1,this.onExternalUpdate=()=>{},this.atomNamespace=e,this.atomType=t,this.inputMetadata=n,this.inputOptions=r,this.inputListeners=i;let[s,o,a]=t,c=a&&"key"in a?a.key:s,h=document.createElement("div");h.className=eV().AtomicInput,h.style.flex="".concat(null!=(l=null==a?void 0:a.flex)?l:1),this.div=h,c&&this.createLabel(c);let u=document.createElement("div");h.appendChild(u),this.inputDiv=u,Array.isArray(o)?this.createSelect(o):"slider"===o?this.createSlider():this.createInput()}}eY.nextId=0;class eF{constructor(){this.name=null,this.mode=null,this.props={}}}let eB=new eF,eH=new Map;eH.set(N.O9p,[["x","number"],["y","number"],["z","number"],["order",["XYZ","XZY","YXZ","YZX","ZXY","ZYX"],{key:"or.",flex:"0 0 5.8em"}]]);let eX={step:1,stepSmall:.1,stepLarge:10,dragRatio:.1,min:-1/0,max:1/0};function*eU(e,t,n,r,i,l,s,o){var a;let c=document.createElement("div");c.className=eV().MainLabel,c.textContent=" ".concat(null!=(a=l.name)?a:e),i.appendChild(c);let h=document.createElement("div");i.appendChild(h);let u=[];for(let t of n){let n=new eY(e,t,l,s,o);if(u.push(n),"slider"===t[1]){let[e,n,r]=t,i=[e,"number",{...r,flex:".3"}],a=new eY(e,i,l,s,o);u.push(a)}}for(let e of u)h.appendChild(e.div);yield(0,eI.xy)("some-three-editor",{timeInterval:1/12},()=>{for(let e of u)e.update(t)}),yield()=>{i.textContent=""}}function eW(e){let{mainLabel:t="...",metadata:n=new eF,template:r,options:i,value:l,...s}=e,o=l?Array.isArray(l)?l:[...l()]:[{x:0}],a=t0(),{ref:c}=(0,O.useEffects)(function*(e){switch(n.mode){case null:{let l=null!=r?r:function(e){e||(console.log({object:e}),console.trace());let t=eH.get(e.constructor);if(t)return t;let n=[];for(let t in e){let r=typeof e[t];("number"===r||"string"===r)&&n.push([t,r])}return n}(o[0]);yield*eU(t,o,l,a,e,n,{...eX,...i},s);break}case"slider":yield*eU(t,o,[[t,"slider",{key:null}]],a,e,n,{...eX,...i},s);break;default:throw Error("Unknown mode: ".concat(n.mode))}},"always");return(0,C.jsx)("div",{ref:c,className:eV().InlineInput})}var eq=n(36575),eZ=n(64028),e$=n(2910),eG=n.n(e$);function eK(e){let{visible:t=!0,onVisibilityClick:n}=e;return(0,C.jsx)("div",{className:eG().StateButtons,children:(0,C.jsx)("div",{onClick:e=>{e.stopPropagation(),null==n||n(new $(e.nativeEvent))},children:t?(0,C.jsx)("div",{className:"require-hover",children:(0,C.jsx)(ep,{})}):(0,C.jsx)("div",{className:"require-hover-fadein",children:(0,C.jsx)(eu,{})})})})}function eJ(e){let{prefix:t="",object:n}=e;return n.name?(0,C.jsxs)("span",{children:[t,n.name]}):(0,C.jsxs)("span",{style:{fontStyle:"italic"},children:[t,n.constructor.name]})}var eQ=n(82307),e0=n.n(eQ);function e1(e){let{parent:t}=e,n=t0();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:e0().Parent,onClick:()=>{n.sceneSelection.set("Up To Parent",[t])},children:[(0,C.jsx)(eJ,{object:t}),(0,C.jsx)("span",{children:"(parent)"})]}),(0,C.jsx)(eA,{})]})}function e2(e){let{objectChildren:t}=e,n=t0(),[r,i]=(0,S.useState)(3);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(eA,{}),(0,C.jsxs)("div",{className:e0().Children,children:[t.slice(0,r).map((e,t)=>(0,C.jsxs)("div",{onClick:()=>{n.sceneSelection.set("Down To Child",[e])},children:[(0,C.jsx)(eJ,{object:e}),(0,C.jsxs)("span",{children:["(child ",t,")"]})]},e.uuid)),r<t.length&&(0,C.jsxs)("button",{onClick:()=>i(1/0),children:["Show more children (",t.length-r,")"]}),r===1/0&&t.length>3&&(0,C.jsx)("button",{onClick:()=>i(3),children:"Show less children"})]})]})}function e5(e){var t;let{object:n}=e,r=t0();if(t1(),!n)return(0,C.jsx)("div",{children:"Error!"});let{name:i}=n,l=function(e){let t=[],n=Object.getPrototypeOf(e);for(;n&&(Object.hasOwn(n,"displayName")?t.push(n.displayName):t.push(n.constructor.name),n!==N.B69.prototype);)n=Object.getPrototypeOf(n);return t}(n),[s]=l;return(0,C.jsxs)("div",{className:e0().TitleSingle,children:[(null==(t=n.parent)?void 0:t.parent)&&(0,C.jsx)(e1,{parent:n.parent}),(0,C.jsxs)("h1",{className:"require-hover-parent",style:{position:"relative"},children:[i?(0,C.jsx)("span",{children:i}):(0,C.jsx)("span",{style:{fontStyle:"italic"},children:s}),(0,C.jsx)("div",{className:"flex flex-row items-center",style:{position:"absolute",right:0,top:0,height:"100%"},children:(0,C.jsx)(eK,{visible:n.visible,onVisibilityClick:()=>(0,eZ.LF)(r)})})]}),(0,C.jsx)("div",{className:e0().ConstructorNames,children:"(".concat(l.join("  "),")")}),(0,C.jsx)("div",{className:e0().UUID,children:n.uuid}),n.children.length>0&&(0,C.jsx)(e2,{objectChildren:n.children})]})}function e7(){let e=t0(),t=[...(0,eq.A)(e.sceneSelection.obs)];return 0===t.length?(0,C.jsxs)("h1",{children:[(0,C.jsx)("span",{children:"Inspector "}),(0,C.jsx)("span",{className:e0().dim,children:"(No selection)"})]}):1===t.length?(0,C.jsx)(e5,{object:t[0]}):(0,C.jsxs)("h1",{style:{color:"var(--multiple-color)",fontStyle:"italic"},children:["Multiple Objects (",t.length,")"]})}var e3=n(35109),e4=n(78985),e9=n.n(e4);function e6(e){let{objects:t}=e,n=t0(),r=e=>(r,i)=>{try{let l=new q.x_(t).beforeSnapshot();for(let n=0,l=t.length;n<l;n++){let s=t[n][e],o=0===l?0:n/(l-1),a=(0,e3._3)(i,{i:n,n:l,t:o});"number"==typeof a&&(s[r]=a)}l.afterSnapshot().comment('Set "'.concat(r,'" ').concat(e," (").concat(i,")")).flush(n)}catch(e){console.log(e)}},i=(0,S.useRef)(null),l=e=>n=>{i.current=new q.x_(t).comment('Dragging "'.concat(n,'" ').concat(e)).beforeSnapshot()},s=()=>{i.current.afterSnapshot().flush(n)},o=e=>(n,r)=>{for(let i of t)i[e][n]=r};return(0,C.jsxs)("div",{className:e9().TransformPanel,children:[(0,C.jsx)(eW,{mainLabel:"Position",value:t.map(e=>e.position),onInput:r("position"),onDragStart:l("position"),onDrag:o("position"),onDragEnd:s}),(0,C.jsx)(eW,{mainLabel:"Rotation",value:t.map(e=>e.rotation),onInput:r("rotation"),onDragStart:l("rotation"),onDrag:o("rotation"),onDragEnd:s}),(0,C.jsx)(eW,{mainLabel:"Scale",value:t.map(e=>e.scale),onInput:r("scale"),onDragStart:l("scale"),onDrag:o("scale"),onDragEnd:s})]})}function e8(){let e=t0();t1();let t=[...e.sceneSelection.objects];return 0===t.length?(0,C.jsx)("div",{children:"..."}):(0,C.jsx)("div",{style:{color:1===t.length?"inherit":"var(--multiple-color)"},children:(0,C.jsx)(F,{title:"Transform",content:()=>(0,C.jsx)(e6,{objects:t})})})}function te(e){let{geometry:t}=e;return(0,C.jsx)("div",{children:(0,C.jsx)(F,{title:"Geometry",content:()=>{var e,n;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{fontSize:"var(--font-size-tiny)"},children:t.uuid}),(0,C.jsxs)("div",{className:e0().Geometry,style:{fontSize:"var(--font-size-small)"},children:[(0,C.jsxs)("div",{children:["vertices: ",null!=(n=null==(e=t.attributes.position)?void 0:e.count)?n:"\xf8"]}),t.index&&(0,C.jsxs)("div",{children:["triangles (index): ",t.index.count/3]}),(0,C.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,C.jsx)("span",{children:"attributes:"}),Object.keys(t.attributes).map(e=>(0,C.jsxs)("div",{className:e0().SmallButton,children:[e," (",t.attributes[e].count,")"]},e))]})]})]})}})})}function tt(){let e=t0();t1();let t=[...e.sceneSelection.objects],n=t.length>0?t[0]:null,r=[];if(n&&"geometry"in n&&(r.push((0,C.jsx)(eA,{},r.length)),r.push((0,C.jsx)(te,{geometry:n.geometry},"geometry"))),n&&1===t.length&&("userData"in n&&Object.keys(n.userData).length>0&&(r.push((0,C.jsx)(eA,{},r.length)),r.push((0,C.jsx)(tr,{userData:n.userData},"userData"))),"material"in n)){let e=n.material;e instanceof N.imn&&"userData"in e&&Object.keys(e.userData).length>0&&(r.push((0,C.jsx)(eA,{},r.length)),r.push((0,C.jsx)(tr,{inParentheses:"material",userData:e.userData},"materialUserData")))}return(0,C.jsx)("div",{children:r})}function tn(e){let{userData:t}=e;return(0,C.jsx)(C.Fragment,{children:(function(e){let t=[];function n(e){let n=t.find(t=>t.key===e);if(n)return n;{let n={key:e,value:void 0,meta:eB};return t.push(n),n}}for(let t of Object.keys(e)){let r=e[t];!("links"===t&&Array.isArray(r))&&(r&&"object"==typeof r||(t.endsWith("_meta")?n(t.slice(0,-5)).meta=function(e){let t=(e=e.trim()).split(/\s*[;\n]\s*/),n=new eF;for(let r of t)if(/^Slider/i.test(r)){let e=function(e){let[t,n,...r]=e.split(/\s*,\s*/).map(e=>e.trim()),i={...eD,min:Number.parseFloat(t),max:Number.parseFloat(n)};for(let e of r){let[t,n]=e.split(":").map(e=>e.trim());i[t]=/^ease$/.test(t)?n:Number.parseFloat(n)}return i}(r.slice(7,-1).trim());n.mode="slider",Object.assign(n.props,e)}else if(/^Name/i.test(r))n.name=r.slice(5,-1).trim();else throw Error("Invalid property metadata: ".concat(e," (chunk: ").concat(r,")"));return n}(r):n(t).value=r))}return t})(t).map(e=>(0,C.jsx)(eW,{mainLabel:e.key,value:[t],metadata:e.meta,template:[[e.key,"number",{key:null}]],onInput:(n,r)=>{t[e.key]=Number.parseFloat(r)}},e.key))})}function tr(e){let{inParentheses:t,...n}=e;return(0,C.jsx)(F,{title:"User Data"+(t?" (".concat(t,")"):""),content:()=>(0,C.jsx)(tn,{...n})})}function ti(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(e7,{}),(0,C.jsx)(eA,{}),(0,C.jsx)(e8,{}),(0,C.jsx)(tt,{})]})}var tl=n(21667),ts=n(42206);function to(){return(0,C.jsx)("div",{className:(0,z.S)(ev().Abs0,eL().PanelBackground)})}function ta(e){var t;let{separators:n=!1,className:r,children:i,...l}=e;return(0,C.jsxs)("div",{className:(0,z.S)(eL().Panel,r),...l,children:[(0,C.jsx)(to,{}),(0,C.jsx)("div",{className:"z-10 max-h-full max-w-full flex flex-col w-full h-full overflow-hidden",children:n?S.Children.toArray(i).reduce((t=e=>(0,C.jsx)(eA,{},e),(e,n,r)=>(r>0&&e.push(t(r)),e.push(n),e)),[]):i})]})}var tc=n(47801),th=n.n(tc);function tu(){return(0,C.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,C.jsx)(to,{})})}function td(e){var t,n,r,i;let l=t0(),{ref:s}=(0,O.useEffects)(function*(e){let t=new ts.$x(ts.OP.Vertical).setPadding(6).setSize(e.clientWidth,e.clientHeight),n=new ts.$x().setSize("1rel","1fr").addTo(t);new ts.$x().setSize("1rel",6).addTo(t);let r=new ts.$x().setSize("1rel","200abs").addTo(t),i=new ts.$x().setSize("280abs","1fr").addTo(n);new ts.$x().setSize(6,"1fr").addTo(n);let s=new ts.$x(ts.OP.Vertical).setSize("1fr","1fr").addTo(n);new ts.$x().setSize(6,"1fr").addTo(n);let o=new ts.$x().setSize("280abs","1fr").addTo(n),a=new ts.$x().setSize("1fr","48abs").addTo(s),c=new ts.$x().setSize("1fr","1fr").addTo(s);function h(e,t){let{width:n,height:r,top:i,left:l}=t;e.style.left="".concat(l,"px"),e.style.top="".concat(i,"px"),e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px")}class u{show(){this.element.style.removeProperty("display")}hide(){this.element.style.setProperty("display","none")}update(){h(this.element,this.space.rect)}constructor(t,n){this.name=t,this.space=n,this.element=e.querySelector(".".concat(t))}}let d=[new u("bottom-bar",r),new u("left-col",i),new u("right-col",o),new u("top-bar",a)],f=new u("viewport",c),p=e.querySelector(".viewport"),m=e.querySelector(".viewport-frame");function v(){if(t.computeLayout(),l.uiVisibility.is(!0)){for(let e of(m.style.removeProperty("display"),d))e.show(),e.update();f.update()}else{for(let e of d)e.hide();m.style.setProperty("display","none"),h(p,t.rect)}}v(),yield l.uiVisibility.onChange(v),yield(0,tl.G)(e,{onSize:e=>{t.setSize(e.size.x,e.size.y),v()}})},[]);return(0,C.jsxs)("div",{ref:s,className:(0,z.S)(th().Layout,ev().Abs0,ev().Thru),children:[(0,C.jsx)("div",{className:"".concat(ev().EditorUI," bottom-bar"),children:null!=(t=e.bottomBar)?t:(0,C.jsx)(tu,{})}),(0,C.jsx)("div",{className:"".concat(ev().EditorUI," top-bar"),children:null!=(n=e.topBar)?n:(0,C.jsx)(tu,{})}),(0,C.jsx)("div",{className:"".concat(ev().EditorUI," left-col"),children:null!=(r=e.leftCol)?r:(0,C.jsx)(tu,{})}),(0,C.jsx)("div",{className:"".concat(ev().EditorUI," right-col"),children:null!=(i=e.rightCol)?i:(0,C.jsx)(tu,{})}),(0,C.jsxs)("div",{className:(0,z.S)("viewport",ev().Thru),children:[(0,C.jsx)("div",{className:(0,z.S)("viewport-frame",ev().Abs0,ev().Thru),style:{border:"1px solid #fff6",borderRadius:"6px"}}),e.children]})]})}var tf=n(44544),tp=n.n(tf);function tm(){return(0,C.jsx)("div",{className:tp().OrbitControlsPanel,children:(0,C.jsx)(F,{title:"Orbit Controls",content:()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{children:"eye"}),(0,C.jsx)("div",{})]})})})}var tv=n(83215),tg=n.n(tv);function tb(e){let{objects:t}=e;return(0,C.jsx)("div",{className:tg().Selection,children:t.map(e=>(0,C.jsx)("div",{children:e.name?(0,C.jsx)("span",{children:e.name}):(0,C.jsx)("span",{style:{fontStyle:"italic"},children:e.constructor.name})},e.uuid))})}function ty(){let e=t0();t1();let t=[...e.sceneSelection.objects];return(0,C.jsx)("div",{children:(0,C.jsx)(F,{closedByDefault:!0,title:"Selection (".concat(t.length,")"),content:()=>(0,C.jsx)(tb,{objects:t})})})}var tx=["title","titleId"];function tw(){return(tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let tj=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tx);return S.createElement("svg",tw({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,d||(d=S.createElement("g",{id:"Local"},S.createElement("path",{id:"Polygon 12",d:"M4.95577 7.93301L12 3.86603L19.0442 7.93301V16.067L12 20.134L4.95577 16.067V7.93301Z",stroke:"currentColor",strokeWidth:1.5}),S.createElement("path",{id:"Vector 50",d:"M12 12L5 8M12 12L19 8M12 12V20",stroke:"currentColor"}),S.createElement("path",{id:"Vector 51",d:"M12 12L19 16M12 12L5 16M12 12L12 4",stroke:"currentColor",strokeOpacity:.25}))))};var tC=["title","titleId"];function tS(){return(tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let tO=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tC);return S.createElement("svg",tS({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,f||(f=S.createElement("path",{d:"M12 3V4C12 4 11.9948 3.99998 11.9847 4.00305C11.9736 4.00645 11.9515 4.01483 11.9186 4.03507C11.8494 4.07752 11.7455 4.16408 11.6177 4.32624C11.3575 4.65642 11.0794 5.19616 10.8274 5.95227C10.5429 6.80573 10.3145 7.86478 10.1704 9.06203C10.7612 9.02137 11.3731 9 12 9C12.2776 9 12.5524 9.00419 12.8236 9.01239C12.8634 9.33715 12.8971 9.67221 12.924 10.0162C12.6211 10.0055 12.3128 10 12 10C11.3341 10 10.6887 10.025 10.0718 10.0718C10.025 10.6887 10 11.3341 10 12C10 12.3128 10.0055 12.6211 10.0162 12.924C9.67221 12.8971 9.33715 12.8634 9.01239 12.8236C9.00419 12.5524 9 12.2776 9 12C9 11.3731 9.02137 10.7612 9.06203 10.1704C7.86478 10.3145 6.80573 10.5429 5.95227 10.8274C5.19616 11.0794 4.65642 11.3575 4.32624 11.6177C4.16408 11.7455 4.07752 11.8494 4.03507 11.9186C4.01483 11.9515 4.00645 11.9736 4.00305 11.9847C3.99998 11.9948 4 12 4 12H3C3 10.6748 5.57782 9.55025 9.15318 9.15318C9.55025 5.57782 10.6748 3 12 3Z",fill:"currentColor",fillOpacity:.25})),p||(p=S.createElement("path",{d:"M9.06203 13.8296C9.3438 17.9229 10.5521 21 12 21V20C12 20 11.9951 20.0001 11.9847 19.9969C11.9736 19.9935 11.9515 19.9852 11.9186 19.9649C11.8494 19.9225 11.7455 19.8359 11.6177 19.6738C11.3575 19.3436 11.0794 18.8038 10.8274 18.0477C10.4652 16.9613 10.1941 15.5419 10.0718 13.9282C9.7258 13.902 9.38877 13.869 9.06203 13.8296Z",fill:"currentColor",fillOpacity:.25})),m||(m=S.createElement("path",{d:"M13.8296 9.06203C17.9229 9.3438 21 10.5521 21 12H20C20 12 20.0001 11.9951 19.9969 11.9847C19.9935 11.9736 19.9852 11.9515 19.9649 11.9186C19.9225 11.8494 19.8359 11.7455 19.6738 11.6177C19.3436 11.3575 18.8038 11.0794 18.0477 10.8274C16.9613 10.4652 15.5419 10.1941 13.9282 10.0718C13.902 9.72581 13.869 9.38877 13.8296 9.06203Z",fill:"currentColor",fillOpacity:.25})),v||(v=S.createElement("path",{d:"M3 12C3 13.6569 7.02944 15 12 15C16.9706 15 21 13.6569 21 12H20C20 12 20 12.0052 19.9969 12.0153C19.9935 12.0264 19.9852 12.0485 19.9649 12.0814C19.9225 12.1506 19.8359 12.2545 19.6738 12.3823C19.3436 12.6425 18.8038 12.9206 18.0477 13.1726C16.546 13.6732 14.4077 14 12 14C9.59229 14 7.45402 13.6732 5.95227 13.1726C5.19616 12.9206 4.65642 12.6425 4.32624 12.3823C4.16408 12.2545 4.07752 12.1506 4.03507 12.0814C4.01483 12.0485 4.00645 12.0264 4.00305 12.0153C4.00018 12.0059 4 12 4 12H3Z",fill:"currentColor"})),g||(g=S.createElement("path",{d:"M12 3C13.6569 3 15 7.02944 15 12C15 16.9706 13.6569 21 12 21V20C12 20 12.0052 20 12.0153 19.9969C12.0264 19.9935 12.0484 19.9852 12.0814 19.9649C12.1506 19.9225 12.2545 19.8359 12.3823 19.6738C12.6425 19.3436 12.9206 18.8038 13.1726 18.0477C13.6732 16.546 14 14.4077 14 12C14 9.59229 13.6732 7.45402 13.1726 5.95227C12.9206 5.19616 12.6425 4.65642 12.3823 4.32624C12.2545 4.16408 12.1506 4.07752 12.0814 4.03507C12.0485 4.01483 12.0264 4.00645 12.0153 4.00305C12.0059 4.00018 12 4 12 4V3Z",fill:"currentColor"})),b||(b=S.createElement("circle",{cx:12,cy:12,r:9.75,stroke:"currentColor",strokeWidth:1.5})))};var t_=["title","titleId"];function tE(){return(tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let tk=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,t_);return S.createElement("svg",tE({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,y||(y=S.createElement("g",{id:"Scale"},S.createElement("path",{id:"Vector",d:"M4.25 19.75V4.25H19.75L19.75 19.75H4.25Z",stroke:"currentColor",strokeWidth:1.5}),S.createElement("path",{id:"Vector_2",d:"M5 12H12L12 19",stroke:"currentColor"}))))};var tN=["title","titleId"];function tP(){return(tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let tz=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tN);return S.createElement("svg",tP({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,x||(x=S.createElement("g",{id:"Select"},S.createElement("path",{id:"Vector",d:"M8 17V4L17 13H11.65L8 17Z",stroke:"currentColor",strokeWidth:1.5}),S.createElement("path",{id:"Vector 49",d:"M12 13.5L15 20.5",stroke:"currentColor",strokeWidth:1}))))};var tL=["title","titleId"];function tA(){return(tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let tI=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tL);return S.createElement("svg",tA({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,w||(w=S.createElement("g",{id:"Translate"},S.createElement("path",{id:"Vector",d:"M5.5 4V19H20.5",stroke:"currentColor",strokeWidth:1.5}),S.createElement("path",{id:"Vector 48",d:"M5.5 19L11.5 13",stroke:"currentColor"}))))};var tM=["title","titleId"];function tT(){return(tT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let tD=function(e){var t=e.title,n=e.titleId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tM);return S.createElement("svg",tT({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?S.createElement("title",{id:n},t):null,j||(j=S.createElement("g",{id:"World"},S.createElement("circle",{id:"Ellipse 65",cx:12,cy:12,r:8.75,stroke:"currentColor",strokeWidth:1.5}),S.createElement("path",{id:"Ellipse 70",d:"M7.5 12C7.5 14.2699 7.95897 16.3497 8.72436 17.8805C9.47479 19.3813 10.604 20.5 12 20.5C13.396 20.5 14.5252 19.3813 15.2756 17.8805C16.041 16.3497 16.5 14.2699 16.5 12C16.5 9.73007 16.041 7.65031 15.2756 6.11954C14.5252 4.61867 13.396 3.5 12 3.5C10.604 3.5 9.47479 4.61867 8.72436 6.11954C7.95897 7.65031 7.5 9.73007 7.5 12Z",stroke:"currentColor"}),S.createElement("path",{id:"Intersect",fillRule:"evenodd",clipRule:"evenodd",d:"M17.864 6.55762C17.6746 6.6843 17.4576 6.81039 17.2102 6.93407C15.9286 7.57487 14.0881 8.00007 12.0006 8.00007C9.913 8.00007 8.07251 7.57487 6.79091 6.93407C6.54355 6.81039 6.32653 6.68429 6.13709 6.55762C5.90973 6.80245 5.69752 7.06154 5.50195 7.3334C6.95419 8.34278 9.32385 9.00007 12.0006 9.00007C14.6773 9.00007 17.0469 8.34278 18.4992 7.3334C18.3036 7.06154 18.0914 6.80245 17.864 6.55762ZM18.4992 16.6667C17.0469 15.6574 14.6773 15.0001 12.0006 15.0001C9.32386 15.0001 6.95419 15.6574 5.50195 16.6667C5.69752 16.9386 5.90973 17.1977 6.13709 17.4425C6.32654 17.3158 6.54355 17.1898 6.79091 17.0661C8.07251 16.4253 9.913 16.0001 12.0006 16.0001C14.0881 16.0001 15.9286 16.4253 17.2102 17.0661C17.4576 17.1898 17.6746 17.3158 17.864 17.4425C18.0914 17.1977 18.3036 16.9386 18.4992 16.6667Z",fill:"currentColor",fillOpacity:.25}),S.createElement("path",{id:"Line 100",d:"M3 12H21",stroke:"currentColor"}),S.createElement("path",{id:"Line 101",d:"M12 3L12 21",stroke:"currentColor"}))))};var tR=n(5735),tV=n.n(tR);function tY(){let e=t0(),t=(0,eq.A)(e.spaceMode);return(0,C.jsx)("button",{className:tV().ToolbarButton,style:{flex:"0 0 4em",width:"4em"},onClick:()=>{e.spaceMode.set(t===q.sU.World?q.sU.Local:q.sU.World)},children:t===q.sU.World?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(tD,{}),(0,C.jsx)("span",{children:"World"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(tj,{}),(0,C.jsx)("span",{children:"Local"})]})})}function tF(){let e=t0(),t=(0,eq.A)(e.toolType);return(0,C.jsxs)("div",{className:tV().ToolTypeSwitch,children:[(0,C.jsx)("div",{className:(0,z.S)(tV().Toggle,t===q.pv.Select&&tV().active),onClick:()=>e.toolType.set(q.pv.Select),children:(0,C.jsx)(tz,{})}),(0,C.jsx)("div",{className:(0,z.S)(tV().Toggle,t===q.pv.Move&&tV().active),onClick:()=>e.toolType.set(q.pv.Move),children:(0,C.jsx)(tI,{})}),(0,C.jsx)("div",{className:(0,z.S)(tV().Toggle,t===q.pv.Rotate&&tV().active),onClick:()=>e.toolType.set(q.pv.Rotate),children:(0,C.jsx)(tO,{})}),(0,C.jsx)("div",{className:(0,z.S)(tV().Toggle,t===q.pv.Scale&&tV().active),onClick:()=>e.toolType.set(q.pv.Scale),children:(0,C.jsx)(tk,{})})]})}function tB(){return(0,C.jsx)("div",{className:tV().Toolbar,children:(0,C.jsxs)("div",{className:tV().Wrapper,children:[(0,C.jsx)(tY,{}),(0,C.jsx)(tF,{})]})})}function tH(){return(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>alert("coming soon..."),children:[(0,C.jsx)("h1",{children:"Info"}),(0,C.jsx)(L,{})]})}function tX(){t1();let{three:e}=t0(),t=[];return e.scene.traverse(e=>{e instanceof N.i7d&&t.push(e)}),(0,C.jsx)(F,{closedByDefault:!0,title:"Camera",content:()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(tm,{}),(0,C.jsx)("div",{className:"flex flex-col text-xs",children:t.map(e=>(0,C.jsx)("div",{children:(0,C.jsx)("div",{children:e.name})},e.uuid))})]})})}!function(){function e(e,t){Object.defineProperty(e,"displayName",{value:t,writable:!0})}e(N.YJl,"Group"),e(N.ZLX,"InstancedMesh"),e(N.eaF,"Mesh"),e(N.B69,"Object3D"),e(N.ONl,"Points"),e(N.Z58,"Scene")}();let tU={hidden:!1,backgroundColor:"#0006",zIndex:0};function tW(e){let t=t0();(0,O.useEffects)(function*(){yield(0,P.a)([[{code:"Space",modifiers:"shift"},()=>{t.uiVisibility.set(!t.uiVisibility.value)}]])},[]);let{children:n,zIndex:r,backgroundColor:i,hidden:l}={...tU,...e};return t.uiVisibility.set(!l),(0,C.jsx)("div",{className:(0,z.S)(ev().Abs0,ev().Thru),style:{"--background-color":i,zIndex:r},children:(0,C.jsx)(td,{topBar:(0,C.jsx)(tB,{}),leftCol:(0,C.jsxs)(ta,{separators:!0,children:[(0,C.jsx)(tH,{}),(0,C.jsx)(tX,{}),(0,C.jsx)(ey,{}),(0,C.jsx)(eP,{}),(0,C.jsx)(ty,{})]}),rightCol:(0,C.jsx)(ta,{children:(0,C.jsx)(ti,{})}),children:n})})}var tq=n(88575);n(61249);let tZ=(0,S.createContext)(null);function t$(e,t){let n=(0,S.useContext)(tZ);return(0,O.useEffects)(async function*(t,r){if(e){let t=e(n,r);if(t&&"function"==typeof t.next)do{let{value:e,done:n}=await t.next();if(n)break;yield e}while(r.mounted)}},null!=t?t:"always"),n}let tG={className:"",assetsPath:"/"};function tK(e){let{children:t,className:n,assetsPath:r}={...tG,...e},i=(0,S.useMemo)(()=>new tq.XW,[]);i.loader.setPath(r);let l=E(),{ref:s}=(0,O.IZ)({debounce:!0},function*(e){yield i.initialize(e),l()},[]);return(0,C.jsx)("div",{ref:s,className:n,style:{position:"absolute",inset:0},children:(0,C.jsx)(tZ.Provider,{value:i,children:i.initialized&&t})})}function tJ(e){return function(){let[e,t]=(0,S.useState)(!1);return(0,S.useLayoutEffect)(()=>{t(!0)},[]),e}()&&(0,C.jsx)(tK,{...e})}let tQ=(0,S.createContext)(null);function t0(e){let t=(0,S.useContext)(tQ);return(0,O.useEffects)(async function*(n,r){if(e){let n=e(t);if(n&&"function"==typeof n.next)do{let{value:e,done:t}=await n.next();if(t)break;yield e}while(r.mounted)}},[]),t}function t1(){let e=t0(),t=E();(0,S.useEffect)(()=>e.onRefresh(t).destroy,[])}function t2(e){let{three:t=t$(),...n}=e;if(!t)throw Error("No three context found: Neither provided nor in context.");let r=(0,S.useMemo)(()=>new k.p(t),[]);return(0,O.useEffects)(function*(){yield t.loader.onAfterLoad(()=>{r.requestRefresh()})},[]),(0,C.jsx)(tQ.Provider,{value:r,children:(0,C.jsx)(tW,{...n})})}function t5(e){let t=(0,S.memo)(function(){let t=t$();return(0,C.jsx)(t2,{...e,three:t})});return(0,C.jsx)(tJ,{children:(0,C.jsx)(t,{})})}},85376:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});class r{reset(e){return this.objects=[...e],this}beforeSnapshot(){return this.before=this.objects.map(e=>({position:e.position.clone(),rotation:e.rotation.clone(),scale:e.scale.clone(),visible:e.visible})),this}afterSnapshot(){return this.after=this.objects.map(e=>({position:e.position.clone(),rotation:e.rotation.clone(),scale:e.scale.clone(),visible:e.visible})),this}isNoop(){return this.before.every((e,t)=>{let n=this.after[t];return e.position.equals(n.position)&&e.rotation.equals(n.rotation)&&e.scale.equals(n.scale)})}comment(e){return this.historyComment=e,this}flush(e){return this.isNoop()||e.history.push({comment:this.historyComment,execute:()=>{for(let e=0;e<this.objects.length;e++){let t=this.objects[e],n=this.after[e];t.position.copy(n.position),t.rotation.copy(n.rotation),t.scale.copy(n.scale)}},undo:()=>{for(let e=0;e<this.objects.length;e++){let t=this.objects[e],n=this.before[e];t.position.copy(n.position),t.rotation.copy(n.rotation),t.scale.copy(n.scale)}}}),this}constructor(e){this.objects=[],this.historyComment="...",this.before=[],this.after=[],e&&this.reset(e)}}},88575:(e,t,n)=>{"use strict";n.d(t,{O0:()=>r.O0,XW:()=>r.XW});var r=n(82143)},97443:e=>{e.exports={Panel:"panel_Panel__8_uIl",PanelBackground:"panel_PanelBackground__VpvyF",Separator:"panel_Separator__lcMSY"}},98422:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(85795);class i{constructor(e,t){var n;this.id=i.nextId++,this.historyIndex=e,this.comment=null!=(n=t.comment)?n:"Command ".concat(this.id),this.execute=t.execute,this.undo=t.undo}}i.nextId=0;class l{get lastHistoryIndex(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1].historyIndex:-1}get undoCount(){return this.undoStack.length}get redoCount(){return this.redoStack.length}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}push(e){let t=new i(this.lastHistoryIndex+1,e);for(t.execute(),this.undoStack.push(t);this.undoStack.length>100;)this.undoStack.shift();this.redoStack=[],this.changeObs.increment()}undo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=!1;for(;e-- >0&&this.undoStack.length>0;){let e=this.undoStack.pop();e.undo(),this.redoStack.push(e),t=!0}t&&this.changeObs.increment()}redo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=!1;for(;e-- >0&&this.redoStack.length>0;){let e=this.redoStack.pop();e.execute(),this.undoStack.push(e),t=!0}t&&this.changeObs.increment()}onChange(e){return this.changeObs.onChange(e)}constructor(){this.changeObs=new r.ObservableNumber(0),this.undoStack=[],this.redoStack=[]}}}}]);