"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{5832:(e,t,i)=>{i.d(t,{Y:()=>n});var r=i(49797);class n extends r.BRH{constructor(e){super(e),this.type=r.ix0}parse(e){let t,i,n,a=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},s=function(e,t,i){t=t||1024;let r=e.pos,n=-1,a=0,s="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(n=o.indexOf("\n"))&&a<t&&r<e.byteLength;)s+=o,a+=o.length,r+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return -1<n&&(!1!==i&&(e.pos+=a+n+1),s+o.slice(0,n))},o=new Uint8Array(e);o.pos=0;let l=function(e){let t,i,r=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,n=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=s(e))||a(1,"no header found"),(i=t.match(/^#\?(\S+)/))||a(3,"bad initial token"),c.valid|=1,c.programtype=i[1],c.string+=t+"\n";!1!==(t=s(e));){if(c.string+=t+"\n","#"===t.charAt(0)){c.comments+=t+"\n";continue}if((i=t.match(r))&&(c.gamma=parseFloat(i[1])),(i=t.match(n))&&(c.exposure=parseFloat(i[1])),(i=t.match(o))&&(c.valid|=2,c.format=i[1]),(i=t.match(l))&&(c.valid|=4,c.height=parseInt(i[1],10),c.width=parseInt(i[2],10)),2&c.valid&&4&c.valid)break}return 2&c.valid||a(3,"missing format specifier"),4&c.valid||a(3,"missing image size specifier"),c}(o),c=l.width,d=l.height,h=function(e,t,i){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&a(3,"wrong scanline width");let r=new Uint8Array(4*t*i);r.length||a(4,"unable to allocate buffer space");let n=0,s=0,o=4*t,l=new Uint8Array(4),c=new Uint8Array(o),d=i;for(;d>0&&s<e.byteLength;){s+4>e.byteLength&&a(1),l[0]=e[s++],l[1]=e[s++],l[2]=e[s++],l[3]=e[s++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=t)&&a(3,"bad rgbe scanline format");let i=0,h;for(;i<o&&s<e.byteLength;){let t=(h=e[s++])>128;if(t&&(h-=128),(0===h||i+h>o)&&a(3,"bad scanline data"),t){let t=e[s++];for(let e=0;e<h;e++)c[i++]=t}else c.set(e.subarray(s,s+h),i),i+=h,s+=h}for(let e=0;e<t;e++){let i=0;r[n]=c[e+i],i+=t,r[n+1]=c[e+i],i+=t,r[n+2]=c[e+i],i+=t,r[n+3]=c[e+i],n+=4}d--}return r}(o.subarray(o.pos),c,d);switch(this.type){case r.RQf:let u=new Float32Array(4*(n=h.length/4));for(let e=0;e<n;e++)!function(e,t,i,r){let n=Math.pow(2,e[t+3]-128)/255;i[r+0]=e[t+0]*n,i[r+1]=e[t+1]*n,i[r+2]=e[t+2]*n,i[r+3]=1}(h,4*e,u,4*e);t=u,i=r.RQf;break;case r.ix0:let p=new Uint16Array(4*(n=h.length/4));for(let e=0;e<n;e++)!function(e,t,i,n){let a=Math.pow(2,e[t+3]-128)/255;i[n+0]=r.GxU.toHalfFloat(Math.min(e[t+0]*a,65504)),i[n+1]=r.GxU.toHalfFloat(Math.min(e[t+1]*a,65504)),i[n+2]=r.GxU.toHalfFloat(Math.min(e[t+2]*a,65504)),i[n+3]=r.GxU.toHalfFloat(1)}(h,4*e,p,4*e);t=p,i=r.ix0;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:c,height:d,data:t,header:l.string,gamma:l.gamma,exposure:l.exposure,type:i}}setDataType(e){return this.type=e,this}load(e,t,i,n){return super.load(e,function(e,i){switch(e.type){case r.RQf:case r.ix0:e.colorSpace=r.Zr2,e.minFilter=r.k6q,e.magFilter=r.k6q,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,i)},i,n)}}},14274:(e,t,i)=>{i.d(t,{K:()=>l});var r=i(17953),n=i(81074),a=i(49797),s=i(57165),o=i(37027);class l extends o.${setSize(e){let{width:t,height:i,pixelRatio:r}={...this,...e};if(t===this.width&&i===this.height&&r===this.pixelRatio)return this;this.width=t,this.height=i,this.pixelRatio=r;let{renderer:n,perspectiveCamera:a,orthographicCamera:s}=this;n.setSize(t,i),n.setPixelRatio(r);let o=t/i;return a.aspect=o,a.updateProjectionMatrix(),s.left=-o,s.right=o,s.top=1,s.bottom=-1,s.updateProjectionMatrix(),this}initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.initialized)return console.warn("ThreeWebGLContext is already initialized."),this;Object.defineProperty(this,"initialized",{value:!0,writable:!1,configurable:!1,enumerable:!1});let i=this.scenePass.getTextureNode("output");this.postProcessing.outputNode=i,new ResizeObserver(()=>{this.setSize({width:e.clientWidth,height:e.clientHeight,pixelRatio:window.devicePixelRatio})}).observe(e);let{domElement:r}=this.renderer;return r.style.display="block",r.style.width="100%",r.style.height="100%",e.appendChild(r),this.setSize({width:r.clientWidth,height:r.clientHeight,pixelRatio:window.devicePixelRatio}),this.internal.cancelTick=this.ticker.onTick(()=>{this.renderFrame()}).destroy,this.internal.cancelRequestActivation=(0,s.O)(document.body,this.ticker.requestActivation).destroy,this.internal.cancelPointer=this.pointer.initialize(this.renderer.domElement,t,this.camera,this.ticker),this.domContainer=e,this.domElement=r,this}renderFrame(){let{scene:e,postProcessing:t,pointer:i}=this;i.updateStart(e),e.traverse(e=>{"onTick"in e&&e.onTick(this.ticker,this)}),!1===this.skipRender&&t.renderAsync(),i.updateEnd()}constructor(){super(o.s.WebGPU),this.renderer=new n.uV1({antialias:!0}),this.perspectiveCamera=new a.ubm,this.orthographicCamera=new a.qUd,this.camera=this.perspectiveCamera,this.postProcessing=new n.io7(this.renderer),this.scenePass=(0,r.IXH)(this.scene,this.perspectiveCamera),this.internal={observer:null,cancelRequestActivation:null,cancelTick:null,cancelPointer:null},this.initialized=!1,this.destroyed=!1,this.destroy=()=>{var e,t,i,r,n,a,s;if(this.destroyed)return void console.warn("ThreeWebGLContext is already destroyed.");Object.defineProperty(this,"destroyed",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.renderer.dispose(),null==(e=this.internal.observer)||e.disconnect(),null==(t=(i=this.internal).cancelTick)||t.call(i),null==(r=(n=this.internal).cancelRequestActivation)||r.call(n),null==(a=(s=this.internal).cancelPointer)||a.call(s)},this.camera.position.set(0,1,10),this.camera.lookAt(0,0,0),this.pointer.updatePosition(this.camera,{x:0,y:0},this.renderer.domElement.getBoundingClientRect())}}},15940:(e,t,i)=>{i.d(t,{_:()=>n});var r=i(29443);function n(e,t){(0,r._)(e,t),t.add(e)}},28535:(e,t,i)=>{i.d(t,{_:()=>a});var r=i(75687),n=i(44138);function a(e,t){var i=(0,n._)(e,t,"get");return(0,r._)(e,i)}},29443:(e,t,i)=>{i.d(t,{_:()=>r});function r(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}},29968:(e,t,i)=>{i.d(t,{q:()=>u,uB:()=>m,yk:()=>h});var r=i(70691),n=i(67203),a=i(7587),s=i(37821),o=i(48083),l=i(14274),c=i(36508);let d=(0,n.createContext)(null);function h(e,t){let i=(0,n.useContext)(d);return(0,a.C7)(async function*(t,r){if(e){let t=e(i,r);if(t&&"function"==typeof t.next)do{let{value:e,done:i}=await t.next();if(i)break;yield e}while(r.mounted)}},null!=t?t:"always"),i}function u(e){let{value:t}=e;return h(async function*(e){let i="function"==typeof t?new t:t;if(e.scene.add(i),"onInitialize"in i){let t=i.onInitialize(e);if(t&&"function"==typeof t.next)for(;;){let{value:e,done:i}=await t.next();if(i)break;yield e}}yield()=>{if(i.removeFromParent(),"onDestroy"in i){var e;null==(e=i.onDestroy)||e.call(i)}}},"always"),null}let p={className:"",assetsPath:"/",vertigoControls:!1};function f(e){let{children:t,className:i,vertigoControls:s}={...p,...e},h=(0,n.useMemo)(()=>new l.K,[]),{ref:u}=(0,a.IZ)({debounce:!0},function*(e,t){yield h.initialize(e.firstElementChild),t.triggerRender(),Object.assign(window,{three:h})},[]);(0,a.C7)(function*(){if(s){let e=new o.n("object"==typeof s?s:{}).initialize(u.current).start();yield e.destroy,yield(0,c.xy)("three",t=>{e.update(h.camera,h.aspect,t.deltaTime)})}},[s]);let f={position:"absolute",inset:0};return(0,r.jsx)("div",{ref:u,className:i,style:f,children:(0,r.jsxs)(d.Provider,{value:h,children:[(0,r.jsx)("div",{style:f}),(0,r.jsx)("div",{style:f,className:"thru",children:h.initialized&&t})]})})}function m(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,s.D)()&&(0,r.jsx)(f,{...t[0]})}},37821:(e,t,i)=>{i.d(t,{D:()=>n});var r=i(67203);function n(){let[e,t]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{t(!0)},[]),e}},44138:(e,t,i)=>{i.d(t,{_:()=>r});function r(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}},57368:(e,t,i)=>{i.d(t,{_:()=>n});var r=i(44138);function n(e,t,i){var n=(0,r._)(e,t,"set");if(n.set)n.set.call(e,i);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=i}return i}},66066:(e,t,i)=>{i.d(t,{_:()=>r});function r(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}},71237:(e,t,i)=>{i.r(t),i.d(t,{Client:()=>h});var r=i(70691),n=i(29968),a=i(5832),s=i(17953),o=i(49797),l=i(81074),c=i(36508);class d extends o.YJl{async *onInitialize(e){new a.Y().load("https://threejs.org/examples/textures/equirectangular/pedestrian_overpass_1k.hdr",t=>{t.mapping=o.wfO,e.scene.environment=t,e.scene.environmentIntensity=.5})}constructor(...e){super(...e),this.parts=(()=>{let e=new o.eaF(new o.O3Y(1,.33,256,512),new l.yIK({color:"#ffcc00"})),t=(0,s.PiW)((0,s.fVC)(0)).onObjectUpdate(()=>c.Rv.get("three").time);return e.material.positionNode=(0,s.Fn)(()=>s.WVU.mul(t.mul(3).add(s.WVU.x.mul(20)).sin().remap(-1,1,1,1.1)))(),e.material.emissiveNode=(0,s.a8L)(s.WVU.mul(10).mod(1)).pow(3).mul(.33),this.add(e),{torus:e}})()}}function h(){return(0,r.jsx)("div",{className:"layer bg-[#3d313d]",children:(0,r.jsx)(n.uB,{vertigoControls:{size:4},children:(0,r.jsx)(n.q,{value:d})})})}},75687:(e,t,i)=>{i.d(t,{_:()=>r});function r(e,t){return t.get?t.get.call(e):t.value}},76999:(e,t,i)=>{i.d(t,{_:()=>n});var r=i(29443);function n(e,t,i){(0,r._)(e,t),t.set(e,i)}},99187:(e,t,i)=>{i.d(t,{_:()=>n});var r=i(75687);function n(e,t,i){if(e!==t)throw TypeError("Private static access of wrong provenance");if(void 0===i)throw TypeError("attempted to get private static field before its declaration");return(0,r._)(e,i)}}}]);