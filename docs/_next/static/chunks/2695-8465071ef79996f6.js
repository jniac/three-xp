(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2695],{91850:function(t,e,n){"use strict";var r=n(14661);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},51745:function(t,e,n){t.exports=n(91850)()},14661:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},81134:function(t,e,n){var r,o,i;i=function(t,e,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(i=function(t){return t?n:e})(t)}Object.defineProperty(t,"__esModule",{value:!0}),function(t,e){for(var n in e)Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}(t,{BlockMath:()=>u,InlineMath:()=>d}),e=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=i(void 0);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var l=o?Object.getOwnPropertyDescriptor(t,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}(e),n=o(n),r=o(r);let a=(t,{displayMode:o})=>{let i=({children:n,errorColor:i,math:a,renderError:l})=>{let s=null!=a?a:n,{html:c,error:u}=(0,e.useMemo)(()=>{try{return{html:r.default.renderToString(s,{displayMode:o,errorColor:i,throwOnError:!!l}),error:void 0}}catch(t){if(t instanceof r.default.ParseError||t instanceof TypeError)return{error:t};throw t}},[s,i,l]);return u?l?l(u):e.default.createElement(t,{html:`${u.message}`}):e.default.createElement(t,{html:c})};return i.propTypes={children:n.default.string,errorColor:n.default.string,math:n.default.string,renderError:n.default.func},i},l={html:n.default.string.isRequired},s=({html:t})=>e.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:t}});s.propTypes=l;let c=({html:t})=>e.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:t}});c.propTypes=l;let u=a(s,{displayMode:!0}),d=a(c,{displayMode:!1})},"object"==typeof t.exports?i(e,n(27275),n(51745),n(9419)):(r=[e,n(27275),n(51745),n(9419)],void 0===(o=i.apply(e,r))||(t.exports=o))},32695:function(t,e,n){"use strict";n.d(e,{Client:function(){return E}});var r=n(78485),o=n(4917),i=n(32717);n(4481);var a=n(81134),l=n(52471),s=n(32423),c=n(48583),u=n(28142),d=n(9710);let f=function(t,e){let{h:n=.3,w:r=1,p:o=3,q:i=1,a=.3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=e**i;t.x=(e+a*Math.sin(l*Math.PI*2))*r,t.y=n*Math.pow(Math.sin(l*Math.PI),o)},p="\nvec2 looping(float t, float h, float w, float p, float q, float a) {\n  float t2 = pow(t, q);\n  return vec2(\n    (t + a * sin(t2 * PI * 2.0)) * w,\n    h * pow(sin(t2 * PI), p)\n  );\n}\n\nvec2 looping(float t) {\n  return looping(t, 0.3, 1.0, 3.0, 1.0, 0.3);\n}\n";function h(){let t=(0,i._)(["x(t) = w cdot left( t + a cdot sin(2 pi cdot t^q) \right)"],["x(t) = w \\cdot \\left( t + a \\cdot \\sin(2 \\pi \\cdot t^q) \\right)"]);return h=function(){return t},t}function v(){let t=(0,i._)(["y(t) = h cdot left( sin(pi cdot t^q) \right)^p"],["y(t) = h \\cdot \\left( \\sin(\\pi \\cdot t^q) \\right)^p"]);return v=function(){return t},t}let x=(()=>{let t=new l.Vector2;return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return Array.from({length:n+1},(r,o)=>(e(t,o/n),"".concat(t.x.toFixed(5),",").concat(t.y.toFixed(5)))).join(" ")}})();function m(){let{samples:t=300,curve:e=(t,e)=>{t.x=e,t.y=e},color:n="#fff"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=x(e,t),{ref:i}=(0,c.sv)(function*(t){let n=new l.Vector2;console.log("foo"),yield d.vB.get("three").onTick(r=>{e(n,.5*r.time%1),t.setAttribute("cx",n.x.toFixed(5)),t.setAttribute("cy",n.y.toFixed(5))})},[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("polyline",{stroke:n,points:o,opacity:.25}),(0,r.jsx)("circle",{ref:i,cx:0,cy:0,r:.005,fill:n,stroke:"none"})]})}function y(){return(0,r.jsxs)("div",{className:"absolute inset-0 text-sm p-4 pt-12",children:[(0,r.jsx)(a.BlockMath,{math:String.raw(h())}),(0,r.jsx)(a.BlockMath,{math:String.raw(v())})]})}function g(){(0,c.sv)(function*(){yield(0,s.s)(d.vB.current().requestActivation)},[]);let t=new l.Vector2(.5,.5),e=new l.Vector2(1,1),n="".concat(t.x-e.x/2-.05," ").concat(t.y-e.y/2-.05," ").concat(e.x+.1," ").concat(e.y+.1);return u.T.reset(),(0,r.jsxs)("div",{className:"relative self-start",children:[(0,r.jsx)(y,{}),(0,r.jsx)("svg",{viewBox:n,width:400,style:{border:"1px solid #fff3",borderRadius:".25em"},children:(0,r.jsxs)("g",{transform:"scale(1, -1) translate(0, -1)",children:[(0,r.jsxs)("g",{stroke:"#fff2",strokeWidth:.002,children:[(0,r.jsx)("line",{x1:-10,x2:10}),(0,r.jsx)("line",{y1:-10,y2:10}),(0,r.jsx)("line",{x1:1,x2:1,y1:-10,y2:10}),(0,r.jsx)("line",{x1:-10,x2:10,y1:1,y2:1})]}),(0,r.jsxs)("g",{id:"curves",stroke:"#fff",fill:"none",strokeWidth:.002,children:[Array.from({length:10},(t,e)=>{let n=u.T.between(3,5),o=u.T.between(1/3,1.5),i=u.T.between(.1,.5),a=u.T.between(.2,.3),l="hsl(".concat(u.T.between(180,360),", 100%, 70%)");return(0,r.jsx)(m,{curve:(t,e)=>f(t,e,{a,p:n,h:i,q:o}),color:l},e)}),(0,r.jsx)(m,{curve:f})]})]})})]})}var b=n(63221),w=n(63549),M=n(47174),P=n(87858),_=n(1060);class T extends l.Mesh{constructor(){super(new b.w({xColor:"#ff338b",yColor:"#33cc9c",zColor:"#4e33ff"}),new w.P)}}class z extends l.Object3D{constructor(){super(),this.axes1=(0,P.bB)(new T,this),this.axes2=(0,P.bB)(new T,this),this.onTick=t=>{let{deltaTime:e}=t,{axes1:n,axes2:r}=this;n.rotation.y+=.5*e,r.rotation.x+=.5*e};let{axes1:t,axes2:e}=this;t.position.set(-1,0,0),t.rotation.x=-Math.PI/2,e.position.set(1,0,0),e.rotation.x=-Math.PI/2;let n=new l.PlaneGeometry(1,1,1e3,1).translate(.5,.5,0),r=new l.MeshPhysicalMaterial({side:l.DoubleSide,flatShading:!0,emissiveIntensity:.25,emissive:"#ffffff"});(0,P.bB)(new l.Mesh(n,r),this);let o={uTime:d.vB.get("three").uTime,uWidth:{value:.6},uStartMatrix:{value:t.matrix},uEndMatrix:{value:e.matrix}};r.onBeforeCompile=t=>M.b.with(t).uniforms(o).vertex.top(_.i,p).vertex.top("\n        vec3 bezier3(vec3 a, vec3 b, vec3 c, vec3 d, float t) {\n          vec3 ab = mix(a, b, t);\n          vec3 bc = mix(b, c, t);\n          vec3 cd = mix(c, d, t);  \n          vec3 ab_bc = mix(ab, bc, t);\n          vec3 bc_cd = mix(bc, cd, t);\n          return mix(ab_bc, bc_cd, t);\n        }\n\n        vec3 bezier3_tangent(vec3 a, vec3 b, vec3 c, vec3 d, float t) {\n          return 3.0 * ( \n            (1.0 - t) * (1.0 - t) * (b - a) + \n            2.0 * (1.0 - t) * t * (c - b) + \n            t * t * (d - c));\n        }\n      ").vertex.replace("begin_vertex","\n        vec3 start = uStartMatrix[3].xyz;\n        vec3 end = uEndMatrix[3].xyz;\n\n        vec3 p0 = start;\n        vec3 p1 = mix(start, end, 0.0) + uStartMatrix[2].xyz;\n        vec3 p2 = mix(start, end, 1.0) + uEndMatrix[2].xyz;\n        vec3 p3 = end;\n\n        vec3 up = mix(uStartMatrix[1].xyz, uEndMatrix[1].xyz, position.x);\n        vec3 tangent = bezier3_tangent(p0, p1, p2, p3, position.x);\n        vec3 normal = cross(tangent, up);\n\n        float width = (position.y - 0.5)\n          // * easeInThenOut(position.x, 3.0)\n          * uWidth;\n\n        vec2 loop = looping(position.x);\n\n        vec3 transformed = \n          bezier3(p0, p1, p2, p3, position.x)\n          + tangent * (loop.x - position.x) * 2.0 + normal * loop.y * 2.0\n          + up * width;\n      ").vertex.replace("project_vertex","\n        vec4 mvPosition = vec4( transformed, 1.0 );\n        #ifdef USE_BATCHING\n          mvPosition = batchingMatrix * mvPosition;\n        #endif\n        #ifdef USE_INSTANCING\n          mvPosition = instanceMatrix * mvPosition;\n        #endif\n        mvPosition = modelViewMatrix * mvPosition;\n        gl_Position = projectionMatrix * mvPosition;\n      ")}}var S=n(66666);function j(t,e){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=Array.isArray(e)?e.map(t=>new l.Color(t)):[new l.Color(e)],a=t.attributes.position.count,s=null!==(n=t.attributes.color)&&void 0!==n?n:function(){let e=new l.BufferAttribute(new Float32Array(3*a),3);return t.setAttribute("color",e),e}(),c=o<0?a:o;for(let t=r;t<c;t++){let e=i[t%i.length];s.setXYZ(t,e.r,e.g,e.b)}s.needsUpdate=!0}let A=(()=>{let t=new l.Vector3(0,1,0),e=new l.Vector3(0,0,-1),n=new l.Vector3,r=new l.Vector3,o=new l.Vector3;return function(i,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;r.crossVectors(l,a),1e-6>r.lengthSq()&&r.crossVectors(e,a),r.normalize(),o.crossVectors(a,r).normalize(),i.set(r.x,o.x,a.x,s.x,r.y,o.y,a.y,s.y,r.z,o.z,a.z,s.z,0,0,0,1)}})();var C=n(98828);class B extends l.InstancedMesh{static getGeometry(){if(B._geometry)return B._geometry;let t=new l.CapsuleGeometry(.05,1,1,6).rotateZ(Math.PI/2).translate(.5,0,0);j(t,"#c60613");let e=t.clone().rotateZ(Math.PI/2);j(e,"#01b35a");let n=t.clone().rotateY(-Math.PI/2);return j(n,"#321bc7"),B._geometry=(0,S.n4)([t,e,n]),B._geometry}static getMaterial(){return B._material||(B._material=new l.MeshBasicMaterial({vertexColors:!0}),B._material.onBeforeCompile=t=>M.b.with(t).uniforms(B.uniforms).vertex.replace("begin_vertex","\n        vec3 transformed = vec3(position);\n        transformed *= uSize;\n        #ifdef USE_ALPHAHASH\n          vPosition = vec3(position);\n        #endif\n      ")),B._material}addTo(t){return t.add(this),this}constructor(t,e=.1){super(B.getGeometry(),B.getMaterial(),t.count),this.instanceMatrix=t,this.size=e,this.onBeforeRender=()=>{B.uniforms.uSize.value=this.size}}}B.uniforms={uSize:{value:.1}};class I extends l.Group{constructor(){var t,e;super(),u.T.reset();let n=new l.HemisphereLight("#ffffff","#926969",1);this.add(n);let r=new l.DirectionalLight("#ffffff",2);this.add(r),r.position.set(2,4,1);let o=new l.IcosahedronGeometry(1,8),i=o.clone(),a=new l.Points(o,new l.PointsMaterial({size:.05}));this.add(a);let s=new l.Points(i,new l.PointsMaterial({size:.05}));this.add(s),s.scale.setScalar(.33),s.position.set(0,0,-8),s.rotation.set(0,0,.66*Math.PI),this.onTick=t=>{let{deltaTime:e,time:n}=t;s.position.y=.5*Math.sin(.33*n)};let c=o.attributes.position.count,f=new l.InstancedMesh(new l.PlaneGeometry(1,1,100,1).translate(.5,.5,0),new l.MeshPhysicalMaterial({side:l.DoubleSide,flatShading:!0}),c);this.add(f),f.frustumCulled=!1;let h=new l.InstancedBufferAttribute(new Float32Array(16*c),16),v=new l.InstancedBufferAttribute(new Float32Array(16*c),16);f.geometry.setAttribute("aStartMat",h),f.geometry.setAttribute("aEndMat",v);let x=new l.Matrix4,m=new l.Vector3(0,1,0),y=new l.Vector3,g=new l.Vector3,b=new l.Color;for(let t=0;t<c;t++)y.fromBufferAttribute(o.attributes.position,t),g.copy(y),A(x,g,m,y),x.toArray(h.array,16*t),y.fromBufferAttribute(i.attributes.position,t),A(x,g,m,y),x.toArray(v.array,16*t),b.set("hsl(".concat(u.T.between(180,360),", 100%, 70%)")),f.setColorAt(t,b);let w={uTime:d.vB.get("three").uTime,uLength:{value:.1},uRand:{value:u.T.vector(new l.Vector4,{min:0,max:1})},uWorldStartMatrix:{value:a.matrix},uWorldEndMatrix:{value:s.matrix},uWidth:{value:.1}};f.material.onBeforeCompile=t=>M.b.with(t).shaderName("with-loop").uniforms(w).vertex.top(C.U,_.i,p).vertex.top("\n      attribute mat4 aStartMat;\n      attribute mat4 aEndMat;\n\n      float rand(vec3 p) {\n        return fract(sin(dot(p, vec3(12.9898, 78.233, 45.164))) * 43758.5453);\n      }\n\n      // float rand(vec3 p) {\n      //   p = fract(p * vec3(443.8975, 441.4236, 437.1954));\n      //   p += dot(p, p.yzx + 19.19);\n      //   return fract((p.x + p.y) * p.z);\n      // }\n\n      float rand(vec3 p, float rangeMin, float rangeMax) {\n        return mix(rangeMin, rangeMax, rand(p));\n      }\n\n      float rand11(vec3 p) {\n        float r = rand(p) * 2.0 - 1.0;\n        float s = sign(r);\n        r = fract(r);\n        r *= r * r * r;\n        return r * s;\n      }\n\n      float rand11(vec3 p, float rangeMin, float rangeMax) {\n        return (rand11(p) * 0.5 + 0.5) * (rangeMax - rangeMin) + rangeMin;\n      }\n\n      vec3 bezier3(vec3 a, vec3 b, vec3 c, vec3 d, float t) {\n        t = clamp(t, 0.0, 1.0);\n        vec3 ab = mix(a, b, t);\n        vec3 bc = mix(b, c, t);\n        vec3 cd = mix(c, d, t);  \n        vec3 ab_bc = mix(ab, bc, t);\n        vec3 bc_cd = mix(bc, cd, t);\n        return mix(ab_bc, bc_cd, t);\n      }\n\n      vec3 bezier3_tangent(vec3 a, vec3 b, vec3 c, vec3 d, float t) {\n        t = clamp(t, 0.0, 1.0);\n        return 3.0 * ( \n          (1.0 - t) * (1.0 - t) * (b - a) + \n          2.0 * (1.0 - t) * t * (c - b) + \n          t * t * (d - c));\n      }\n    ").vertex.replace("begin_vertex","\n      mat4 startMat = uWorldStartMatrix * aStartMat;\n      mat4 endMat = uWorldEndMatrix * aEndMat;\n\n      vec3 start = startMat[3].xyz;\n      vec3 end = endMat[3].xyz;\n\n      start += vec3(rand11(start.xyz), rand11(start.yzx), rand11(start.zxy)) * 0.66;\n      end += vec3(rand11(start.zyx), rand11(start.xzy), rand11(start.yxz)) * 0.33;\n      \n      float dt = mix(-uLength, 1.0, fract(uTime * 0.33 + rand11(start) * 0.4));\n      float t = position.x * uLength + dt;\n      t = clamp(t, 0.0, 1.0);\n      float d = distance(start, end);\n\n      vec3 p0 = start;\n      vec3 p1 = mix(start, end, 0.2) + d * 0.2 * startMat[2].xyz;\n      vec3 p2 = mix(start, end, 0.8) + d * 0.2 * endMat[2].xyz;\n      vec3 p3 = end;\n      \n      // p1 = mix(start, end, 0.33);\n      // p2 = mix(start, end, 0.66);\n\n      vec3 normal = normalize(mix(startMat[2].xyz, endMat[2].xyz, t));\n      vec3 up = normalize(mix(startMat[1].xyz, endMat[1].xyz, t));\n      vec3 tangent = normalize(bezier3_tangent(p0, p1, p2, p3, t));\n      \n      float shortT = (t - dt) / uLength;\n      float width = (position.y - 0.5)\n        * easeInThenOut(t, 6.0)\n        * easeInThenOut(shortT, 3.0)\n        * mix(0.33, 1.0, pcurve(t, 1.0, 2.0)) // Narrower at the end.\n        * uWidth;\n      \n      float randomness = 0.2;\n      float startLoopT = rand(start) * randomness;\n      float loopT = startLoopT + inverseLerp(0.0, 1.0 - randomness, t);\n\n      vec2 loop = looping(loopT, 0.3, 1.0, 3.0, rand11(start, 0.6, 1.2), 0.3);\n      // loop = vec2(t, 0.0);\n      \n      // Loop Random Scalar:\n      vec2 lrs = vec2(\n        rand11(start, 0.4, 1.0),\n        rand11(start.zyx, 0.9, 1.1));\n      vec3 transformed = \n        bezier3(p0, p1, p2, p3, t)\n        + tangent * (loop.x - loopT) * d * lrs.x + normal * loop.y * d * lrs.y\n        + up * width;\n      \n      #ifdef USE_ALPHAHASH\n        vPosition = transformed;\n      #endif\n    ").vertex.replace("beginnormal_vertex","\n      vec3 objectNormal = vec3(normal);\n\n      #ifdef USE_TANGENT\n        vec3 objectTangent = vec3(tangent.xyz);\n      #endif\n    "),o.computeBoundingBox(),o.computeBoundingSphere(),i.computeBoundingBox(),i.computeBoundingSphere(),f.computeBoundingBox(),null===(t=f.boundingBox)||void 0===t||t.copy(o.boundingBox.clone()).union(i.boundingBox).expandByScalar(1),f.computeBoundingSphere(),null===(e=f.boundingSphere)||void 0===e||e.copy(o.boundingSphere.clone()).union(i.boundingSphere).expandByPoint(new l.Vector3().setScalar(1)),f.geometry.computeBoundingBox=()=>{},f.geometry.computeBoundingSphere=()=>{},a.visible=!1,s.visible=!1}}function k(){return(0,o._v)("ThreeDemo",async function*(t,e){e.useOrbitControls({position:[2,4.5,8],target:[-1.2,1.2,-.2]}),t.add(new l.GridHelper(10,10,"#5c4f7d","#352945"));let n=new z;n.position.set(-5,0,0),yield e.onTick(n.onTick),t.add(n);let r=new I;r.position.set(0,0,0),yield e.onTick(r.onTick),t.add(r)},[]),null}function E(){return(0,r.jsxs)("div",{className:"absolute-through p-4 flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"absolute-through",children:(0,r.jsx)(o.H7,{children:(0,r.jsx)(k,{})})}),(0,r.jsx)("h1",{className:"text-4xl",children:"Path with loop"}),(0,r.jsx)(g,{})]})}},96966:function(t,e,n){"use strict";n.d(e,{v:function(){return r}});let r={development:!1,assetsPath:"/three-xp/assets/"}},4917:function(t,e,n){"use strict";n.d(e,{H7:function(){return h},Ky:function(){return d},_v:function(){return f}});var r=n(78485),o=n(27275),i=n(52471),a=n(48583),l=n(48181),s=n(96966),c=n(11030);let u=(0,o.createContext)(null);function d(t,e){let n=(0,o.useContext)(u);return(0,a.sv)(async function*(e,r){if(t){let e=t(n,r);if(e&&"function"==typeof e.next)do{let{value:t,done:n}=await e.next();if(n)break;yield t}while(r.mounted)}},null!=e?e:"always"),n}function f(t,e,n){let r=(0,o.useMemo)(()=>new i.Group,[]);return r.name=t,d(async function*(t,n){if(t.scene.add(r),yield()=>{r.clear(),r.removeFromParent()},e){let o=e(r,t,n);if(o&&"function"==typeof o.next)do{let{value:t,done:e}=await o.next();if(e)break;yield t}while(n.mounted)}},n),r}function p(t){let{children:e,className:n}=t,c=(0,o.useMemo)(()=>new l.Vu,[]),{ref:d}=(0,a.sv)(function*(t){c.loader.setPath(s.v.assetsPath),yield c.initialize(t),Object.assign(window,{three:c,THREE:i})},[]);return(0,r.jsx)("div",{ref:d,className:"ThreeProvider absolute-through ".concat(null!=n?n:""),children:(0,r.jsx)(u.Provider,{value:c,children:e})})}function h(t){return(0,c.O)()&&(0,r.jsx)(p,{...t})}},63221:function(t,e,n){"use strict";n.d(e,{w:function(){return c}});var r=n(52471),o=n(66666);let i={axis:"x",length:1,radialSegments:12,radius:.01,coneRatio:.1,radiusScale:1,vertexColor:!0,baseCap:"flat",color:"white"},a=new r.Color;function l(t){let{axis:e,length:n,radius:l,radialSegments:s,coneRatio:c,radiusScale:u,vertexColor:d,baseCap:f,color:p}={...i,...t},h=l*u,v=n*c,x=new r.ConeGeometry(3*h,v,s),m=new r.CylinderGeometry(h,h,1,s,1,!0),y=n-v,g=n-.5*v;x.rotateZ(-Math.PI/2).translate(g,0,0),m.scale(1,y,1).rotateZ(-Math.PI/2).translate(.5*y,0,0);let b="none"===f?new r.BufferGeometry:"flat"===f?new r.CircleGeometry(h,s).rotateY(-Math.PI/2):new r.SphereGeometry(h,s,3,0,2*Math.PI,0,.5*Math.PI).rotateZ(Math.PI/2).rotateX(Math.PI/2),w=(0,o.n4)([x,m,b]);switch(e){case"y":w.rotateZ(Math.PI/2);break;case"z":w.rotateY(-Math.PI/2)}if(d){let t=w.attributes.position.count,e=new r.BufferAttribute(new Float32Array(3*t),3);w.setAttribute("color",e),a.set(p);for(let n=0;n<t;n++)e.setXYZ(n,a.r,a.g,a.b)}return w}let s={xColor:"#ff3333",yColor:"#33cc66",zColor:"#3366ff"};class c extends r.BufferGeometry{constructor(t){super();let{xColor:e,yColor:n,zColor:r,...i}={...s,...t},a=l({...i,axis:"x",color:e}),c=l({...i,axis:"y",color:n}),u=l({...i,axis:"z",color:r}),d=(0,o.n4)([a,c,u]);this.copy(d),d.dispose()}}},63549:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=n(52471);let o={vertexColors:!0,color:"white",luminosity:.5};class i extends r.ShaderMaterial{constructor(t){let{color:e,luminosity:n,vertexColors:i,...a}={...o,...t};super({...a,uniforms:{uColor:{value:new r.Color(e)},uSunPosition:{value:new r.Vector3(.5,.7,.3)},uLuminosity:{value:n}},vertexColors:i,vertexShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vColor = color;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nuniform vec3 uSunPosition;\nuniform vec3 uColor;\nuniform float uLuminosity;\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  light = mix(uLuminosity, 1.0, light);\n  gl_FragColor = vec4(vColor * uColor * light, 1.0);\n}\n"}),this.sunPosition=this.uniforms.uSunPosition.value}}},28142:function(t,e,n){"use strict";n.d(e,{T:function(){return c}});let r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return(t=(t=(7*t+Math.sqrt(t)+16087*Math.sin(t))%2147483647)<0?t+2147483647:t)>1?2147483647&t:0===t?345678:123456},o=t=>t=2147483647&Math.imul(t,48271),i=t=>(t-1)/2147483646,a=t=>t,l={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function s(){let t=o(o(r(123456)));function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return"string"==typeof e&&(e=e.split("").reduce((t,e)=>7*t+e.charCodeAt(0),0)),t=o(o(r(e))),d}function n(){return i(t=o(t))}function s(t){switch(t.length){default:return[0,1,a];case 1:return[0,t[0],a];case 2:return[t[0],t[1],a];case 3:return[t[0],t[1],t[2]]}}function c(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[o,i,a]=s(e);return o+(i-o)*a(n())}function u(){for(var t,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];let[i,a,{weightsAreNormalized:s,indexOffset:c,forbiddenItems:u}]=function(t){let[e,n=null,r]=t,o={...l,...r};if(Array.isArray(e))return[e,n,o];if("object"==typeof e)return[Object.values(e),n?Object.values(n):null,o];throw Error("pick: unsupported options type")}(r);if(u.length>0){let e=new Set;for(let t of u){let n=i.indexOf(t);n>=0&&e.add(n)}if(i=i.filter((t,n)=>!e.has(n)),a=null!==(t=null==a?void 0:a.filter((t,n)=>!e.has(n)))&&void 0!==t?t:null,0===i.length)throw Error("pick: all items are forbidden")}if(null===a){let t=Math.floor(n()*i.length);return c&&(t+=c,(t%=i.length)<0&&(t+=i.length)),i[t]}if(!s){let t=a.reduce((t,e)=>t+e,0);a=a.map(e=>e/t)}let d=n(),f=0;for(let t=0;t<i.length;t++)if(d<(f+=a[t]))return i[t];throw Error("among: unreachable")}let d={seed:e,seedMax:function(){return 2147483647},reset:function(){return e(123456),d},next:function(){return t=o(t),d},random:n,between:c,around:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[o=1,i=a]=e,l=2*n();return(l>1?1:-1)*i(l>1?l-1:l)*o},int:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[o,i,a]=s(e);return o+Math.floor(a(n())*(i-o))},chance:function(t){return n()<t},shuffle:function(t){let{mutate:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&Array.isArray(t)?t:[...t],o=r.length;for(let t=0;t<o;t++){let e=Math.floor(o*n()),i=r[t];r[t]=r[e],r[e]=i}return r},pick:u,createPicker:function(t){let e=t.map(t=>{let[e]=t;return e}),n=t.map(t=>{let[e,n]=t;return n}),r=n.reduce((t,e)=>t+e,0);for(let[t,e]of n.entries())n[t]=e/r;return()=>u(e,n,{weightsAreNormalized:!0})},vector:function(t,e){let[n=0,r=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max];for(let e of Object.keys(t))t[e]=c(n,r);return t},unitVector:function(t,e){let[n=-1,r=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max],o=Object.keys(t),i=o.map(()=>c(n,r)),a=Math.sqrt(i.reduce((t,e)=>t+e*e,0));for(let[e,n]of o.entries())t[n]=i[e]/a;return t},boxMuller:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),o=n(),i=Math.sqrt(-2*Math.log(r)),a=2*Math.PI*o;return[t+e*i*Math.cos(a),t+e*i*Math.sin(a)]}};return d}let c=class{constructor(t){Object.assign(this,s().seed(t))}};Object.assign(c,s())},4481:function(){}}]);