"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9064],{9064:function(t,e,i){i.d(e,{Main:function(){return v}});var o=i(78485),r=i(52471),n=i(86818),s=i(494),a=i(88156),h=i(63549),c=i(87858),l=i(9710);class u extends r.Mesh{constructor(){super(new r.PlaneGeometry(4,.2),new h.P({color:"#ff9900"}))}}class p extends r.Mesh{constructor(){super(new r.PlaneGeometry(4,.2),new r.ShaderMaterial({uniforms:{uColor:{value:new r.Color("#ff9900")},uSunPosition:{value:new r.Vector3(.5,.7,.3)},uLuminosity:{value:.5}},vertexShader:"\n      varying vec3 vWorldNormal;\n      \n      void main() {\n        vWorldNormal = mat3(modelMatrix) * normal;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        gl_Position.z += -0.01;\n      }\n    ",fragmentShader:"\n      varying vec3 vWorldNormal;\n      varying vec3 vColor;\n      \n      uniform vec3 uSunPosition;\n      uniform vec3 uColor;\n      uniform float uLuminosity;\n      \n      void main() {\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        gl_FragColor = vec4(uColor * light, 1.0);\n      }\n    "}))}}function d(){return(0,n.jE)(function*(t){t.useOrbitControls=!1;let e=new s.F({size:[8,8]});e.initialize(t.three.renderer.domElement),yield(0,l.RC)("three",i=>{e.update(t.three.camera,t.three.aspect)})}),(0,n.Ky)(function*(t){t.scene.background=new r.Color("#6699cc"),(0,c.cY)(new r.Mesh(new r.IcosahedronGeometry(1,4),new h.P({color:"red"})),t.scene),(0,c.cY)(new a.O,t.scene).box({size:2}).draw().showOccludedLines(),(0,c.cY)(new u,{parent:t.scene,position:[0,.5,0]}),(0,c.cY)(new p,{parent:t.scene,position:[0,-.5,0]}),yield()=>t.scene.clear()},[]),null}function v(){return(0,o.jsx)(n.c,{children:(0,o.jsx)(d,{})})}},39680:function(t,e,i){i.d(e,{a:function(){return l}});var o=i(52471),r=i(81796);let n=new o.Matrix4,s=new o.Vector3,a=new o.Quaternion,h=new o.Quaternion,c={fov:"45deg",perspective:1,zoom:1,focus:[0,0,0],size:[4,4],before:100,after:1e3,rotation:[0,0,0,"YXZ"],frame:"contain",allowOrthographic:!0,fovEpsilon:"1.5deg",nearMin:.1};class l{set(t){let{perspective:e,fov:i,zoom:o,focus:n,size:s,before:a,after:h,rotation:c,frame:l,allowOrthographic:u,fovEpsilon:p,nearMin:d}=t;return void 0!==e&&(this.perspective=e),void 0!==i&&(this.fov=(0,r.FE)(i)),void 0!==o&&(this.zoom=o),void 0!==n&&(0,r.Q7)(n,this.focus),void 0!==s&&(0,r.iK)(s,this.size),void 0!==a&&(this.before=a),void 0!==h&&(this.after=h),void 0!==c&&(0,r.Gg)(c,this.rotation),void 0!==l&&(this.frame="string"==typeof l?"cover"===l?0:1:l),void 0!==u&&(this.allowOrthographic=u),void 0!==p&&(this.fovEpsilon=(0,r.FE)(p)),void 0!==d&&(this.nearMin=d),this}copy(t){return this.perspective=t.perspective,this.fov=t.fov,this.zoom=t.zoom,this.focus.copy(t.focus),this.size.copy(t.size),this.before=t.before,this.after=t.after,this.rotation.copy(t.rotation),this.frame=t.frame,this.allowOrthographic=t.allowOrthographic,this.fovEpsilon=t.fovEpsilon,this.nearMin=t.nearMin,this}clone(){return new l().copy(this)}lerpVertigos(t,e,i){this.perspective=t.perspective+(e.perspective-t.perspective)*i,this.fov=t.fov+(e.fov-t.fov)*i;let o=Math.log(t.zoom)/Math.log(.001),r=o+(Math.log(e.zoom)/Math.log(.001)-o)*i;return this.zoom=.001**r,this.focus.lerpVectors(t.focus,e.focus,i),this.size.lerpVectors(t.size,e.size,i),this.before=t.before+(e.before-t.before)*i,this.after=t.after+(e.after-t.after)*i,a.setFromEuler(t.rotation),h.setFromEuler(e.rotation),this.rotation.setFromQuaternion(a.slerp(h,i)),this.frame=t.frame+(e.frame-t.frame)*i,this.allowOrthographic=i<.5?t.allowOrthographic:e.allowOrthographic,this.fovEpsilon=t.fovEpsilon+(e.fovEpsilon-t.fovEpsilon)*i,this.nearMin=t.nearMin+(e.nearMin-t.nearMin)*i,this}lerp(t,e){return this.lerpVertigos(this,t,e)}apply(t,e){let i=this.size.x/this.size.y/e,o=1+(i>1?this.frame:1-this.frame)*(i-1),r=this.size.y*o/this.zoom,a=this.fovEpsilon,h=this.perspective*this.fov;!this.allowOrthographic&&h<a&&(h=a);let c=r/2/Math.tan(h/2),l=h>=a,u=l?c:this.before+this.nearMin;if(n.makeRotationFromEuler(this.rotation),s.set(n.elements[8],n.elements[9],n.elements[10]).multiplyScalar(u).add(this.focus),t.position.copy(s),t.rotation.copy(this.rotation),t.updateMatrix(),t.updateMatrixWorld(!0),t.isPerspectiveCamera=l,t.isOrthographicCamera=!l,l){let i=Math.max(this.nearMin/this.zoom,c-this.before),o=c+this.after,n=r*i/c/2,s=n*e;t.fov=180*h/Math.PI,t.projectionMatrix.makePerspective(-s,s,n,-n,i,o)}else{let i=this.nearMin/this.zoom,o=i+this.before+this.after,n=r/2,s=n*e;t.fov=0,t.projectionMatrix.makeOrthographic(-s,s,n,-n,i,o)}return t.projectionMatrixInverse.copy(t.projectionMatrix).invert(),this.computedNdcScalar.set(o*e,o),this.computedSize.set(r*e,r),this}toDeclaration(){let t=[(0,r.ux)(this.rotation.x,"deg"),(0,r.ux)(this.rotation.y,"deg"),(0,r.ux)(this.rotation.z,"deg"),this.rotation.order];return{perspective:this.perspective,fov:(0,r.ux)(this.fov,"deg"),zoom:this.zoom,focus:this.focus.toArray(),size:this.size.toArray(),before:this.before,after:this.after,rotation:t,frame:this.frame,allowOrthographic:this.allowOrthographic,fovEpsilon:(0,r.ux)(this.fovEpsilon,"deg"),nearMin:this.nearMin}}constructor(t){this.focus=new o.Vector3,this.size=new o.Vector2,this.rotation=new o.Euler,this.computedNdcScalar=new o.Vector2,this.computedSize=new o.Vector2,this.set({...c,...t})}}},494:function(t,e,i){i.d(e,{F:function(){return v}});var o=i(52471),r=i(74831),n=i(63425),s=i(1296),a=i(77552),h=i(81796),c=i(39680);let l=new o.Quaternion,u=new o.Vector3,p=new o.Vector3;function d(t){l.setFromEuler(t),u.set(1,0,0).applyQuaternion(l),p.set(0,1,0).applyQuaternion(l)}class v extends s.N{pan(t,e){d(this.vertigo.rotation);let i=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(u,t*i).addScaledVector(p,e*i)}rotate(t,e){this.vertigo.rotation.x+=t,this.vertigo.rotation.y+=e}zoomAt(t,e){let i=this.vertigo.size.x/this.vertigo.zoom,o=this.vertigo.size.y/this.vertigo.zoom,r=this.vertigo.size.x/t,n=this.vertigo.size.y/t;d(this.vertigo.rotation);let{x:s,y:a}=e;this.vertigo.focus.addScaledVector(u,-((r-i)*s)).addScaledVector(p,-((n-o)*a)),this.vertigo.zoom=t}*doInitialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;yield function(t,e){for(let[i,o]of Object.entries(e))t.addEventListener(i,o);return{destroy(){for(let[i,o]of Object.entries(e))t.removeEventListener(i,o)}}}(t,{contextmenu:t=>{t.preventDefault()}});let e=new o.Vector2;yield(0,r.w)(t,{onChange:i=>{let o=t.getBoundingClientRect(),r=(i.localPosition.x-o.x)/o.width*2-1,n=-((i.localPosition.y-o.y)/o.height*2-1);e.set(r/2,n/2).multiply(this.vertigo.computedNdcScalar)},dragButton:-1,onDrag:t=>{switch(t.button){case r.M.Left:this.rotate(-.01*t.delta.y,-.01*t.delta.x);break;case r.M.Right:this.pan(-.005*t.delta.x,.005*t.delta.y)}},wheelPreventDefault:!0,onWheel:t=>{let i=this.vertigo.zoom*(1-.001*t.delta.y);t.event.altKey?this.zoomAt(i,e):this.zoomAt(i,{x:0,y:0})}})}initialize(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.collect(this.doInitialize(...e)),this}update(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/60,o=(0,a.M3)(this.dampingDecayFactor,i);this.dampedVertigo.lerp(this.vertigo,o).apply(t,e)}constructor(t={}){super(),this.dampingDecayFactor=1e-4,this.vertigo=new c.a,this.dampedVertigo=new c.a,this.actions={togglePerspective:()=>{let t=this.vertigo.perspective>.5?0:1;n.fw.tween({target:[this.vertigo,"perspective"],to:{perspective:t},duration:1,ease:"inOut3"})},focus:t=>{n.fw.tween({target:this.vertigo.focus,to:(0,h.Q7)(t),duration:1,ease:"inOut3"})},rotate:(t,e,i)=>{let r=new o.Quaternion().setFromEuler(this.vertigo.rotation),s=new o.Quaternion().setFromEuler(new o.Euler(t,e,i,"YXZ")),a=new o.Quaternion;n.fw.during({target:[this.vertigo,"rotation"],duration:1}).onUpdate(t=>{let{progress:e}=t;a.slerpQuaternions(r,s,n.fw.ease("inOut3")(e)),this.vertigo.rotation.setFromQuaternion(a)})},positiveXAlign:()=>{this.actions.rotate(0,Math.PI/2,0)},negativeXAlign:()=>{this.actions.rotate(0,-Math.PI/2,0)},positiveYAlign:()=>{this.actions.rotate(-Math.PI/2,0,0)},negativeYAlign:()=>{this.actions.rotate(Math.PI/2,0,0)},positiveZAlign:()=>{this.actions.rotate(0,0,0)},negativeZAlign:()=>{this.actions.rotate(0,Math.PI,0)}},this.vertigo.set(t),this.dampedVertigo.set(t)}}},88156:function(t,e,i){i.d(e,{O:function(){return c}});var o=i(52471),r=i(58648),n=i(81796);let s=new o.Vector2,a=new o.Vector3,h=new o.Matrix4;class c extends o.LineSegments{showOccludedLines(){let{opacity:t=.2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new o.LineBasicMaterial({color:this.material.color,transparent:!0,depthFunc:o.GreaterDepth,opacity:t}),i=new o.LineSegments(this.geometry,e);return this.add(i),this}clear(){return this.points.length=0,this.geometry.setFromPoints(this.points),this}draw(){return this.geometry.setFromPoints(this.points),this}circle(t){let{radius:e,segments:i,...r}={...c.circleDefaultOptions,...t};(0,n.Xe)(r,h);let s=new o.Vector3(1,0,0),a=new o.Vector3(0,1,0);for(let t=0;t<i;t++){let r=t/i*Math.PI*2,n=(t+1)/i*Math.PI*2,c=Math.cos(r)*e,l=Math.sin(r)*e,u=Math.cos(n)*e,p=Math.sin(n)*e,d=new o.Vector3().addScaledVector(s,c).addScaledVector(a,l).applyMatrix4(h),v=new o.Vector3().addScaledVector(s,u).addScaledVector(a,p).applyMatrix4(h);this.points.push(d,v)}return this}rectangle(t){let{centerX:e,centerY:i,width:n,height:s}=r.Ae.from(t),a=n/2,h=s/2,c=new o.Vector3(e-a,i-h,0),l=new o.Vector3(e+a,i-h,0),u=new o.Vector3(e+a,i+h,0),p=new o.Vector3(e-a,i+h,0);return this.points.push(c,l,l,u,u,p,p,c),this}box(){let{center:t=[0,0,0],size:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:i,y:r,z:s}=(0,n.Q7)(t,a),{x:h,y:c,z:l}=(0,n.Q7)(e,a),u=h/2,p=c/2,d=l/2,v=new o.Vector3(i-u,r-p,s-d),f=new o.Vector3(i+u,r-p,s-d),g=new o.Vector3(i+u,r+p,s-d),m=new o.Vector3(i-u,r+p,s-d),w=new o.Vector3(i-u,r-p,s+d),y=new o.Vector3(i+u,r-p,s+d),M=new o.Vector3(i+u,r+p,s+d),V=new o.Vector3(i-u,r+p,s+d);return this.points.push(v,f,f,g,g,m,m,v),this.points.push(w,y,y,M,M,V,V,w),this.points.push(v,w,f,y,g,M,m,V),this}plus(t,e){let i=e/2,{x:r,y:a}=(0,n.iK)(t,s),h=new o.Vector3(r-i,a,0),c=new o.Vector3(r+i,a,0),l=new o.Vector3(r,a-i,0),u=new o.Vector3(r,a+i,0);return this.points.push(h,c,l,u),this}cross(t,e){let i=e/2,{x:r,y:a}=(0,n.iK)(t,s),h=new o.Vector3(r-i,a-i,0),c=new o.Vector3(r+i,a+i,0),l=new o.Vector3(r-i,a+i,0),u=new o.Vector3(r+i,a-i,0);return this.points.push(h,c,l,u),this}constructor(...t){super(...t),this.points=[]}}c.circleDefaultOptions={radius:.5,segments:96}}}]);