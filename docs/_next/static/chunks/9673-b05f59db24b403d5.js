"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9673],{37027:(t,e,i)=>{i.d(e,{$:()=>L,s:()=>o});var s,n,o,r=i(49797),l=i(36508);let h=()=>({filter:()=>!0,prune:()=>!1,skip:()=>!1,includeFirstNode:!0,nodesMax:1e6}),a=()=>({...h(),getChildren:t=>t.children,method:"depth-first"});function*u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{nodesMax:i,includeFirstNode:s,method:n,filter:o,skip:r,prune:l,getChildren:h}={...a(),...e},u=0,c=s?[t]:[...h(t)],d=new Set;for(;c.length>0;){let t=c.shift();if(!1===o(t)||l(t))continue;if(!1===r(t)&&(yield{node:t},u++),u>=i)break;if(d.has(t)){console.warn("Tree traversal visited the same node twice",t);continue}d.add(t);let e=h(t);"depth-first"===n?c.unshift(...e):c.push(...e)}}var c=i(28535),d=i(76999),p=i(57368),f=i(66066),b=i(15940),w=i(61567);!function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"}(s||(s={}));class v{copy(t){return this.buttons=t.buttons,this.clientPosition.copy(t.clientPosition),this.screenPosition.copy(t.screenPosition),this}diff(t,e){return this.buttons=t.buttons^e.buttons,this.clientPosition.subVectors(t.clientPosition,e.clientPosition),this.screenPosition.subVectors(t.screenPosition,e.screenPosition),this}constructor(){this.buttons=0,this.clientPosition=new r.I9Y,this.screenPosition=new r.I9Y}}!function(t){t[t.Tap=0]="Tap"}(n||(n={}));class y{static get Type(){return n}consume(){this.consumed=!0}constructor(t,e){this.consumed=!1,this.type=t,this.intersection=e}}var g=new WeakMap,m=new WeakSet;class P{get buttons(){return this.state.buttons}buttonDown(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Left;return(this.state.buttons&1<<t)!=0}buttonDownOld(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Left;return(this.stateOld.buttons&1<<t)!=0}buttonDownEnter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Left;return this.buttonDown(t)&&!this.buttonDownOld(t)}buttonDownExit(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Left;return!this.buttonDown(t)&&this.buttonDownOld(t)}buttonTap(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Left,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25;return!1!==this.buttonDownExit(t)&&this.upTimes.get(t)-this.downTimes.get(t)<e}get clientPosition(){return this.state.clientPosition}get screenPosition(){return this.state.screenPosition}get ray(){return this.raycaster.ray}intersectPlane(t){let{distance:e=1e3,out:i=(0,c._)(this,g).result.point}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{ray:s}=this.raycaster,{point:n,line:o,result:r,plane:l}=(0,c._)(this,g);if("string"==typeof t)switch(l.constant=0,t){case"X":l.normal.set(1,0,0);break;case"Y":l.normal.set(0,1,0);break;case"Z":l.normal.set(0,0,1)}else l.copy(t);return o.set(s.origin,n.copy(s.origin).addScaledVector(s.direction,e)),r.intersected=!!l.intersectLine(o,i),r}updatePosition(t,e,i){let{x:s,y:n}=e,o=(s-i.x)/i.width*2-1,r=-((n-i.y)/i.height*2)+1;this.camera=t,this.clientPosition.set(s,n),this.screenPosition.set(o,r),this.raycaster.setFromCamera(this.screenPosition,t)}raycast(t){let e=[];for(let{node:i}of u(t,{skip:t=>!1===(0,w.uW)(t)||(!0===t.userData.helper||!1===t.visible)&&!0!==t.userData.pointerArea,prune:t=>!0===t.userData.ignorePointer}))this.raycaster.intersectObject(i,!1,e);return e.sort((t,e)=>t.distance-e.distance),e}raycastScene(t){return this.raycast(t)}updateStart(t){this.diffState.diff(this.state,this.stateOld),this.intersections=this.raycast(t),(0,f._)(this,m,D).call(this,t)}updateEnd(){this.stateOld.copy(this.state),this.event.reset()}initialize(t,e,i,s){let n=e=>{let s=t.getBoundingClientRect(),{clientX:n,clientY:o}=e;this.updatePosition(i,{x:n,y:o},s)},o=t=>{n(t)},r=t=>{n(t),this.state.buttons|=1<<t.button,this.downTimes.set(t.button,s.time)},l=t=>{this.state.buttons&=~(1<<t.button),this.upTimes.set(t.button,s.time)};return e.addEventListener("pointermove",o),e.addEventListener("pointerdown",r),e.addEventListener("pointerup",l),()=>{e.removeEventListener("pointermove",o),e.removeEventListener("pointerdown",r),e.removeEventListener("pointerup",l)}}constructor(){(0,b._)(this,m),(0,d._)(this,g,{writable:!0,value:void 0}),this.state=new v,this.stateOld=new v,this.diffState=new v,this.downTimes=new Map,this.upTimes=new Map,this.event=new class{consume(){this.consumed=!0}reset(){this.consumed=!1}constructor(){this.consumed=!1}},this.camera=null,this.intersections=[],this.raycaster=new r.tBo,(0,p._)(this,g,{plane:new r.Zcv,point:new r.Pq0,line:new r.cZY,result:{intersected:!1,point:new r.Pq0}})}}function D(t){let[e]=this.intersections;if(this.buttonTap()){var i;let s=new y(n.Tap,null!=e?e:null),o=null!=(i=null==e?void 0:e.object)?i:t;for(;o&&!1===s.consumed;)o.userData.onPointerTap&&((0,o.userData.onPointerTap)(s),s.consume()),o=o.parent}}!function(t){t.WebGL="webgl",t.WebGPU="webgpu"}(o||(o={}));let E={includeSelf:!0,visibleOnly:!1};class L{get aspect(){return this.width/this.height}get size(){return L.shared.vector2.set(this.width,this.height)}get fullSize(){return this.size.multiplyScalar(this.pixelRatio)}initialize(t,e){throw Error("Not implemented")}*queryAll(t,e){let i=function(t){if(void 0===t)return()=>!0;if(null===t)return()=>!1;if("string"==typeof t)return e=>(null==e?void 0:e.name)===t||(null==e?void 0:e.uuid)===t;if(t instanceof RegExp)return e=>{var i;return t.test(null==e?void 0:e.name)||t.test(null==e||null==(i=e.constructor)?void 0:i.name)};if("function"==typeof t)return t;throw Error("Invalid query selector")}(t),{includeSelf:s,visibleOnly:n}={...E,...e};for(let{node:t}of u(this.scene,{includeFirstNode:s,getChildren:t=>t.children,skip:t=>!1==!!i(t)||n&&!1===t.visible}))yield t}queryFirst(t,e){for(let i of this.queryAll(t,e))return i;return null}constructor(t){this.ticker=l.Rv.get("three").set({minActiveDuration:8}),this.width=300,this.height=150,this.pixelRatio=1,this.pointer=new P,this.scene=new r.Z58,this.skipRender=!1,this.initialized=!1,this.type=t}}L.shared={vector2:new r.I9Y,vector3:new r.Pq0}},39787:(t,e,i)=>{function s(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e.flat(2))"destroy"in t?t.destroy():t()}i.d(e,{e:()=>n,z:()=>s});class n{collect(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e)if(t)if(Symbol.iterator in t)for(let e of t)e&&this.destroyables.push(e);else this.destroyables.push(t)}constructor(){this.destroyables=[],this.destroy=()=>{s(this.destroyables),this.destroyables=[]}}}}}]);