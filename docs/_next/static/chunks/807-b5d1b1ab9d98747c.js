"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[807],{9807:function(e,n,t){t.d(n,{Main:function(){return $}});var r=t(7504),a=t(257),o=t(6935),i=t(2983);let l=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var c=t(2773);class s{static from(e,n){if(n instanceof c.Observable){if("number"==typeof n.value)return new s(e,n);throw Error("Observable value must be a number")}let t=typeof n;return"object"===t&&n.constructor===Object&&"value"in n?new s(e,n):"string"===t?new s(e,{value:new i.Ilk(n)}):new s(e,{value:n})}get value(){return this.target.value}computeDeclaration(){let e=this.name,n=this.target.value;if("number"==typeof n)return"uniform float ".concat(e,";");if(n.isVector2)return"uniform vec2 ".concat(e,";");if(n.isVector3||n.isColor)return"uniform vec3 ".concat(e,";");if(n.isVector4||n.isQuaternion)return"uniform vec4 ".concat(e,";");if(n.isMatrix3)return"uniform mat3 ".concat(e,";");if(n.isMatrix4)return"uniform mat4 ".concat(e,";");if(n.isTexture)return n.isCubeTexture?"uniform samplerCube ".concat(e,";"):"uniform sampler2D ".concat(e,";");if(n instanceof Float32Array)return"uniform float ".concat(e,"[").concat(n.length,"];");throw console.log("unhandled value:",n),Error('unhandled value: "'.concat(null==n?void 0:n.constructor.name,'"'))}constructor(e,n){this.name=e,this.target=n}}function m(){let e=Object.freeze(Object.defineProperties(["","s*",""],{raw:{value:Object.freeze(["","\\s*",""])}}));return m=function(){return e},e}let f=null,p=e=>(f=e,b),u="// ShaderForge (injected code) ->",d="// <- ShaderForge",h=e=>"".concat(u,"\n").concat(e.trim(),"\n").concat(d),g=e=>{let n=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=RegExp(String.raw(m(),n(d),n(u)),"g");return e.replaceAll(t,"")};class v{getPattern(e){let{throwError:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="#include <".concat(e,">"),r=this.type;if(n&&!1===f[r].includes(t))throw Error('"'.concat(t,'" is not present in the shader template program.'));return{pattern:t,type:r}}replace(e,n){let{type:t,pattern:r}=this.getPattern(e),a=h(n);return f[t]=f[t].replace(r,a),b}inject(e,n,t){let{type:r,pattern:a}=this.getPattern(n),o="after"===e?"".concat(a,"\n").concat(h(t)):"".concat(h(t),"\n").concat(a);return f[r]=f[r].replace(a,o),b}injectTokenComments(){for(let e of l){let{type:n,pattern:t}=this.getPattern(e,{throwError:!1});f[n]=f[n].replace(t,"\n        ".concat(t,"\n        // ShaderForge TOKEN: ").concat(e,"\n      "))}return b}header(e){let n=this.type;return f[n]="".concat(e,"\n").concat(f[n]),b}before(e,n){return this.inject("before",e,n)}after(e,n){return this.inject("after",e,n)}top(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return f[this.type]=f[this.type].replace("void main() {","\n      ".concat(h(n.join("\n\n")),"\n      void main() {\n    ")),b}mainBeforeAll(e){return f[this.type]=f[this.type].replace("void main() {","void main() {\n        ".concat(h(e))),b}mainAfterAll(e){return f[this.type]=f[this.type].replace(/}\s*$/,"\n      ".concat(h(e),"\n    }")),b}uniforms(e){if("string"==typeof e)this.top(e);else{let n=[];for(let[t,r]of Object.entries(e)){let e=s.from(t,r);n.push(e.computeDeclaration())}this.top(n.join("\n")),_(e)}return b}clean(){return f[this.type]=g(f[this.type]),b}printFinalCode(){return console.log(f[this.type].replace(/#include <(.*)>/g,(e,n)=>{let t=i.WdD[n];if(!t)throw Error('Shader chunk "'.concat(n,'" not found'));return t})),b}constructor(e){this.type=e}}let _=e=>{for(let[n,t]of Object.entries(e)){let e=s.from(n,t);if(n in f.uniforms){if(e.value!==f.uniforms[n].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else f.uniforms[n]=e}return b},x=new v("fragmentShader"),w=new v("vertexShader"),b=Object.assign(function(e){return e&&p(e),b},{defines:e=>(f.defines?Object.assign(f.defines,e):f.defines=e,b),uniforms:e=>(w.uniforms(e),x.uniforms(e),b),varying:function(e){let n="";if("string"==typeof e)n=e;else{let t=[];for(let[n,r]of Object.entries(e))t.push("varying ".concat(r," ").concat(n,";"));n=t.join("\n")}return w.top(n),x.top(n),b},vertex:w,fragment:x,header:e=>(x.header(e),w.header(e),b),clean:()=>(x.clean(),w.clean(),b),with:p,wrap:(e,n)=>(e.onBeforeCompile=e=>{f=e},e)}),y=new i.Ilk;function j(e){let{r:n,g:t,b:r}=y.set(e);return"vec3(".concat(n.toFixed(3),", ").concat(t.toFixed(3),", ").concat(r.toFixed(3),")")}function T(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new i.Pa4;if("number"==typeof e)return n.set(e,e,e);if(Array.isArray(e)){let[t,r,a=0]=e;return n.set(t,r,a)}if("width"in e){let{width:t,height:r,depth:a}=e;return n.set(t,r,a)}let{x:t,y:r,z:a=0}=e;return n.set(t,r,a)}new i.Pa4,new i.USm,new i.Pa4,new i._fP,new i.Pa4(0,0,0),new i.USm(0,0,0,"XYZ"),new i.Pa4(1,1,1);let A={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,visible:!0};function S(e,n){let{x:t,y:r,z:a,position:o=new i.Pa4(t,r,a),rotationX:l,rotationY:c,rotationZ:s,rotationOrder:m,rotation:f=new i.USm(l,c,s,m),scaleX:p,scaleY:u,scaleZ:d,scaleScalar:h,scale:g=new i.Pa4(p,u,d).multiplyScalar(h),visible:v}={...A,...n};return T(o,e.position),function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new i.USm;if(Array.isArray(e)){let[t,r,a,o="XYZ"]=e;return n.set(t,r,a,o)}let{x:t,y:r,z:a,order:o="XYZ",useDegree:l=!1}=e,c=l?Math.PI/180:1;n.set(t*c,r*c,a*c,o)}(f,e.rotation),T(g,e.scale),e.visible=v,e}var P=t(7810);let V="#ffffff",k="#edefde",C="#ffff00",E="#200320";class M extends i.x12{constructor(e,n){let t=new i.u9r;t.setAttribute("position",new i.a$l([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),t.computeBoundingSphere(),super(t,new i.nls({fog:!1})),this.light=e,this.color=n,this.type="RectAreaLightHelper";let r=new i.u9r;r.setAttribute("position",new i.a$l([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new i.Kj0(r,new i.vBJ({side:i._Li,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);let e=this.material.color,n=Math.max(e.r,e.g,e.b);n>1&&e.multiplyScalar(1/n),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}let I={vecX:["float","vec2","vec3","vec4"]},z=(e,n)=>{let t=[];for(let r of Array.isArray(e)?e:[e].map(e=>e in I?I[e]:e).flat())t.push(n.replaceAll(/\bT\b/g,r));return t.join("\n")},W=P.a.map(e=>{let n=e[0].toUpperCase()+e.slice(1);return"\n  ".concat(z("vecX","\n    T regularRamp".concat(n,"(in float x, in T stop1, in T stop2) {\n      return mix(stop1, stop2, x);\n    }\n  ")),"\n  \n  ").concat(z("vecX","\n    T regularRamp".concat(n,"(in float x, in T stop1, in T stop2, in T stop3) {\n      T a, b;\n      float t;\n      if (x < 0.5) {\n        a = stop1;\n        b = stop2;\n        t = 2.0 * x;\n      } else {\n        a = stop2;\n        b = stop3;\n        t = 2.0 * x - 1.0;\n      }\n      return mix(a, b, ").concat(e,"(t));\n    }\n  ")),"\n  \n  ").concat(z("vecX","\n    T regularRamp".concat(n,"(in float x, in T stop1, in T stop2, in T stop3, in T stop4) {\n      T a, b;\n      float t;\n      if (x < 0.3333333333) {\n        a = stop1;\n        b = stop2;\n        t = 3.0 * x;\n      } else if (x < 0.6666666666) {\n        a = stop2;\n        b = stop3;\n        t = 3.0 * x - 1.0;\n      } else {\n        a = stop3;\n        b = stop4;\n        t = 3.0 * x - 2.0;\n      }\n      return mix(a, b, ").concat(e,"(t));\n    }\n  ")),"\n")}).join("\n"),O="\n#ifndef GLSL_RAMP\n#define GLSL_RAMP\n".concat(P.i,"\n").concat(W,"\n#endif\n"),U={color:E,radius:1.3,innerRadiusRatio:.66,thickness:null,z:0};function B(e){let{radius:n,innerRadiusRatio:t,color:r,thickness:a,...o}={...U,...e},l=new i.o8S(null===a?n*t:n-a,n,128),c=new i.EJi({color:r,side:i.ehD}),s=new i.Kj0(l,c);return S(s,o),s}t(8470).UM;let R="\n  ".concat(i.WdD.cube_uv_reflection_fragment,"\n\n  varying vec3 vWorldNormal;\n\n  void main() {\n    \n    gl_FragColor.rgb = ").concat(function e(n){let{precision:t=3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0,a=0,o=0;function i(){return"vec3(".concat(r.toFixed(t),", ").concat(a.toFixed(t),", ").concat(o.toFixed(t),")")}switch(typeof n){case"number":return r=(n>>16&255)/255,a=(n>>8&255)/255,o=(255&n)/255,i();case"string":if(n.startsWith("#")){if(4===n.length)return r=parseInt(n[1]+n[1],16)/255,a=parseInt(n[2]+n[2],16)/255,o=parseInt(n[3]+n[3],16)/255,i();return e(parseInt(n.slice(1),16),{precision:t})}throw Error("Invalid string: ".concat(n));case"object":if(Array.isArray(n))return[r,a,o]=n,i();if("r"in n)return r=n.r,a=n.g,o=n.b,i();if("x"in n)return r=n.x,a=n.y,o=n.z,i();throw Error("Invalid object: ".concat(n))}return"vec3(1.0, 0.0, 1.0)"}("#c00b0b"),";\n    gl_FragColor.a = 1.0;\n  }\n");var F=t(558);let X="\n  ".concat(F.l,"\n\n  float sin01(float x) {\n    return 0.5 + 0.5 * sin(x * 6.283185307179586);\n  }\n\n  vec2 scaleAround(vec2 p, vec2 c, float s) {\n    return c + (p - c) / s;\n  }\n\n  // Same as mix, but clamped.\n  ").concat(z("vecX","\n    T lerp(in T a, in T b, in float x) {\n      return mix(a, b, clamp01(x));\n    }\n  "),"\n\n  float inverseLerpUnclamped(in float a, in float b, float x) {\n    return (x - a) / (b - a);\n  }\n\n  float inverseLerp(in float a, in float b, float x) {\n    return clamp01((x - a) / (b - a));\n  }\n\n  float threshold(in float x, in float thresholdValue) {\n    return x < thresholdValue ? 0. : 1.;\n  }\n\n  float threshold(in float x, in float thresholdValue, in float width) {\n    return width < 1e-9 \n      ? (x < thresholdValue ? 0. : 1.)\n      : clamp01((x - thresholdValue + width * .5) / width);\n  }\n\n  mat3 extractRotation(mat4 matrix) {\n    return mat3(matrix[0].xyz, matrix[1].xyz, matrix[2].xyz);\n  }\n\n  vec2 rotate(vec2 p, float a) {\n    float c = cos(a);\n    float s = sin(a);\n    float x = c * p.x + s * p.y;\n    float y = -s * p.x + c * p.y;\n    return vec2(x, y);\n  }\n\n  vec2 rotateAround(vec2 p, float a, vec2 c) {\n    return c + rotate(p - c, a);\n  }\n\n  vec2 rotateScaleAround(vec2 p, float a, float s, vec2 c) {\n    return c + rotate((p - c) / s, a);\n  }\n  \n  float positiveModulo(float x) {\n    x = mod(x, 1.0);\n    return x < 0.0 ? x + 1.0 : x;\n  }\n\n  float positiveModulo(float x, float modulo) {\n    x = mod(x, modulo);\n    return x < 0.0 ? x + modulo : x;\n  }\n\n  // Limit a value to a maximum that the function tends to reach when x -> ∞\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float maxValue) {\n    return x <= 0.0 ? x : maxValue * x / (maxValue + x);\n  }\n\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float minValue, float maxValue) {\n    float d = maxValue - minValue;\n    float xd = x - minValue;\n    return x <= minValue ? x : minValue + d * xd / (d + xd);\n  }\n\n  float sqLength(in vec2 p) {\n    return p.x * p.x + p.y * p.y;\n  }\n\n  float sqLength(in vec3 p) {\n    return p.x * p.x + p.y * p.y + p.z * p.z;\n  }\n\n  ").concat(z("vecX","\n    T min3(in T a, in T b, in T c) {\n      return min(min(a, b), c);\n    }\n  "),"\n\n  ").concat(z("vecX","\n    T min4(in T a, in T b, in T c, in T d) {\n      return min(min(a, b), min(c, d));\n    }\n  "),"\n"),L={radius:1},Z={radius:.225,singleColor:null,colorTop:V,colorBottom:C,emmissiveIntensity:.25},J=0;function N(e){let{radius:n,singleColor:t,emmissiveIntensity:r,...a}={...Z,...e},{colorTop:o=null!=t?t:Z.colorTop,colorBottom:l=null!=t?t:Z.colorBottom}={...e},c=new i.cJO(n,12),s=new i.EJi({color:o,emissive:l});s.onBeforeCompile=e=>{b.with(e).defines({USE_UV:""}).uniforms({colorTop:{value:new i.Ilk(o)},colorBottom:{value:new i.Ilk(l)}}).fragment.top(O,X).fragment.mainBeforeAll("\n        float alpha = inverseLerp(.3, .7, vUv.y);\n        vec3 sphereColor = regularRampEaseInout6(alpha, colorBottom, colorTop);\n      ").fragment.after("map_fragment","\n        diffuseColor.rgb = sphereColor;\n      ").fragment.after("emissivemap_fragment","\n        totalEmissiveRadiance.rgb = sphereColor * ".concat(r.toFixed(2),";\n      "))};let m=new i.Kj0(c,s);return m.name="SmallGradientSphere-".concat(J++),S(m,a),m}let D={color:E,thickness:.018,shaded:!1,length:1};function K(e){let{color:n,thickness:t,length:r,shaded:a,...o}={...D,...e},l=a?new i.EJi({color:n}):new i.vBJ({color:n}),c=new i.fHI(t/2,t/2,r,12,1).rotateZ(.5*Math.PI),s=new i.Kj0(c,l);return S(s,o),s}function*Y(e){let{scene:n,camera:t}=e;t.fov=25,t.updateProjectionMatrix(),t.position.set(0,0,10);let r=new i.ZAu;n.add(r),yield()=>r.removeFromParent();let a=new i.ZAu;a.rotation.z=-.25*Math.PI,r.add(a);let o=function(){let{debug:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new i.ZAu;n.name="lights";let t=new i.vmT("#dbebf0","#645d61",1);n.add(t);let r=new i.T_f("#e8e6d3",1.1);r.position.set(3,3,3),r.width=16,r.height=16,r.lookAt(0,0,0),n.add(r),e&&n.add(new M(r));let a=new i.Mig("#f2f0dd",.8);return n.add(a),n}();n.add(o),r.add(function(e){let{radius:n,...t}={...L},r=new i.cJO(n,12),a=new i.EJi;a.onBeforeCompile=e=>b.with(e).defines({USE_UV:""}).fragment.top(O).fragment.after("map_fragment","\n      vec2 p = vUv - 0.5;\n      float alpha = vUv.y;\n      diffuseColor.rgb = regularRampEaseInout4(alpha,\n        ".concat(j(E),",\n        ").concat(j(V),",\n        ").concat(j(C),");\n    "));let o=new i.Kj0(r,a);return S(o,t),o}()),r.add(function(e){let n=B(e);return n.material.onBeforeCompile=e=>b.with(e).defines({USE_UV:""}).fragment.top(O).fragment.after("map_fragment","\n      vec2 p = vUv - 0.5;\n      float alpha = atan(p.y, p.x) / 6.2831853;\n      alpha = 1.0 - mod(alpha + 0.0, 1.0);\n      diffuseColor.rgb = regularRampEaseInout4(alpha,\n        ".concat(j(E),",\n        ").concat(j(V),",\n        ").concat(j(C),");\n    ")),n}({z:-1})),r.add(B({z:-1,radius:.8,thickness:.01,color:k})),a.add(N({x:-1.5,z:.5,singleColor:C})),a.add(B({x:-1.81,radius:.1,thickness:.01,color:k})),a.add(B({x:-2.2,radius:.2,thickness:.01,color:k})),a.add(K({x:-2.5,color:k,thickness:.01,length:.45})),a.add(N({x:1.7,z:.5,rotationZ:-.25*Math.PI})),a.add(N({x:1.4,radius:.1,singleColor:E})),a.add(function(e){let n=new i.cJO(.4,12),t=new i.EJi({});t.onBeforeCompile=e=>b.with(e).varying({vWorldPosition:"vec3",vNormalWorld:"vec3",vViewDir:"vec3"}).vertex.mainAfterAll("\n      vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n      vNormalWorld = normalize(mat3(modelMatrix) * normal);\n      vViewDir = normalize(cameraPosition - vWorldPosition);\n    ").fragment.top(P.i).fragment.after("map_fragment","\n      float fresnel = dot(vNormalWorld, vViewDir);\n      vec3 inner = ".concat(j(V),";\n      vec3 outer = ").concat(j(E),";\n      diffuseColor.rgb = mix(inner, outer, easeInout(1.0 - fresnel * fresnel, 2.0, 0.0));\n    "));let r=new i.Kj0(n,t);return S(r,e),r}({x:2.3})),a.add(K({x:1.5})),n.add(function(){let e=new i.jyz({depthWrite:!1,side:i._Li,vertexShader:"\n  varying vec3 vWorldNormal;\n\n  vec3 rotate(mat4 m, vec3 v) {\n    return vec3(\n      dot(v, vec3(m[0][0], m[1][0], m[2][0])),  // X component\n      dot(v, vec3(m[0][1], m[1][1], m[2][1])),  // Y component\n      dot(v, vec3(m[0][2], m[1][2], m[2][2]))   // Z component\n    );\n  }\n\n  void main() {\n    vWorldNormal = rotate(modelMatrix, position);\n\n    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    // Ignore the position, we only need the normal:\n    gl_Position = projectionMatrix * vec4(rotate(modelViewMatrix, position), 1.0);\n  }\n",fragmentShader:R,uniforms:{}}),n=new i.cJO(10,12),t=new i.Kj0(n,e);return t.renderOrder=-1,t.name="sky",t}())}function $(){return(0,r.jsx)("div",{className:"wraps",children:(0,r.jsx)(a.V,{children:(0,r.jsx)(o.hR,{children:(0,r.jsx)(o.kB,{fn:Y})})})})}}}]);