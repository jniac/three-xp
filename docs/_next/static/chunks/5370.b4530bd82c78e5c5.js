(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5370],{75370:function(e,t,n){"use strict";n.r(t),n.d(t,{Client:function(){return N}});var r=n(32617),i=n(87200);function s(e){let t=e.match(/\s*([0-9.]+)\s*(\/\s*[0-9.]+)?\s*([a-zA-Z]*)\s*?/);if(null===t)throw Error("Invalid number");let[n,r,i,s=""]=t;return[Number.parseFloat(r)/(i?Number.parseFloat(i.slice(1)):1),s]}let l={height:"3/2em",aspect:1.6,strokeWidth:"1px",padding:".3em",active:!1,circleActiveFill:"currentColor"},a=(0,i.forwardRef)(function(e,t){let{height:n,strokeWidth:i,aspect:a,padding:o,active:c,circleActiveFill:d,...u}={...l,...e},[h,m]=s(n),x="".concat(h).concat(m),[f,p]=s(i),v=f.toString()+p,g=(h/2).toString()+m,j=(h*a).toString()+m,y=(f/2).toString()+p;return(0,r.jsxs)("svg",{ref:t,width:j,height:x,stroke:"currentColor",strokeWidth:i,fill:"none",...u,children:[(0,r.jsx)("rect",{x:y,y:y,rx:g,width:"calc(".concat(j," - ").concat(v,")"),height:"calc(".concat(x," - ").concat(v,")")}),(0,r.jsx)("circle",{cx:c?"calc(".concat(j," - ").concat(g,")"):g,cy:g,r:"calc(".concat(g," - ").concat(y," - ").concat(o,")"),fill:c?"currentColor":"transparent",style:{transition:"0.2s"}})]})});var o=n(23657),c=n(87868),d=n(47090),u=n(50864);let h=new c.yGw,m=new c.yGw,x=new c.Pa4,f=new c.Pa4;var p=n(47540),v=n(29368);class g extends c.ZAu{static current(){return this.instances.at(-1)}constructor(){super(),this.parts=(()=>{let e=(0,c.e5)((0,c.fzv)(0));e.onObjectUpdate(()=>v.vB.get("three").time);let t=(0,c.e5)((0,c.fzv)(0)),n=(0,c.Fn)(n=>{let{storageTexture:r}=n,i=c.V7B.modInt(512),s=c.V7B.div(512),l=(0,c.qzT)(i,s),a=(0,c.fzv)(i).div(50),o=(0,c.fzv)(s).div(50);(0,c.If)(t.equal(0),()=>{let t=a.sin(),n=o.sin(),i=a.add(o).sin(),s=a.mul(a).add(o.mul(o),e.mul(1.2).sin()).sqrt().add(5,e.sin()).sin(),d=t.add(n,i,s),u=e.mul(2).add(a.div(12).add(o.div(32))).sin().remap(-1,1,0,1),h=d.add(Math.PI).sin(),m=d.add(Math.PI).sub(.5).sin(),x=(0,c.oF4)((0,c.R3C)(u,h,m),e.sin().remap(-1,1,-1,1));(0,c.YDX)(r,l,(0,c.vhs)(x,1)).toWriteOnly()}).Else(()=>{let t=(0,c.Z1V)((0,c.R3C)(a,o,e)),n=(0,c.W$Z)((0,c.R3C)(a,o,e).mul(.2)).remap(-.65,.65,0,1),i=(0,c.CD7)((0,c.$_Y)("red"),(0,c.$_Y)("blue"),(0,c.oF4)(n,5));i.mixAssign((0,c.$_Y)("black"),t.oneMinus()),(0,c.YDX)(r,l,(0,c.vhs)(i,1)).toWriteOnly()})}),r=new c.Kj0(new c._12,new c.AEy({side:c.ehD,color:"#ffcc00"}));this.add(r);let i=new c.Sxh(512,512),s=n({storageTexture:i}).compute(262144);return r.material.colorNode=(0,c.hYO)(i),{plane:r,computeNode:s,uPhase:t}})(),this.onDestroy=()=>{g.instances.splice(g.instances.indexOf(this),1)},this.onTick=(e,t)=>{t.renderer.computeAsync(this.parts.computeNode)},g.instances.push(this)}}g.instances=[];var j=n(56997),y=n.n(j);function b(){return(0,r.jsx)("div",{className:"".concat(y().Background," layer flex flex-col text-center items-center justify-center"),children:(0,r.jsx)("div",{style:{margin:"-100px",inset:0},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ad dicta unde totam! Iusto rerum tempore provident dolores voluptas sed neque quisquam corrupti impedit quam eum animi sint, eaque non quae?"})})}function C(){let[e,t]=(0,i.useState)(!1),[n,s]=(0,i.useState)(NaN),l=(0,p.Ky)(),{ref:c}=(0,o.sv)(function*(t){let r=t.querySelector("#three-div"),i=r.querySelector("span + span"),s=g.current();yield l.ticker.onTick({order:-1},a=>{!function(e,t,n,r){let{pixelPerUnit:i=100,resetRotation:s=0,resetScale:l=0,leftHanded:a=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};e.style.perspective=function(e,t){if(0!==e.projectionMatrix.elements[15])return"none";{let n=e.projectionMatrix.elements[5],r=t.clientHeight*n/2;return"".concat(r,"px")}}(n,e),t.style.position="absolute",t.style.left="50%",t.style.top="50%",t.style.transform=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=e.projectionMatrix.elements[5],o=n.clientHeight*a/2,c=o/r,f=function(e,t){if((0,u.nK)(e))return e.matrixWorld;if((0,u.Eq)(e))return e;if((0,u.uU)(e))return t.makeTranslation(e.x,e.y,e.z);throw Error("Invalid object type.")}(t,m);h.multiplyMatrices(e.matrixWorldInverse,f);let p=h.elements;p[4]*=-1,p[5]*=-1,p[6]*=-1,p[8]*=-1,p[9]*=-1,p[10]*=-1;let v=p[14];return p[14]+=l?-1:1,p[0]*=c,p[1]*=c,p[2]*=c,p[4]*=c,p[5]*=c,p[6]*=c,p[8]*=c,p[9]*=c,p[10]*=c,p[12]*=o,p[13]*=o,p[14]*=o,p[1]*=-1,p[5]*=-1,p[9]*=-1,p[13]*=-1,l&&(p[2]*=-1,p[6]*=-1,p[10]*=-1,p[14]*=-1),i>0&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.elements;x.set(n[0],n[1],n[2]);let r=x.length();n[0]=(0,d.t7)(n[0],r,t),n[1]=(0,d.t7)(n[1],0,t),n[2]=(0,d.t7)(n[2],0,t),x.set(n[4],n[5],n[6]);let i=x.length();n[4]=(0,d.t7)(n[4],0,t),n[5]=(0,d.t7)(n[5],i,t),n[6]=(0,d.t7)(n[6],0,t),x.set(n[8],n[9],n[10]);let s=x.length();n[8]=(0,d.t7)(n[8],0,t),n[9]=(0,d.t7)(n[9],0,t),n[10]=(0,d.t7)(n[10],s,t)}(h,i),s>0&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.elements;x.set(r[0],r[1],r[2]);let i=(0,d.t7)(1,t/x.length(),n);r[0]*=i,r[1]*=i,r[2]*=i,x.set(r[4],r[5],r[6]);let s=(0,d.t7)(1,t/x.length(),n);r[4]*=s,r[5]*=s,r[6]*=s,x.set(r[8],r[9],r[10]);let l=(0,d.t7)(1,t/x.length(),n);r[8]*=l,r[9]*=l,r[10]*=l}(h,l?v:-v,s),"translate(-50%, -50%) matrix3d(".concat(h.elements.join(","),")")}(n,r,e,i,s,l,a),t.style.zIndex=(x.set(n.matrixWorld.elements[12],n.matrixWorld.elements[13],n.matrixWorld.elements[14]),function(e,t){if((0,u.nK)(e))return t.setFromMatrixPosition(e.matrixWorld);if((0,u.Eq)(e))return t.setFromMatrixPosition(e);if((0,u.uU)(e))t.copy(e);else throw Error("Invalid object type.")}(r,f),Math.round(1e4/(1+x.distanceTo(f))).toString())}(t,r,l.camera,s);let o=isNaN(n)?'0.000"':"".concat((a.time-n).toFixed(3),'"');i.innerHTML=[...o].map(e=>"<span>".concat(e,"</span>")).join(""),e&&(s.rotation.y+=2*a.deltaTime,s.rotation.x+=1*a.deltaTime)})},[e,n]);return(0,r.jsxs)("div",{ref:c,className:"layer thru p-8 flex flex-col items-start",children:[(0,r.jsx)(p.ur,{value:g}),(0,r.jsxs)("div",{className:"p-4 bg-white text-[#bd71ff] flex flex-col gap-2",children:[(0,r.jsx)("h1",{className:"text-4xl mb-2",children:"Webgpu Demo"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"✅ Transparent background"}),(0,r.jsx)("li",{children:"✅ TSL"}),(0,r.jsx)("li",{children:"✅ Basic context (resize, tick, render)"}),(0,r.jsx)("li",{children:"✅ Vertigo controls"}),(0,r.jsx)("li",{children:"✅ CSS 3D"})]}),(0,r.jsxs)("button",{className:"flex gap-2",onClick:()=>t(!e),children:["Auto-Rotate",(0,r.jsx)(a,{active:e})]}),(0,r.jsx)("button",{className:"border border-[#bd71ff]",onClick:()=>{var e;return null===(e=g.current())||void 0===e?void 0:e.rotation.set(0,0,0)},children:"Reset Rotation"})]}),(0,r.jsxs)("div",{id:"three-div",className:y().ThreeDiv,onPointerEnter:()=>{s(v.vB.get("three").time),g.current().parts.uPhase.value=1},onPointerLeave:()=>{s(NaN),g.current().parts.uPhase.value=0},children:[(0,r.jsx)("span",{style:{fontFamily:"'Sofia Sans Extra Condensed', sans-serif",fontWeight:"100",fontSize:"2em",lineHeight:".7em",textTransform:"uppercase"},children:"3D div"}),(0,r.jsxs)("span",{className:y().Counter,style:{fontFamily:"'Sofia Sans Extra Condensed', sans-serif",fontWeight:"300",fontSize:"1em",lineHeight:".7em",textTransform:"uppercase"},children:[(0,r.jsx)("span",{children:"0"}),(0,r.jsx)("span",{children:"."}),(0,r.jsx)("span",{children:"0"}),(0,r.jsx)("span",{children:"0"}),(0,r.jsx)("span",{children:"0"})]})]})]})}function N(){return(0,r.jsxs)("div",{className:"".concat(y().Client," layer bg-[#bd71ff]"),children:[(0,r.jsx)(b,{}),(0,r.jsx)("div",{className:"layer",children:(0,r.jsx)(p.H7,{vertigoControls:{size:2},children:(0,r.jsx)(C,{})})})]})}},56997:function(e){e.exports={Client:"client_Client__xAYKJ",Background:"client_Background__G4qOA",ThreeDiv:"client_ThreeDiv__atxk6",Counter:"client_Counter__ME1MG"}}}]);