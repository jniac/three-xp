"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3414],{7147:(e,t,n)=>{n.d(t,{bI:()=>b,eR:()=>P});var r=n(888),i=n(30158);let s=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var o=n(49797),a=n(85795);class l{static from(e,t){if(t instanceof a.Observable){if("number"==typeof t.value)return new l(e,t);throw Error("Observable value must be a number")}let n=typeof t;return"object"===n&&(t.constructor===Object||t instanceof o.nc$)&&"value"in t?new l(e,t):"string"===n?new l(e,{value:new o.Q1f(t)}):new l(e,{value:t})}get value(){return this.target.value}computeDeclaration(){let e=this.name,t=this.target.value,n="";if(t instanceof Float32Array)return"uniform float ".concat(e,"[").concat(t.length,"];");if(Array.isArray(t)&&(n="[".concat(t.length,"]"),t=t[0]),"number"==typeof t)return"uniform float ".concat(e).concat(n,";");if(t.isVector2)return"uniform vec2 ".concat(e).concat(n,";");if(t.isVector3||t.isColor)return"uniform vec3 ".concat(e).concat(n,";");if(t.isVector4||t.isQuaternion)return"uniform vec4 ".concat(e).concat(n,";");if(t.isMatrix3)return"uniform mat3 ".concat(e).concat(n,";");if(t.isMatrix4)return"uniform mat4 ".concat(e).concat(n,";");if(t.isTexture)if(t.isCubeTexture)return"uniform samplerCube ".concat(e).concat(n,";");else return"uniform sampler2D ".concat(e).concat(n,";");throw console.log("unhandled value:",t),Error('unhandled value: "'.concat(null==t?void 0:t.constructor.name,'"'))}constructor(e,t){this.name=e,this.target=t}}function c(){let e=(0,r._)(["","s*",""],["","\\s*",""]);return c=function(){return e},e}let u=null,h=e=>(u=e,b),f="// ShaderForge (injected code) ->",d="// <- ShaderForge",p=e=>"".concat(f,"\n").concat(e.trim(),"\n").concat(d),m=e=>{let t=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=RegExp(String.raw(c(),t(d),t(f)),"g");return e.replaceAll(n,"")};class _{getPattern(e){let{throwError:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="#include <".concat(e,">"),r=this.type;if(t&&!1===u[r].includes(n))throw Error('"'.concat(n,'" is not present in the shader template program.'));return{pattern:n,type:r}}replace(e,t){if(e instanceof RegExp){let{type:n}=this;u[n]=u[n].replace(e,p(t))}else{let{type:n,pattern:r}=this.getPattern(e),i=p(t);u[n]=u[n].replace(r,i)}return b}inject(e,t,n){let{type:r,pattern:i}=this.getPattern(t),s="after"===e?"".concat(i,"\n").concat(p(n)):"".concat(p(n),"\n").concat(i);return u[r]=u[r].replace(i,s),b}injectTokenComments(){for(let e of s){let{type:t,pattern:n}=this.getPattern(e,{throwError:!1});u[t]=u[t].replace(n,"\n        ".concat(n,"\n        // ShaderForge TOKEN: ").concat(e,"\n      "))}return b}header(e){let t=this.type;return u[t]="".concat(e,"\n").concat(u[t]),b}before(e,t){return this.inject("before",e,t)}after(e,t){return this.inject("after",e,t)}top(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u[this.type]=u[this.type].replace("void main() {","\n      ".concat(p(t.join("\n\n")),"\n      void main() {\n    ")),b}mainBeforeAll(e){return u[this.type]=u[this.type].replace("void main() {","void main() {\n        ".concat(p(e))),b}mainAfterAll(e){return u[this.type]=u[this.type].replace(/}\s*$/,"\n      ".concat(p(e),"\n    }")),b}uniforms(e){if("string"==typeof e)this.top(e);else{let t=[];for(let[n,r]of Object.entries(e)){let e=l.from(n,r);t.push(e.computeDeclaration())}this.top(t.join("\n")),function(e){for(let[t,n]of Object.entries(e)){let e=l.from(t,n);if(t in u.uniforms){if(e.value!==u.uniforms[t].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else u.uniforms[t]=e}}(e)}return b}clean(){return u[this.type]=m(u[this.type]),b}printFinalCode(){return console.log(u[this.type].replace(/#include <(.*)>/g,(e,t)=>{let n=i.ShaderChunk[t];if(!n)throw Error('Shader chunk "'.concat(t,'" not found'));return n})),b}constructor(e){this.type=e}}let v={sf_vObjectPosition:()=>{g("\n      varying vec3 sf_vObjectPosition;\n    "),y.mainAfterAll("\n      sf_vObjectPosition = transformed;\n    ")},sf_vWorldPosition:()=>{g("\n      varying vec3 sf_vWorldPosition;\n    "),y.mainAfterAll("\n      vec4 sf_mvPosition = vec4(transformed,1.0 );\n      #ifdef USE_BATCHING\n        sf_mvPosition = batchingMatrix * sf_mvPosition;\n      #endif\n      #ifdef USE_INSTANCING\n        sf_mvPosition = instanceMatrix * sf_mvPosition;\n      #endif\n      sf_vWorldPosition = (modelMatrix * sf_mvPosition).xyz;\n    ")},sf_vWorldNormal:()=>{g("\n      varying vec3 sf_vWorldNormal;\n    "),y.mainAfterAll("\n      #ifdef USE_INSTANCING\n        sf_vWorldNormal = mat3(modelMatrix) * mat3(instanceMatrix) * normal;\n      #elif\n        sf_vWorldNormal = mat3(modelMatrix) * normal;\n      #endif\n\n      #ifdef FLIP_SIDED\n        sf_vWorldNormal = -sf_vWorldNormal;\n      #endif\n    ")}};function g(e){return y.top(e),w.top(e),b}let w=new _("fragmentShader"),y=new _("vertexShader"),b=Object.assign(function(e){return e&&h(e),b},{shaderName:function(e){return u.shaderName="".concat(e," (ShaderForge)"),b},defines:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t[0];return"string"==typeof r&&(r=Object.fromEntries(t.map(e=>[e,""]))),u.defines?Object.assign(u.defines,r):u.defines=r,b},uniforms:function(e){return y.uniforms(e),w.uniforms(e),b},varying:function(e){let t="";if("string"==typeof e)t=e;else{let n=[];for(let[t,r]of Object.entries(e))n.push("varying ".concat(r," ").concat(t,";"));t=n.join("\n")}return y.top(t),w.top(t),b},createVarying:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e of t){let t=v[e];t?t():console.warn('No createVarying function found for "'.concat(e,'"'))}return b},top:g,vertex:y,fragment:w,header:function(e){return w.header(e),y.header(e),b},clean:function(){return w.clean(),y.clean(),b},with:h,wrap:(e,t)=>(e.onBeforeCompile=e=>{u=e},e)}),x=new o.Q1f;function P(e){if("string"==typeof e&&e.startsWith("#")){let{r:t,g:n,b:r}=function(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length){let t=parseInt(e[0],16)/15;return{r:t,g:parseInt(e[1],16)/15,b:parseInt(e[2],16)/15,a:1}}if(4===e.length){let t=parseInt(e[0],16)/15,n=parseInt(e[1],16)/15;return{r:t,g:n,b:parseInt(e[2],16)/15,a:parseInt(e[3],16)/15}}if(6===e.length){let t=parseInt(e.slice(0,2),16)/255;return{r:t,g:parseInt(e.slice(2,4),16)/255,b:parseInt(e.slice(4,6),16)/255,a:1}}if(8===e.length){let t=parseInt(e.slice(0,2),16)/255,n=parseInt(e.slice(2,4),16)/255;return{r:t,g:n,b:parseInt(e.slice(4,6),16)/255,a:parseInt(e.slice(6,8),16)/255}}throw Error("Invalid hex format.")}(e);return"vec3(".concat(t.toFixed(3),", ").concat(n.toFixed(3),", ").concat(r.toFixed(3),")")}let{r:t,g:n,b:r}=x.set(e);return"vec3(".concat(t.toFixed(3),", ").concat(n.toFixed(3),", ").concat(r.toFixed(3),")")}},20537:(e,t,n)=>{function r(e){return!!(null==e?void 0:e.isVector3)}function i(e){return!!(null==e?void 0:e.isEuler)}function s(e){return!!(null==e?void 0:e.isQuaternion)}function o(e){return!!(null==e?void 0:e.isMatrix4)}function a(e){return!!(null==e?void 0:e.isObject3D)}function l(e){return!!(null==e?void 0:e.isMesh)}n.d(t,{MR:()=>o,Th:()=>a,Zz:()=>r,eB:()=>i,f7:()=>s,uW:()=>l})},29338:(e,t,n)=>{var r,i;n.d(t,{s:()=>i,z:()=>r}),function(e){e[e.BeforeUpdate=-1e3]="BeforeUpdate",e[e.Update=0]="Update",e[e.AfterUpdate=1e3]="AfterUpdate",e[e.BeforeRender=2e3]="BeforeRender",e[e.Render=3e3]="Render",e[e.AfterRender=4e3]="AfterRender"}(r||(r={})),function(e){e.WebGL="webgl",e.WebGPU="webgpu"}(i||(i={}))},39787:(e,t,n)=>{n.d(t,{el:()=>c,zr:()=>o});var r=n(28535),i=n(76999),s=n(57368);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e of t.flat(2))"destroy"in e?e.destroy():e()}var a=new WeakMap,l=new WeakMap;class c{get destroyed(){return(0,r._)(this,l)}get alive(){return!(0,r._)(this,l)}bindTo(e){return(0,r._)(this,l)||e.onDestroy(this),this}onDestroy(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if((0,r._)(this,l))return{destroy:()=>{}};let i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=[];for(let e of t)if(e)if(Symbol.iterator in e)for(let t of e)t&&r.push(t);else r.push(e);return r}(...t);for(let e of i)(0,r._)(this,a).add(e);return{destroy:()=>{for(let e of i)(0,r._)(this,a).delete(e)}}}collect(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.onDestroy(...t)}destroySelf(){if(!(0,r._)(this,l)){for(let e of((0,s._)(this,l,!0),(0,r._)(this,a)))"function"==typeof e?e():"destroy"in e&&e.destroy();(0,r._)(this,a).clear()}}constructor(e){(0,i._)(this,a,{writable:!0,value:void 0}),(0,i._)(this,l,{writable:!0,value:void 0}),(0,s._)(this,a,new Set),(0,s._)(this,l,!1),this.destroy=()=>{this.destroySelf()},this.customData=null!=e?e:null}}},40951:(e,t,n)=>{n.d(t,{gm:()=>P,K6:()=>m});var r,i,s=n(28535),o=n(76999),a=n(57368),l=n(66066),c=n(15940),u=n(49797),h=n(83743);class f{copy(e){for(let t of Object.keys(e)){let n=this[t];n&&"object"==typeof n?"copy"in n?n.copy(e[t]):Array.isArray(n)?this[t]=e[t].slice():console.warn('Cannot copy property "'.concat(t,'" (').concat(n.constructor.name,") (no copy method on the object value).")):this[t]=e[t]}return this}clone(){return new this.constructor().copy(this)}}var d=n(20537);!function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"}(r||(r={}));class p{copy(e){return this.buttons=e.buttons,this.clientPosition.copy(e.clientPosition),this.screenPosition.copy(e.screenPosition),this}diff(e,t){return this.buttons=e.buttons^t.buttons,this.clientPosition.subVectors(e.clientPosition,t.clientPosition),this.screenPosition.subVectors(e.screenPosition,t.screenPosition),this}constructor(){this.downEvent=null,this.buttons=0,this.clientPosition=new u.I9Y,this.screenPosition=new u.I9Y}}!function(e){e[e.Tap=0]="Tap"}(i||(i={}));class m{static get Type(){return i}get downEvent(){return this.state.downEvent}get downTarget(){return this.downEvent.target}consume(){this.consumed=!0}constructor(e,t,n){this.consumed=!1,this.type=e,this.intersection=t,this.state=n}}var _=new WeakMap,v=new WeakMap,g=new WeakMap,w=new WeakSet,y=new WeakMap,b=new WeakSet,x=new WeakSet;class P{get buttons(){return this.state.buttons}setEventIgnore(e,t){(0,s._)(this,v).set(e,t)}buttonDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Left;return(this.state.buttons&1<<e)!=0}buttonDownOld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Left;return(this.stateOld.buttons&1<<e)!=0}buttonDownEnter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Left;return this.buttonDown(e)&&!this.buttonDownOld(e)}buttonDownExit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Left;return!this.buttonDown(e)&&this.buttonDownOld(e)}buttonTap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Left,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25;return!1!==this.buttonDownExit(e)&&this.upTimes.get(e)-this.downTimes.get(e)<t}get enabled(){return(0,s._)(this,_)}set enabled(e){this.setEnabled(e)}get clientPosition(){return this.state.clientPosition}get screenPosition(){return this.state.screenPosition}get ray(){return this.raycaster.ray}intersectPlane(e,t){let{oldFactor:n,distance:r}={...P.defaultIntersectPlaneOptions,...t},{rayOld:i,raycaster:{ray:o}}=this,{line:a,result:l,plane:c}=(0,s._)(this,g);if("string"==typeof e)switch(c.constant=0,e){case"X":case"yz":c.normal.set(1,0,0);break;case"Y":case"xz":c.normal.set(0,1,0);break;case"Z":case"xy":c.normal.set(0,0,1)}else c.copy(e);return a.start.lerpVectors(o.origin,i.origin,n),a.end.lerpVectors(o.direction,i.direction,n).normalize().multiplyScalar(r).add(a.start),l.intersected=!!c.intersectLine(a,l.point),l}updatePosition(e,t,n){let{x:r,y:i}=t,s=(r-n.x)/n.width*2-1,o=-((i-n.y)/n.height*2)+1;this.camera=e,this.clientPosition.set(r,i),this.screenPosition.set(s,o),this.raycaster.setFromCamera(this.screenPosition,e)}raycast(e){let t=[];for(let{node:n}of(0,h.$z)(e,{skip:e=>!1===(0,d.uW)(e)||(!0===e.userData.helper||!1===e.visible)&&!0!==e.userData.pointerArea,prune:e=>!1===e.visible||!0===e.userData.ignorePointer}))this.raycaster.intersectObject(n,!1,t);return t.sort((e,t)=>e.distance-t.distance),t}raycastScene(e){return this.raycast(e)}updateStart(e){!1!==(0,s._)(this,_)&&(this.diffState.diff(this.state,this.stateOld),this.intersections=this.raycast(e),this.rayOld.copy(this.raycaster.ray),(0,l._)(this,w,E).call(this,e))}updateEnd(){!1!==(0,s._)(this,_)&&(this.stateOld.copy(this.state),this.event.reset())}setEnabled(e){return(0,s._)(this,_)===e||((0,a._)(this,_,e),e?(0,l._)(this,b,S).call(this):(0,l._)(this,x,k).call(this)),this}initialize(e,t,n,r){return this.domElement=e,this.scope=t,this.camera=n,this.ticker=r,(0,s._)(this,_)&&(0,l._)(this,b,S).call(this),(0,s._)(this,y).disable}constructor(){(0,c._)(this,w),(0,c._)(this,b),(0,c._)(this,x),(0,o._)(this,_,{writable:!0,value:void 0}),(0,o._)(this,v,{writable:!0,value:void 0}),(0,o._)(this,g,{writable:!0,value:void 0}),(0,o._)(this,y,{writable:!0,value:void 0}),(0,a._)(this,_,!0),this.state=new p,this.stateOld=new p,this.diffState=new p,this.downTimes=new Map,this.upTimes=new Map,this.domElement=null,this.scope=null,this.ticker=null,(0,a._)(this,v,new Map),this.event=new class{consume(){this.consumed=!0}reset(){this.consumed=!1}constructor(){this.consumed=!1}},this.camera=null,this.intersections=[],this.raycaster=new u.tBo,this.rayOld=new u.RlV,(0,a._)(this,g,{plane:new u.Zcv,line:new u.cZY,result:new P.IntersectPlaneResult}),(0,a._)(this,y,{disable:()=>{}})}}function E(e){let[t]=this.intersections;if(this.buttonTap()){var n;let r=new m(i.Tap,null!=t?t:null,this.state),o=(0,s._)(this,v).get(r.type);if(null==o?void 0:o(r))return;let a=null!=(n=null==t?void 0:t.object)?n:e;for(;a&&!1===r.consumed;)a.userData.onPointerTap&&((0,a.userData.onPointerTap)(r),r.consume()),a=a.parent}}function S(){let e=this.domElement,t=this.scope,n=this.camera,r=this.ticker,i=t=>{let r=e.getBoundingClientRect(),{clientX:i,clientY:s}=t;this.updatePosition(n,{x:i,y:s},r)},o=e=>{i(e)},a=e=>{i(e),e.target instanceof HTMLCanvasElement!=!1&&(document.addEventListener("pointerup",l),this.state.downEvent=e,this.state.buttons|=1<<e.button,this.downTimes.set(e.button,r.time))},l=e=>{document.removeEventListener("pointerup",l),this.state.buttons&=~(1<<e.button),this.upTimes.set(e.button,r.time)};document.addEventListener("pointermove",o),t.addEventListener("pointerdown",a),(0,s._)(this,y).disable=()=>{document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",l),t.removeEventListener("pointerdown",a)}}function k(){(0,s._)(this,y).disable(),(0,s._)(this,y).disable=()=>{}}P.defaultIntersectPlaneOptions={oldFactor:0,distance:1e3},P.IntersectPlaneResult=class extends f{constructor(...e){super(...e),this.intersected=!1,this.point=new u.Pq0}}},44019:(e,t,n)=>{n.d(t,{jj:()=>s});var r=n(49797),i=n(44694);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0;return i.jj(e,t)}},52489:(e,t,n)=>{n.d(t,{$:()=>v});var r=n(28535),i=n(76999),s=n(57368),o=n(49797),a=n(83743),l=n(36508),c=n(40951),u=new WeakMap,h=new WeakMap,f=new WeakMap,d=new WeakMap;class p{add(e){let t=(0,r._)(this,h)[(0,r._)(this,f)];return(0,s._)(this,d,(0,r._)(this,d)+(e-t)),(0,r._)(this,h)[(0,r._)(this,f)]=e,(0,s._)(this,f,((0,r._)(this,f)+1)%(0,r._)(this,u)),(0,r._)(this,d)}get current(){return(0,r._)(this,h)[(0,r._)(this,f)]}get sum(){return(0,r._)(this,d)}get size(){return(0,r._)(this,u)}get average(){return(0,r._)(this,d)/(0,r._)(this,u)}constructor(e){(0,i._)(this,u,{writable:!0,value:void 0}),(0,i._)(this,h,{writable:!0,value:void 0}),(0,i._)(this,f,{writable:!0,value:void 0}),(0,i._)(this,d,{writable:!0,value:void 0}),(0,s._)(this,f,0),(0,s._)(this,d,0),(0,s._)(this,u,e),(0,s._)(this,h,new Float32Array(e))}}let m={includeSelf:!0,visibleOnly:!1};var _=new WeakMap;class v{get enabled(){return this._enabled}set enabled(e){this._enabled=e}get aspect(){return this.size.x/this.size.y}get width(){return this.size.x}get height(){return this.size.y}get fullWidth(){return this.fullSize.x}get fullHeight(){return this.fullSize.y}get averageFps(){return 1/(0,r._)(this,_).deltaTimes.average}setSize(e){let{width:t=this.width,height:n=this.height,pixelRatio:r=this.pixelRatio}=e;return t===this.width&&n===this.height&&r===this.pixelRatio||(this.size.set(t,n),this.fullSize.set(t*r,n*r),this.pixelRatio=r,this._onSetSize()),this}_onSetSize(){}setScene(e){return this.scene!==e&&(this.scene=e,this._onSetScene()),this}_onSetScene(){}setFullscreen(e){if("string"==typeof e)switch(e){case"canvas":e=this.domElement;break;case"document":e=document.documentElement;break;default:throw Error("Invalid fullscreen element: ".concat(e))}return document.fullscreenElement===e||(null===e?document.exitFullscreen():e.requestFullscreen()),this}initialize(e,t){throw Error("Not implemented")}renderFrame(e,t){if(!1===this._enabled&&(null==t?void 0:t.force)!==!0)return;let n=performance.now();(0,r._)(this,_).deltaTimes.add((n-(0,r._)(this,_).now)/1e3),(0,r._)(this,_).now=n;let{scene:i,pointer:s}=this;s.updateStart(i),!1===this.skipTickUpdate&&i.traverse(t=>{"onTick"in t&&t.onTick(e,this)}),s.updateEnd()}*queryAll(e,t){let n=function(e){if(void 0===e)return()=>!0;if(null===e)return()=>!1;if("string"==typeof e)return t=>{var n;return(null==t?void 0:t.uuid)===e||(null==t?void 0:t.name)===e||(null==t||null==(n=t.constructor)?void 0:n.name)===e};if(e instanceof RegExp)return t=>{var n;return e.test(null==t?void 0:t.name)||e.test(null==t||null==(n=t.constructor)?void 0:n.name)};if("function"==typeof e)return o.B69.prototype.isPrototypeOf(e.prototype)?t=>t instanceof e:t=>e(t);throw Error("Invalid query selector")}(e),{includeSelf:r,visibleOnly:i}={...m,...t};for(let{node:e}of(0,a.$z)(this.scene,{includeFirstNode:r,getChildren:e=>e.children,skip:e=>!1==!!n(e)||i&&!1===e.visible}))yield e}queryFirst(e,t){for(let n of this.queryAll(e,t))return n;return null}constructor(e){(0,i._)(this,_,{writable:!0,value:void 0}),this._enabled=!0,this.ticker=l.Rv.get("three").set({minActiveDuration:8}),this.size=new o.I9Y,this.fullSize=new o.I9Y,this.pixelRatio=1,this.pointer=new c.gm,this.scene=new o.Z58,this.skipRender=!1,this.skipTickUpdate=!1,this.initialized=!1,(0,s._)(this,_,{now:0,deltaTimes:new p(30)}),this.type=e,(0,r._)(this,_).now=performance.now()}}v.shared={vector2:new o.I9Y,vector3:new o.Pq0}},61249:(e,t,n)=>{n.d(t,{N:()=>l});var r=n(49797),i=n(94065);new r.Pq0(0,0,0),new r.O9p(0,0,0,"XYZ"),new r.Pq0(1,1,1);let s={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,pivot:void 0,visible:void 0,name:void 0,parent:void 0,userData:void 0},o=new r.dwI,a=new r.Pq0;function l(e,t){let{x:n,y:l,z:c,position:u=new r.Pq0(n,l,c),rotationX:h,rotationY:f,rotationZ:d,rotationOrder:p,rotationUnit:m,rotation:_,scaleX:v,scaleY:g,scaleZ:w,scaleScalar:y,scale:b=new r.Pq0(v,g,w).multiplyScalar(y),pivot:x,visible:P,name:E,parent:S,userData:k}={...s,...t};return(0,i.jj)(u,e.position),(0,i.if)(null!=_?_:[h,f,d,p,m],e.rotation),(0,i.jj)(b,e.scale),void 0!==x&&(e.updateMatrix(),o.setFromMatrix4(e.matrix),(0,i.jj)(x,a).applyMatrix3(o),e.position.sub(a)),void 0!==P&&(e.visible=P),void 0!==E&&(e.name=E),void 0!==S&&S!==e.parent&&(null===S?e.removeFromParent():S.add(e)),void 0!==k&&Object.assign(e.userData,k),e}},79911:(e,t,n)=>{n.d(t,{$z:()=>u,DN:()=>a,mj:()=>o,rd:()=>l,wV:()=>f});var r=n(49797),i=n(20537),s=n(61249);function o(e,t,n){if(!1===(0,i.Th)(e))throw Error("Child must be an instance of Object3D");return t&&((0,i.Th)(t)?t.add(e):(0,s.N)(e,t)),null==n||n(e),e}let a=o;function l(e,t){let n=t;for(;n.parent;){if(n.parent===e)return!0;n=n.parent}return!1}let c={includeSelf:!1};function*u(e,t){let{includeSelf:n}={...c,...t};for(let t of(n&&(yield e),e.children))yield*u(t,{includeSelf:!0})}let h={includeSelf:!1,root:null,includeRoot:!1};function*f(e,t,n){let i=void 0===t?()=>!0:null===t?()=>!1:"string"==typeof t?e=>e.name===t||e.uuid===t:t instanceof RegExp?e=>t.test(e.name):t.prototype&&t.prototype instanceof r.B69?e=>e instanceof t:e=>!!t(e);for(let t of u(e,n))i(t)&&(yield t)}},83743:(e,t,n)=>{n.d(t,{$z:()=>s});let r=()=>({filter:()=>!0,prune:()=>!1,skip:()=>!1,includeFirstNode:!0,nodesMax:1e6}),i=()=>({...r(),getChildren:e=>e.children,method:"depth-first"});function*s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{nodesMax:n,includeFirstNode:r,method:s,filter:o,skip:a,prune:l,getChildren:c}={...i(),...t},u=0,h=r?[e]:[...c(e)],f=new Set;for(;h.length>0;){let e=h.shift();if(!1===o(e)||l(e))continue;if(!1===a(e)&&(yield{node:e},u++),u>=n)break;if(f.has(e)){console.warn("Tree traversal visited the same node twice",e);continue}f.add(e);let t=c(e);"depth-first"===s?h.unshift(...t):h.push(...t)}}},94065:(e,t,n)=>{n.d(t,{ey:()=>i.ey,if:()=>l,Fx:()=>f,vl:()=>_,GD:()=>w,wX:()=>d,jj:()=>p,EC:()=>m,wz:()=>i.wz});var r=n(49797),i=n(44694),s=n(20537);function o(e){return"string"==typeof e&&/^(XYZ|XZY|YXZ|YZX|ZXY|ZYX)$/.test(e)}let a={defaultOrder:"XYZ"};function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[l,c,u]=(()=>{if(1===t.length)return[t[0],a,new r.O9p];if(2===t.length)return(0,s.eB)(t[1])?[t[0],a,t[1]]:[t[0],t[1],new r.O9p];if(3===t.length)return t;throw Error("Invalid number of arguments")})();if("string"==typeof l)return function e(t,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new r.O9p,a=(t=t.replace(/\s+\/\s+/g,"/").trim()).split(",").map(e=>e.trim()),[l,c="",u="",h]=a;if(1===a.length&&/\s/.test(t))return console.warn("Detected a single string with spaces, treating it as an Euler declaration string. Commas are expected to separate values."),e(t.replace(/\s/,","),n,s);let f=(0,i.ey)(l)||0,d=(0,i.ey)(c)||0,p=(0,i.ey)(u)||0,m=o(h)?h:n.defaultOrder;return s.set(f,d,p,m)}(l,c,u);if("number"==typeof l)return u.set(l,l,l);if((0,s.eB)(l))return u.copy(l);if((0,s.f7)(l))return u.setFromQuaternion(l);let{defaultOrder:h}=c;if(Array.isArray(l)){let[e,t,n,r,s]=l,a=(0,i.Qm)(r)?r:(0,i.Qm)(s)?s:"rad",c=o(r)?r:o(s)?s:h;return u.set((0,i.ey)(e,a),(0,i.ey)(t,a),(0,i.ey)(n,a),c)}let{x:f,y:d,z:p,order:m=h,unit:_="rad"}=l;return u.set((0,i.ey)(f,_),(0,i.ey)(d,_),(0,i.ey)(p,_),m)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0;if((0,i.LV)(e))return p(e,t);if("string"==typeof e){let[n,r]=e,i="+"===n?1:-1;switch(r){case"x":return t.set(i,0,0);case"y":return t.set(0,i,0);case"z":return t.set(0,0,i);default:throw Error("Invalid normal declaration: ".concat(e))}}throw Error("Invalid normal declaration")}let u=new r.Pq0,h=new r.Pq0;function f(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Zcv;u.set(0,0,1),h.set(0,0,0);let s=u.length();if("string"==typeof(t=e)&&/^[+-][xyz]$/.test(t)||(0,i.LV)(t))c(e,u);else if(Array.isArray(e)){if(2!==e.length)throw Error("Invalid plane declaration: expected an array of length 2");c(e[0],u),p(e[1],h)}if(0===s)throw Error("Invalid plane normal: zero vector");return n.setFromNormalAndCoplanarPoint(u.divideScalar(s),h)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.I9Y;return i.wX(e,t)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0;return i.jj(e,t)}function m(e,t){return null!=t||(t=new r.IUQ),i.EC(e,t)}n(44019);let _=(()=>{let e=new r.Pq0,t=new r.O9p,n=new r.Pq0,i=new r.PTz;return function(r,o){let{x:a=0,y:c=0,z:u=0,position:h={x:a,y:c,z:u},rotationX:f=0,rotationY:d=0,rotationZ:m=0,rotationOrder:_="XYZ",rotation:v={x:f,y:d,z:m,order:_},scaleX:g=1,scaleY:w=1,scaleZ:y=1,scaleScalar:b=1,scale:x={x:g,y:w,z:y}}=r;if((0,s.MR)(o))return p(h,e),l(v,t),p(x,n).multiplyScalar(b),i.setFromEuler(t),o.compose(e,i,n);if((0,s.Th)(o))return p(h,o.position),l(v,o.rotation),p(x,o.scale).multiplyScalar(b),o;throw Error("Invalid out argument")}})(),v=new r.kn4,g=new r.kn4;function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;t.identity();let n=e[Symbol.iterator](),r=n.next();if(r.done)return t;_(r.value,t);for(let e=n.next();!e.done;e=n.next())_(e.value,g),t.multiply(g);return t}}}]);