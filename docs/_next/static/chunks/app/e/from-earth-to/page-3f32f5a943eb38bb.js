(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[844],{45350:function(t,e,n){Promise.resolve().then(n.bind(n,11737))},11737:function(t,e,n){"use strict";n.d(e,{Main:function(){return N}});var r=n(32617),o=n(88780),a=n(33966),i=n(47365),l=n(81540),s=n(62274),c=n(29368),u=n(62411),h=n(92948);function f(){return(0,a.Ky)(function*(t){Object.assign(window,{three:t,Ticker:c.vB})},[]),null}var p=n(30636),d=n(78780),x=n(97219),m=n(23247),v=n(99963),w=n(1976),g=n(47090),y=n(6246),M=JSON.parse('[{"phi":1.7045171372513754,"theta":0.9426432714835036},{"phi":1.2138204764190186,"theta":0.5877279735536564},{"phi":2.018280663352346,"theta":0.4225774045053551},{"phi":1.58623960126316,"theta":0.11530620356664824},{"phi":1.4858931296682674,"theta":0.09988610745985425},{"phi":1.370250993061531,"theta":-0.6152078487213142},{"phi":0.9459811008591165,"theta":-0.4116473816238604},{"phi":1.06660504904375,"theta":-0.22199053344895067},{"phi":2.675243191552906,"theta":-0.6045343364962831},{"phi":2.5901332086293296,"theta":-0.45113353839646375},{"phi":3.0820510158643644,"theta":-0.20059237206688585},{"phi":2.920796326794876,"theta":-0.3506750512589778},{"phi":2.707382312980871,"theta":0.025009035614594027},{"phi":-2.771515207166003,"theta":0.43045560632597474},{"phi":-3.068326429226437,"theta":0.6129817652939101},{"phi":3.1105233820660763,"theta":0.7241618779795415},{"phi":-2.5251632895865317,"theta":0.6535499652931851},{"phi":-3.015091410598426,"theta":0.8642317265005449},{"phi":3.0788690924417255,"theta":0.8159956971859744},{"phi":-2.370767607902747,"theta":0.787316008336757},{"phi":-2.5030942996270586,"theta":0.7163689975296974},{"phi":-0.28189011450089596,"theta":0.6816391217572154},{"phi":-0.2988148637926313,"theta":0.5717768908896973},{"phi":-0.1772652581758269,"theta":0.4716751222011235},{"phi":-0.05544012907477782,"theta":-0.028486000516249495},{"phi":-0.06314162733968252,"theta":0.061655565733329316},{"phi":-0.8760666510861576,"theta":-0.6838346154783156},{"phi":-0.7161612255722236,"theta":-0.11386479380967202},{"phi":-0.5032773150049611,"theta":-0.5860256589964206},{"phi":1.7599491315598337,"theta":1.0140201131361222},{"phi":1.555598726738203,"theta":1.0275620052067571},{"phi":1.5867188262212921,"theta":1.091601234052012},{"phi":1.5622775626534053,"theta":1.1451634884556725},{"phi":1.8064000451323763,"theta":0.8291516658764525},{"phi":1.7711742769485577,"theta":0.8002332318072503},{"phi":1.5274585527636149,"theta":0.838434437058171},{"phi":1.3559514207428152,"theta":0.7754675571543634},{"phi":1.1792807716216012,"theta":0.7682476175679409},{"phi":1.3076110196152615,"theta":0.9387650274681301},{"phi":1.4565810952604292,"theta":1.0264229286514035}]');let b=new o.TextureLoader;function P(){let{theta:t=0,phi:e=0,radius:n=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return null!=r||(r=new o.Vector3),r.x=n*Math.cos(t)*Math.cos(e),r.y=n*Math.sin(t),r.z=n*Math.cos(t)*Math.sin(e),r}class S extends o.Line{constructor(t,{color:e="white"}={}){let n=new o.BufferGeometry().setFromPoints(t),r=new o.LineDashedMaterial({color:e}),a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,e=new Uint8Array(4*t),n=0;for(;n<t;){let r=y.T.int(10,20);n+r>t&&(r=t-n);for(let t=0;t<r;t++)e[4*(n+t)]=255;n+=r+y.T.int(1,80)}for(let n=0;n<t;n+=2)e[4*n+1]=255;let r=new o.DataTexture(e,t,1,o.RGBAFormat);return r.minFilter=r.magFilter=o.NearestFilter,r.wrapS=r.wrapT=o.RepeatWrapping,r.needsUpdate=!0,r}(),i={uTime:c.vB.get("three").uTime,uTextureLengthRatio:{value:40},uScale:{value:1},uTexture:{value:a},uLineLength:{value:-1}};r.onBeforeCompile=t=>m.b.with(t).uniforms(i).varying({vWorldPosition2:"vec3"}).vertex.mainAfterAll("\n        vWorldPosition2 = (modelMatrix * vec4(position, 1.0)).xyz;\n      ").fragment.top("\n        float hash(vec3 p) {\n          // Combine the components of the vec3 using dot products\n          vec3 k = vec3(127.1, 311.7, 74.7); // Large primes to create randomness\n          return fract(sin(dot(p, k)) * 43758.5453123); // Sine and fract create pseudo-randomness\n        }\n      ").fragment.replace(/if .* {\s*discard;\s*}/,"\n        float alpha = vLineDistance / uLineLength;\n        alpha = pow(alpha, 1.0 / 2.0);\n        float x = mod(uLineLength * alpha / uTextureLengthRatio + uTime * -0.05, 1.0);\n        vec4 texel = texture2D(uTexture, vec2(x, 0.5));\n        float outHash = fract(hash(vWorldPosition2) + uTime * 10.0) + mix(5.0, -1.0, alpha);\n        if (texel.r * outHash < 0.5) {\n          discard;\n        }\n      "),super(n,r),this.computeLineDistances(),i.uLineLength.value=this.geometry.attributes.lineDistance.array.at(-1)}}class V extends o.Group{constructor(t,{pointsPerCurve:e=80,curveSubdivisions:n=256}={}){super();let r=t.length*e,a=new o.BufferGeometry,i=new Float32Array(3*r);a.setAttribute("position",new o.BufferAttribute(i,3));let l=new Float32Array(4*r);y.T.seed(987632);for(let t=0;t<l.length;t++)l[t]=y.T.random();a.setAttribute("random",new o.BufferAttribute(l,4));let s=new Float32Array(t.length*n*4),u=new Float32Array(t.length*n*4);for(let r=0;r<t.length;r++){for(let t=0;t<e;t++){let n=r*e+t;i[3*n]=t,i[3*n+1]=r,i[3*n+2]=0}let o=t[r].nurbsCurve;if(!o)throw Error("NURBS curve not set.");for(let t=0;t<n;t++){let e=t/n,a=o.getPoint(e),i=o.getTangent(e),l=r*n+t;s[4*l]=a.x,s[4*l+1]=a.y,s[4*l+2]=a.z,u[4*l]=i.x,u[4*l+1]=i.y,u[4*l+2]=i.z}}let h=e=>{let r=new o.DataTexture(e,n,t.length,o.RGBAFormat,o.FloatType,o.UVMapping,o.ClampToEdgeWrapping,o.ClampToEdgeWrapping,o.NearestFilter,o.NearestFilter);return r.generateMipmaps=!1,r.needsUpdate=!0,r},f=h(s),p=h(u);y.T.seed(5678492);let d={uTime:c.vB.get("three").uTime,uPointsPerCurve:{value:e},uCurvesMapSize:{value:new o.Vector2(n,t.length)},uCurvesPositionMap:{value:f},uCurvesTangentMap:{value:p},uColors:{value:t.map(t=>t.color)},uCurveRandom:{value:t.map(()=>y.T.random())},uMaskMaps:{value:[b.load("textures/rounded-square.png"),b.load("textures/rounded-plus.png"),b.load("textures/rounded-rhomb.png")]}},x=new o.PointsMaterial({vertexColors:!0,size:.5});x.onBeforeCompile=t=>m.b.with(t).uniforms(d).varying({vRandom:"vec4"}).vertex.top(v.i).vertex.top("\n        attribute vec4 random;\n      ").vertex.replace("begin_vertex","\n        int j = gl_VertexID / int(uPointsPerCurve);\n        int i = gl_VertexID - j * int(uPointsPerCurve);\n        float r = uCurveRandom[j]; // Curve random value\n\n        vColor = uColors[j] * mix(0.8, 1.2, random.x);\n\n        float curveFraction = 0.2;\n        float curveSpeed = 0.0125;\n        float curveInnerSpeed = 0.05;\n\n        float t3 = fract(position.x / uPointsPerCurve + uTime * curveInnerSpeed);\n        float t0 = fract(curveFraction * t3 + r + uTime * curveSpeed);\n        t0 = easeIn2(t0);\n\n        float x = t0;\n        float y = position.y / uCurvesMapSize.y;\n        float xMax = uCurvesMapSize.x - 1.0; // one less because of linear interpolation (x0 -> x1)\n        float xT = fract(x * xMax);\n        float x0 = floor(x * xMax) / xMax;\n        float x1 = floor(x * xMax + 1.0) / xMax;\n        \n        vec3 p0 = texture(uCurvesPositionMap, vec2(x0, y)).xyz;\n        vec3 p1 = texture(uCurvesPositionMap, vec2(x1, y)).xyz;\n        vec3 p = mix(p0, p1, xT);\n\n        vec3 tangent0 = texture(uCurvesTangentMap, vec2(x0, y)).xyz;\n        vec3 tangent1 = texture(uCurvesTangentMap, vec2(x1, y)).xyz;\n        vec3 tangent = mix(tangent0, tangent1, xT);\n\n        vec3 normal = normalize(cross(tangent, vec3(0.0, 1.0, 0.0)));\n        vec3 binormal = normalize(cross(normal, tangent));\n\n        float t1 = sin(random.x * PI2 + uTime * mix(0.5, 1.0, random.z));\n        float t2 = sin(random.y * PI2 + uTime * mix(0.5, 1.0, random.w));\n        float dispersion = mix(0.005, 0.2, easeOut8(t0));\n        vec3 transformed = p \n          + normal * (random.z - 0.5) * dispersion * t1 \n          + binormal * (random.w - 0.5) * dispersion * t2;\n      ").vertex.mainAfterAll("\n        gl_PointSize *= mix(0.2, 1.0, easeInThenOut(t0, 16.0))\n          * mix(0.25, 1.0, easeInThenOut(t3, 6.0))\n          * mix(0.25, 1.0, random.z);\n\n        vRandom = random;\n      ").fragment.mainAfterAll("\n        if (vRandom.x < 0.5) {\n          if (texture2D(uMaskMaps[0], gl_PointCoord).r < 0.5) discard;\n        } else if (vRandom.y < 0.2) {\n          if (texture2D(uMaskMaps[1], gl_PointCoord).r < 0.5) discard;\n        } else {\n          if (texture2D(uMaskMaps[2], gl_PointCoord).r < 0.5) discard;\n        }\n      ");let w=new o.Points(a,x);this.add(w)}}var z=n(92941),A=n(32219);class C extends o.Group{setControlPoints(t){let{curveSubdivisions:e=512}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{degree:n,color:r}=this,a=t.map(t=>t instanceof o.Vector3?new o.Vector4(t.x,t.y,t.z,1):t),i=[],l=a.length;for(let t=0;t<=n;t++)i.push(0);for(let t=1;t<=l-n;t++)i.push(t);for(let t=0;t<n;t++)i.push(l-n);let s=new z.e(n,i,a),c=s.getSpacedPoints(e),u=new o.BufferGeometry().setFromPoints(c),h=new o.Line(u,new o.LineBasicMaterial({color:r}));this.add(h);let f=new o.InstancedMesh(C.instancedGeometry,new o.MeshBasicMaterial({color:r}),a.length);this.add(f);let p=new o.Matrix4;for(let[t,e]of a.entries()){let{x:n,y:r,z:o,w:a}=e;f.setMatrixAt(t,(0,A.Xe)({x:n,y:r,z:o,scaleScalar:a},p))}this.controlPoints=a,this.nurbsCurve=s,this.points=c}constructor(...t){super(...t),this.degree=8,this.color=new o.Color(16711680),this.nurbsCurve=null,this.controlPoints=[],this.points=[]}}C.instancedGeometry=new o.IcosahedronGeometry(.005,12);let T=["#3366ff","#009a27","#00943b","#2512cf","#bb1d81","#67cd6c","#fed801","#ff1f02"];class k extends o.Group{addSpot(t,e){let{x:n,y:r,z:o}=t,{matrix:a,color:i}=k.shared;this.instancedMesh.setMatrixAt(this.index,a.makeTranslation(n,r,o)),this.instancedMesh.setColorAt(this.index,i.set(e)),this.index++}constructor({sizeBase:t=400}={}){super(),this.index=0;let{geometry:e,material:n,matrix:r,color:a}=k.shared;this.instancedMesh=new o.InstancedMesh(e,n,t),this.add(this.instancedMesh),r.makeScale(0,0,0),a.set("white");for(let e=0;e<t;e++)this.instancedMesh.setMatrixAt(e,r),this.instancedMesh.setColorAt(e,a)}}k.shared={geometry:new o.IcosahedronGeometry(.005,12),material:new o.MeshBasicMaterial,matrix:new o.Matrix4().makeScale(0,0,0),color:new o.Color("white")};class B extends o.Group{onTick(t){}earthRaycast(t){var e;let n=t.clone().applyMatrix4(this.matrixWorld.clone().invert()).intersectSphere(new o.Sphere(new o.Vector3,1),new o.Vector3);return null!==(e=null==n?void 0:n.applyMatrix4(this.matrixWorld))&&void 0!==e?e:null}addSphericalSpot(t){let{phi:e,theta:n,color:r="white"}=t;this.parts.miniSpots.addSpot(P({phi:e,theta:n,radius:1}),r);let o=new C;o.degree=8,o.color.set(r);let a=[P({phi:e,theta:n,radius:1})],i=n,l=e;for(let t=0;t<12;t++){let e=(0,g.t7)(2,5,t/12);a.push(P({theta:i,phi:l,radius:e})),i=(0,g.t7)(i,0,.5),l+=-.65}return o.setControlPoints(a),o}constructor(){super(),this.uniforms={uTime:c.vB.get("three").uTime,uSpherize:{value:1},uSunPosition:{value:new o.Vector3(.5,.7,.3)},uSide:{value:0}},this.userData=function(t,e){for(let[n,r]of Object.entries(e)){let[e,o="value"]=r.bind;Object.defineProperty(t,n,{enumerable:!0,get:()=>e[o],set:t=>e[o]=t}),r.meta&&Object.defineProperty(t,"".concat(n,"_meta"),{enumerable:!0,get:()=>r.meta})}return t}({},{spherize:{bind:[this.uniforms.uSpherize,"value"],meta:"Slider(0, 1)"}}),this.parts={miniSpots:new k,back:null,front:null},this.sphericalSpots=[];let t=b.load("images/blank-world-map-alt.png"),{uniforms:e}=this,n=new o.MeshBasicMaterial({map:t,transparent:!0,side:o.DoubleSide,depthWrite:!1});n.onBeforeCompile=t=>m.b.with(t).uniforms(e).varying({vWorldNormal:"vec3",vWorldPosition2:"vec3"}).vertex.replace("begin_vertex","\n        float tx = position.x;\n        float ty = position.y;\n\n        vec3 transformed;\n        vec3 normal;\n        if (uSpherize < 0.001) {\n          transformed = vec3(tx * 2.0, ty, 0.0) * PI;\n          normal = vec3(0.0, 0.0, 1.0);\n        } else {\n          float r = 1.0 / uSpherize;\n          float phi = tx * PI * 2.0 * uSpherize - PI * 0.5;\n          float theta = ty * PI * uSpherize;\n          float x = cos(theta) * cos(phi);\n          float z = cos(theta) * -sin(phi);\n          float y = sin(theta);\n          transformed = vec3(x, y, z - 1.0) * r + vec3(0.0, 0.0, uSpherize);\n          normal = vec3(x, y, z);\n        }\n        vWorldNormal = normalize(mat3(modelMatrix) * normal);\n        vWorldPosition2 = (modelMatrix * vec4(transformed, 1.0)).xyz;\n      ").vertex.mainAfterAll("\n      ").fragment.top(w.U,v.i).fragment.mainBeforeAll("\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n\n        vec3 viewDir = normalize(cameraPosition - vWorldPosition2);\n        float cosTheta = dot(normalize(vWorldNormal * uSide), viewDir);\n        float fresnelBias = 0.1;\n        float fresnelPower = 3.0;\n        float fresnel = fresnelBias + (1.0 - fresnelBias) * pow(1.0 - cosTheta, fresnelPower);\n      ").fragment.replace("map_fragment","\n        #ifdef USE_MAP\n          vec2 uv = vMapUv;\n          float r = uv.y * 2.0;\n          if (r > 1.0) r = 2.0 - r;\n          r = 1.0 - r;          \n\n          float a = 0.0;\n          a += pow(r, 2.4) * 0.205;\n          a += pow(r, 10.0) * 0.03;\n          float x = uv.x;\n          \n          float padding = 0.005;\n          uv.x = mix(padding + a, 1.0 - padding - a, x);\n          // uv.x = 1.0 - uv.x;\n          vec4 sampledDiffuseColor = texture2D(map, uv);\n\n          diffuseColor.rgb *= vec3(mix(0.75, 1.0, light));\n          float alpha = (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) > 0.1 ? 1.0 : 0.0;\n          diffuseColor.a *= alpha + fresnel * 1.2;\n          // diffuseColor.rgb = vec3(fresnel);\n          // diffuseColor.rgb = vWorldNormal;\n          // diffuseColor.a = 1.0;\n        #endif\n      ");let r=new o.PlaneGeometry(1,1,256,128);(0,d.cY)(this,{name:"earth"});let a=(0,d.cY)(new o.Mesh(r,n),{parent:this,name:"back"});a.onBeforeRender=()=>{e.uSide.value=-1,n.color.set("#cdcdcd"),n.side=o.BackSide,n.needsUpdate=!0},this.parts.back=a;let i=(0,d.cY)(new o.Mesh(r,n),{parent:this,name:"front"});i.onBeforeRender=()=>{e.uSide.value=1,n.color.set("#ffffff"),n.side=o.FrontSide,n.needsUpdate=!0},this.parts.front=i,(0,d.cY)(new o.Mesh(new o.PlaneGeometry,n),{parent:this,y:-1.5,scaleX:3,visible:!1}),(0,d.cY)(new x.O,{parent:this}).circle({radius:1.04}).draw(),y.T.seed(123);let l=[...M.map(t=>this.addSphericalSpot({...t,color:y.T.pick(T)})),...M.filter(()=>y.T.chance(.8)).map(t=>{let{phi:e,theta:n}=t;return e+=.04*y.T.around(),n+=.04*y.T.around(),this.addSphericalSpot({phi:e,theta:n,color:y.T.pick(T)})})];this.add(...l.map(t=>new S(t.points,{color:t.color})));let s=new V(l);this.add(s),this.add(this.parts.miniSpots)}}B.sphericalCoordinates={paris:{theta:.9426432714835036,phi:1.7045171372513754}};class I extends o.Mesh{constructor(){let t=new o.MeshBasicMaterial({color:"#cccccc",side:o.BackSide}),e={uResolution:{value:new o.Vector2}};t.onBeforeCompile=t=>m.b.with(t).uniforms(e).fragment.replace("map_fragment","\n        vec2 p = gl_FragCoord.xy / uResolution * 2.0 - 1.0;\n        float aspect = uResolution.x / uResolution.y;\n        p *= aspect > 1.0 ? vec2(1.0, 1.0 / aspect) : vec2(aspect, 1.0);\n        float alpha = 1.0 - length(p);\n        diffuseColor.rgb *= mix(0.8, 1.4, alpha);\n      "),super(new o.IcosahedronGeometry(40,12),t),this.onBeforeRender=t=>{t.getSize(e.uResolution.value).multiplyScalar(t.getPixelRatio())}}}class L extends o.Points{constructor(t=5e3){let e=new o.BufferGeometry,n=new Float32Array(3*t),r=new Float32Array(t),a=new o.Vector3;for(let e=0;e<t;e++)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Vector3,e=2*Math.random()*Math.PI,n=Math.acos(2*Math.random()-1);return t.x=Math.sin(n)*Math.cos(e),t.y=Math.sin(n)*Math.sin(e),t.z=Math.cos(n),t})(a).multiplyScalar(36).toArray(n,3*e),r[e]=y.T.between(.2,.5);e.setAttribute("position",new o.Float32BufferAttribute(n,3)),e.setAttribute("instanceSize",new o.Float32BufferAttribute(r,1));let i=new o.PointsMaterial({color:"#ffffff"});i.onBeforeCompile=t=>m.b.with(t).vertex.top("\n        attribute float instanceSize;\n      ").vertex.mainAfterAll("\n        gl_PointSize *= instanceSize;\n      ").fragment.mainBeforeAll("\n        float dist = length(gl_PointCoord - 0.5);\n        if (dist > 0.5) discard;\n      "),super(e,i)}}class O extends o.Group{constructor(...t){super(...t),this.parts={sphere:(0,d.cY)(new I,this),stars:(0,d.cY)(new L,this)}}}class D extends o.Group{constructor(...t){super(...t),this.parts={ambient:(0,d.cY)(new o.AmbientLight(16777215,1.5),this),directional:(0,d.cY)(new o.DirectionalLight(16777215,1.5),this)}}}class j extends o.Group{constructor(...t){super(...t),this.parts={sky:(0,d.cY)(new O,this),earth:(0,d.cY)(new B,this),lights:(0,d.cY)(new D,this),grid:(0,d.cY)(new p.K({size:[20,20]}),{parent:this,visible:!1})}}}class F{initialize(t,e){return this.initialized?console.warn("Pointer already initialized."):(this.initialized=!0,this.destroyables.push(...this.doInitialize(t,e))),this}*doInitialize(t,e){yield(0,l.w)(t,{onChange:n=>{this.screen.position.copy(n.position);let r=t.getBoundingClientRect(),{x:o,y:a}=n.position;o-=r.left,a-=r.top,o/=r.width,a/=r.height,o=2*o-1,a=-(2*a-1),this.ndc.position.set(o,a),this.raycaster.setFromCamera(this.ndc.position,e)},onDown:()=>{this.screen.positionDown.copy(this.screen.position),this.ndc.positionDown.copy(this.ndc.position)}})}constructor(){this.screen={position:new o.Vector2,positionDown:new o.Vector2},this.ndc={position:new o.Vector2,positionDown:new o.Vector2},this.raycaster=new o.Raycaster,this.destroyables=[],this.initialized=!1}}function G(){return(0,a.Ky)(function*(t){let e=new j;t.scene.add(e),yield()=>{e.clear().removeFromParent()},t.ticker.set({minActiveDuration:100});let n=new F;n.initialize(t.renderer.domElement,t.camera);let r=new s.F({perspective:.25,size:4});r.start(t.renderer.domElement),yield(0,c.RC)("three",()=>{r.update(t.camera,t.aspect)}),yield(0,l.w)(t.renderer.domElement,{onTap:()=>{let t=e.parts.earth.earthRaycast(n.raycaster.ray);if(t){let{x:n,y:r,z:o}=t,a=Math.atan2(r,Math.sqrt(n**2+o**2)),i=Math.atan2(o,n);e.parts.earth.addSphericalSpot({theta:a,phi:i})}}}),yield(0,i.p)([[{code:"Space",modifiers:"shift"},()=>{document.body.requestFullscreen()}]]),Object.assign(window,{poc1:e,three:t,controls:r})},"always"),null}function R(){return(0,a.Ky)(function*(t){(0,h.a)(t),b.setPath(u.v.assets()),console.log("Assets config.assetsPath: ".concat(u.v.assets()))},[]),null}function N(){return(0,r.jsxs)("div",{className:"layer thru",children:[(0,r.jsxs)(a.H7,{children:[(0,r.jsx)(R,{}),(0,r.jsx)(f,{}),(0,r.jsx)(G,{})]}),(0,r.jsx)("header",{className:"absolute thru w-full top-0 p-8",children:(0,r.jsx)("img",{width:100,src:u.v.assets("images/acme-logo.png"),alt:""})}),(0,r.jsx)("footer",{className:"absolute thru w-full bottom-0 p-12 flex flex-row justify-center"}),(0,r.jsx)("div",{className:"layer thru",children:(0,r.jsx)("div",{className:"absolute left-0 top-0 w-[300px] h-full"})})]})}},62411:function(t,e,n){"use strict";n.d(e,{v:function(){return o}});let r="/three-xp/assets/",o={development:!1,assetsPath:r,assets:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(r).concat(t)}}},92948:function(t,e,n){"use strict";n.d(e,{Leak:function(){return s},a:function(){return l}});var r=n(88780),o=n(90118),a=n(58100),i=n(6246);function l(t){Object.assign(window,{...r,...a,...o,...t,PRNG:i.T})}function s(t){return l(t),null}},30636:function(t,e,n){"use strict";n.d(e,{K:function(){return i}});var r=n(88780),o=n(32219);let a={color:"white",opacity:.5,size:[8,8],step:1,frame:!0};class i extends r.LineSegments{set(t){let{color:e,opacity:n,size:i,step:l,frame:s}={...a,...t},c=(0,o.iK)(i),u=(0,o.iK)(null!=l?l:c),h=[],f=(t,e)=>h.push(new r.Vector3(t,e,0));s&&(f(-c.x/2,+c.y/2),f(+c.x/2,+c.y/2),f(+c.x/2,+c.y/2),f(+c.x/2,-c.y/2),f(+c.x/2,-c.y/2),f(-c.x/2,-c.y/2),f(-c.x/2,-c.y/2),f(-c.x/2,+c.y/2));let p=Math.ceil(-c.x/2/u.x)*u.x;p===-c.x/2&&(p+=u.x);do f(p,-c.y/2),f(p,+c.y/2),p+=u.x;while(p<c.x/2);let d=Math.ceil(-c.y/2/u.y)*u.y;d===-c.y/2&&(d+=u.y);do f(-c.x/2,d),f(+c.x/2,d),d+=u.y;while(d<c.y/2);return this.geometry.setFromPoints(h),this.material.color.set(e),this.material.opacity=n,this.material.transparent=n<1,this}constructor(t){super(),this.set(null!=t?t:a)}}},97219:function(t,e,n){"use strict";n.d(e,{O:function(){return u}});var r=n(88780),o=n(23420),a=n(32219);let i=new r.Vector2,l=new r.Vector3,s=new r.Matrix4;function c(t,e,n){if(null==n?void 0:n.transform)for(let t of((0,a.Xe)(n.transform,s),e))t.applyMatrix4(s);(null==n?void 0:n.color)&&t.colors.set(t.points.length,new r.Color(n.color)),t.points.push(...e)}class u extends r.LineSegments{showOccludedLines(){let{opacity:t=.2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new r.LineBasicMaterial({color:this.material.color,transparent:!0,depthFunc:r.GreaterDepth,opacity:t}),n=new r.LineSegments(this.geometry,e);return this.add(n),this}clear(){return this.points.length=0,this.colors.clear(),this.geometry.setFromPoints([new r.Vector3,new r.Vector3]),this}draw(){if(this.geometry.setFromPoints(this.points),this.geometry.computeBoundingSphere(),this.material.vertexColors=this.colors.size>0,this.material.needsUpdate=!0,this.colors.size>0){var t;let e=new r.Color(null!==(t=this.colors.get(0))&&void 0!==t?t:"white"),n=this.points.length,o=function(t){let e=t.attributes.color;if(e)return e;{let e=new r.BufferAttribute(new Float32Array(3*t.attributes.position.count),3);return t.setAttribute("color",e),e}}(this.geometry);for(let t=0;t<n;t++){let n=this.colors.get(t);n&&e.copy(n),o.setXYZ(t,e.r,e.g,e.b)}}return this}line(t,e,n){return c(this,[(0,a.Q7)(t),(0,a.Q7)(e)],n),this}polygon(t,e){let n=t.map(t=>(0,a.Q7)(t)),r=[];for(let t=0;t<n.length;t++)r.push(n[t],n[(t+1)%n.length]);return c(this,r,e),this}polyline(t,e){let n=t.map(t=>(0,a.Q7)(t)),r=[];for(let t=0;t<n.length-1;t++)r.push(n[t],n[t+1]);return c(this,r,e),this}circle(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let{x:o,y:l,radius:s,segments:h,...f}={...u.circleDefaultOptions,...(()=>{if(e.length>1){let[t,n,r]=e,{x:o,y:l}=(0,a.iK)(t,i);return{x:o,y:l,radius:n,...r}}return e[0]})()},p=new r.Vector3(1,0,0),d=new r.Vector3(0,1,0),x=[];for(let t=0;t<h;t++){let e=t/h*Math.PI*2,n=(t+1)/h*Math.PI*2,a=Math.cos(e)*s,i=Math.sin(e)*s,c=Math.cos(n)*s,u=Math.sin(n)*s,f=new r.Vector3(o,l,0).addScaledVector(p,a).addScaledVector(d,i),m=new r.Vector3(o,l,0).addScaledVector(p,c).addScaledVector(d,u);x.push(f,m)}return c(this,x,f),this}rectangle(t,e){let{centerX:n,centerY:a,width:i,height:l}=o.Ae.from(t),s=i/2,u=l/2,h=new r.Vector3(n-s,a-u,0),f=new r.Vector3(n+s,a-u,0),p=new r.Vector3(n+s,a+u,0),d=new r.Vector3(n-s,a+u,0);return c(this,[h,f,f,p,p,d,d,h],e),this}box(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,n=0,o=0,i=1,s=1,c=1,{center:u,size:h,box3:f}=t;if(void 0!==u&&({x:e,y:n,z:o}=(0,a.Q7)(u,l)),void 0!==h&&({x:i,y:s,z:c}=(0,a.Q7)(h,l)),void 0!==f){let{min:r,max:a}=f,{x:l,y:u,z:h}=r,{x:p,y:d,z:x}=a;t.asIntBox3&&(p+=1,d+=1,x+=1),e=(l+p)/2,n=(u+d)/2,o=(h+x)/2,i=p-l,s=d-u,c=x-h}let p=i/2,d=s/2,x=c/2,m=new r.Vector3(e-p,n-d,o-x),v=new r.Vector3(e+p,n-d,o-x),w=new r.Vector3(e+p,n+d,o-x),g=new r.Vector3(e-p,n+d,o-x),y=new r.Vector3(e-p,n-d,o+x),M=new r.Vector3(e+p,n-d,o+x),b=new r.Vector3(e+p,n+d,o+x),P=new r.Vector3(e-p,n+d,o+x);return this.points.push(m,v,v,w,w,g,g,m),this.points.push(y,M,M,b,b,P,P,y),this.points.push(m,y,v,M,w,b,g,P),this}plus(t,e,n){let o=e/2,{x:l,y:s}=(0,a.iK)(t,i),u=new r.Vector3(l-o,s,0);return c(this,[u,new r.Vector3(l+o,s,0),new r.Vector3(l,s-o,0),new r.Vector3(l,s+o,0)],n),this}cross(t,e,n){let o=e/2,{x:l,y:s}=(0,a.iK)(t,i),u=new r.Vector3(l-o,s-o,0);return c(this,[u,new r.Vector3(l+o,s+o,0),new r.Vector3(l-o,s+o,0),new r.Vector3(l+o,s-o,0)],n),this}constructor(...t){super(...t),this.points=[],this.colors=new Map}}u.circleDefaultOptions={x:0,y:0,radius:.5,segments:96}},7876:function(t,e,n){"use strict";n.d(e,{l:function(){return r}});let r="\n#ifndef GLSL_BASIC\n#define GLSL_BASIC\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\n#endif\n"},99963:function(t,e,n){"use strict";n.d(e,{i:function(){return a}});var r=n(7876);let o=["linear"];for(let t=1;t<=10;t++)o.push("easeIn".concat(t)),o.push("easeOut".concat(t)),o.push("easeInOut".concat(t)),o.push("easeOutIn".concat(t));let a="\n#ifndef GLSL_EASING\n#define GLSL_EASING\n\n".concat(r.l,"\n\nfloat easePow1(float x) {\n  return x;\n}\n\nfloat easePow2(float x) {\n  return x * x;\n}\n\nfloat easePow3(float x) {\n  return x * x * x;\n}\n\nfloat easePow4(float x) {\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow5(float x) {\n  float x0 = x;\n  x *= x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow6(float x) {\n  x *= x * x;\n  return x *= x;\n}\n\nfloat easePow7(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow8(float x) {\n  x *= x;\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow9(float x) {\n  x *= x * x;\n  return x *= x * x;\n}\n\nfloat easePow10(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x * x;\n  return x0 * x;\n}\n\nfloat linear(float x) {\n  return clamp01(x);\n}\n\n").concat(Array.from({length:10},(t,e)=>{let n=e+1;return"\n\nfloat easeIn".concat(n," (float x) {\n  return easePow").concat(n,"(clamp01(x));\n}\nfloat easeOut").concat(n," (float x) {\n  return 1.0 - easePow").concat(n,"(clamp01(1.0 - x));\n}\nfloat easeInOut").concat(n," (float x) {\n  return x < 0.5 \n    ? 0.5 * easePow").concat(n,"(2.0 * x) \n    : 1.0 - 0.5 * easePow").concat(n,"(2.0 * (1.0 - x));\n}\nfloat easeOutIn").concat(n," (float x) {\n  return x < 0.5\n    ? 0.5 * (1.0 - easePow").concat(n,"(1.0 - x * 2.0))\n    : 1.0 - 0.5 * (1.0 - easePow").concat(n,"(2.0 * x - 1.0));\n}\n\n").trim()}).join("\n\n"),"\n\n\n// https://www.desmos.com/calculator/mqou4lf9zc?lang=fr\nfloat easeInOut(float x, float p, float i) {\n  return  x <= 0.0 ? 0.0 :\n          x >= 1.0 ? 1.0 :\n          x <= i ? 1.0 / pow(i, p - 1.0) * pow(x, p) :\n          1.0 - 1.0 / pow(1.0 - i, p - 1.0) * pow(1.0 - x, p);\n}\n\n// https://www.desmos.com/calculator/nrjlezusdv\nfloat easeInThenOut(float x, float p) {\n  return 1.0 - pow(abs(2.0 * x - 1.0), p);\n}\n\n#endif\n")},18075:function(t,e,n){"use strict";n.d(e,{C:function(){return o}});let r={vecX:["float","vec2","vec3","vec4"]},o=(t,e)=>{let n=[],o=Array.isArray(t)?t:[t].map(t=>t in r?r[t]:t).flat();if("function"==typeof e)for(let t of o)n.push(e(t).replaceAll(/\bT\b/g,t));else for(let t of o)n.push(e.replaceAll(/\bT\b/g,t));return n.join("\n")}},1976:function(t,e,n){"use strict";n.d(e,{U:function(){return a}});var r=n(7876),o=n(18075);let a="\n  ".concat(r.l,"\n\n  float sin01(float x) {\n    return 0.5 + 0.5 * sin(x * 6.283185307179586);\n  }\n\n  vec2 scaleAround(vec2 p, vec2 c, float s) {\n    return c + (p - c) / s;\n  }\n\n  // Same as mix, but clamped.\n  ").concat((0,o.C)("vecX","\n    T lerp(in T a, in T b, in float x) {\n      return mix(a, b, clamp01(x));\n    }\n  "),"\n\n  float inverseLerpUnclamped(in float a, in float b, float x) {\n    return (x - a) / (b - a);\n  }\n\n  float inverseLerp(in float a, in float b, float x) {\n    return clamp01((x - a) / (b - a));\n  }\n\n  float threshold(in float x, in float thresholdValue) {\n    return x < thresholdValue ? 0. : 1.;\n  }\n\n  float threshold(in float x, in float thresholdValue, in float width) {\n    return width < 1e-9 \n      ? (x < thresholdValue ? 0. : 1.)\n      : clamp01((x - thresholdValue + width * .5) / width);\n  }\n\n  mat3 extractRotation(mat4 matrix) {\n    return mat3(matrix[0].xyz, matrix[1].xyz, matrix[2].xyz);\n  }\n\n  vec2 rotate(vec2 p, float a) {\n    float c = cos(a);\n    float s = sin(a);\n    float x = c * p.x + s * p.y;\n    float y = -s * p.x + c * p.y;\n    return vec2(x, y);\n  }\n\n  vec2 rotateAround(vec2 p, float a, vec2 c) {\n    return c + rotate(p - c, a);\n  }\n\n  vec2 rotateScaleAround(vec2 p, float a, float s, vec2 c) {\n    return c + rotate((p - c) / s, a);\n  }\n  \n  float positiveModulo(float x) {\n    x = mod(x, 1.0);\n    return x < 0.0 ? x + 1.0 : x;\n  }\n\n  float positiveModulo(float x, float modulo) {\n    x = mod(x, modulo);\n    return x < 0.0 ? x + modulo : x;\n  }\n\n  // Limit a value to a maximum that the function tends to reach when x -> ∞\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float maxValue) {\n    return x <= 0.0 ? x : maxValue * x / (maxValue + x);\n  }\n\n  // https://www.desmos.com/calculator/0vewkbnscu\n  float limited(float x, float minValue, float maxValue) {\n    float d = maxValue - minValue;\n    float xd = x - minValue;\n    return x <= minValue ? x : minValue + d * xd / (d + xd);\n  }\n\n  float sqLength(in vec2 p) {\n    return p.x * p.x + p.y * p.y;\n  }\n\n  float sqLength(in vec3 p) {\n    return p.x * p.x + p.y * p.y + p.z * p.z;\n  }\n\n  float pcurve(float x, float a, float b) {\n    float k = pow(a + b, a + b) / (pow(a, a) * pow(b, b));\n    return k * pow(x, a) * pow(1.0 - x, b);\n  }\n\n  float hash(vec3 p) {\n    return fract(sin(dot(p, vec3(12.9898, 78.233, 45.164))) * 43758.5453);\n  }\n\n  ").concat((0,o.C)("vecX","\n    T min3(in T a, in T b, in T c) {\n      return min(min(a, b), c);\n    }\n  "),"\n\n  ").concat((0,o.C)("vecX","\n    T min4(in T a, in T b, in T c, in T d) {\n      return min(min(a, b), min(c, d));\n    }\n  "),"\n")},6246:function(t,e,n){"use strict";n.d(e,{T:function(){return c}});let r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return(t=(t=(7*t+Math.sqrt(t)+16087*Math.sin(t))%2147483647)<0?t+2147483647:t)>1?2147483647&t:0===t?345678:123456},o=t=>t=2147483647&Math.imul(t,48271),a=t=>(t-1)/2147483646,i=t=>t,l={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function s(){let t=o(o(r(123456)));function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return"string"==typeof e&&(e=e.split("").reduce((t,e)=>7*t+e.charCodeAt(0),0)),t=o(o(r(e))),f}function n(){return a(t=o(t))}function s(t){switch(t.length){default:return[0,1,i];case 1:return[0,t[0],i];case 2:return[t[0],t[1],i];case 3:return[t[0],t[1],t[2]]}}function c(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[o,a,i]=s(e);return o+(a-o)*i(n())}function u(){for(var t,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];let[a,i,{weightsAreNormalized:s,indexOffset:c,forbiddenItems:u}]=function(t){let[e,n=null,r]=t,o={...l,...r};if(Array.isArray(e))return[e,n,o];if("object"==typeof e)return[Object.values(e),n?Object.values(n):null,o];throw Error("pick: unsupported options type")}(r);if(u.length>0){let e=new Set;for(let t of u){let n=a.indexOf(t);n>=0&&e.add(n)}if(a=a.filter((t,n)=>!e.has(n)),i=null!==(t=null==i?void 0:i.filter((t,n)=>!e.has(n)))&&void 0!==t?t:null,0===a.length)throw Error("pick: all items are forbidden")}if(null===i){let t=Math.floor(n()*a.length);return c&&(t+=c,(t%=a.length)<0&&(t+=a.length)),a[t]}if(!s){let t=i.reduce((t,e)=>t+e,0);i=i.map(e=>e/t)}let h=n(),f=0;for(let t=0;t<a.length;t++)if(h<(f+=i[t]))return a[t];throw Error("among: unreachable")}function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),o=n(),a=Math.sqrt(-2*Math.log(r)),i=2*Math.PI*o;return[t+e*a*Math.cos(i),t+e*a*Math.sin(i)]}let f={seed:e,seedMax:function(){return 2147483647},reset:function(){return e(123456),f},next:function(){return t=o(t),f},random:n,between:c,around:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[o=1,a=i]=e,l=2*n();return(l>1?1:-1)*a(l>1?l-1:l)*o},int:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[o,a,i]=s(e);return o+Math.floor(i(n())*(a-o))},chance:function(t){return n()<t},shuffle:function(t){let{mutate:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&Array.isArray(t)?t:[...t],o=r.length;for(let t=0;t<o;t++){let e=Math.floor(o*n()),a=r[t];r[t]=r[e],r[e]=a}return r},pick:u,createPicker:function(t){let e=t.map(t=>{let[e]=t;return e}),n=t.map(t=>{let[e,n]=t;return n}),r=n.reduce((t,e)=>t+e,0);for(let[t,e]of n.entries())n[t]=e/r;return()=>u(e,n,{weightsAreNormalized:!0})},vector:function(t,e){let[n=0,r=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max];for(let e of Object.keys(t))t[e]=c(n,r);return t},unitVector2:function(t){let e=2*Math.PI*n();return t.x=Math.cos(e),t.y=Math.sin(e),t},unitVector3:function(t){let e=n(),r=n(),o=2*Math.PI*e,a=Math.acos(1-2*r);return t.x=Math.sin(a)*Math.cos(o),t.y=Math.sin(a)*Math.sin(o),t.z=Math.cos(a),t},normalVector:function(t){let e=Object.keys(t),n=e.length,r=Math.sqrt(n);for(let o=0;o<n;o+=2){let[a,i]=h();t[e[o]]=a/r,o+1<n&&(t[e[o+1]]=i/r)}return t},unitVector:function(t){let e=Object.keys(t),n=e.length,r=0;for(let o=0;o<n;o+=2){let[a,i]=h();t[e[o]]=a,r+=a*a,o+1<n&&(t[e[o+1]]=i,r+=i*i)}r=Math.sqrt(r);for(let o=0;o<n;o++)t[e[o]]/=r;return t},boxMuller:h};return f}let c=class{constructor(t){Object.assign(this,s().seed(t))}};Object.assign(c,s())},92941:function(t,e,n){"use strict";n.d(e,{e:function(){return a}});var r=n(88780);function o(t,e,n){let r=n.length-t-1;if(e>=n[r])return r-1;if(e<=n[t])return t;let o=t,a=r,i=Math.floor((o+a)/2);for(;e<n[i]||e>=n[i+1];)e<n[i]?a=i:o=i,i=Math.floor((o+a)/2);return i}class a extends r.Curve{constructor(t,e,n,o,a){super();let i=e?e.length-1:0,l=n?n.length:0;this.degree=t,this.knots=e,this.controlPoints=[],this.startKnot=o||0,this.endKnot=a||i;for(let t=0;t<l;++t){let e=n[t];this.controlPoints[t]=new r.Vector4(e.x,e.y,e.z,e.w)}}getPoint(t,e=new r.Vector3){let n=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),a=function(t,e,n,a){let i=o(t,a,e),l=function(t,e,n,r){let o=[],a=[],i=[];o[0]=1;for(let l=1;l<=n;++l){a[l]=e-r[t+1-l],i[l]=r[t+l]-e;let n=0;for(let t=0;t<l;++t){let e=i[t+1],r=a[l-t],s=o[t]/(e+r);o[t]=n+e*s,n=r*s}o[l]=n}return o}(i,a,t,e),s=new r.Vector4(0,0,0,0);for(let e=0;e<=t;++e){let r=n[i-t+e],o=l[e],a=r.w*o;s.x+=r.x*a,s.y+=r.y*a,s.z+=r.z*a,s.w+=r.w*o}return s}(this.degree,this.knots,this.controlPoints,n);return 1!==a.w&&a.divideScalar(a.w),e.set(a.x,a.y,a.z)}getTangent(t,e=new r.Vector3){var n;let a=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),i=(n=this.degree,function(t){let e=t.length,n=[],o=[];for(let a=0;a<e;++a){let e=t[a];n[a]=new r.Vector3(e.x,e.y,e.z),o[a]=e.w}let a=[];for(let t=0;t<e;++t){let e=n[t].clone();for(let n=1;n<=t;++n)e.sub(a[t-n].clone().multiplyScalar(function(t,e){let n=1;for(let e=2;e<=t;++e)n*=e;let r=1;for(let t=2;t<=e;++t)r*=t;for(let n=2;n<=t-e;++n)r*=n;return n/r}(t,n)*o[n]));a[t]=e.divideScalar(o[0])}return a}(function(t,e,n,a,i){let l=1<t?1:t,s=[],c=o(t,a,e),u=function(t,e,n,r,o){let a=[];for(let t=0;t<=n;++t)a[t]=0;let i=[];for(let t=0;t<=r;++t)i[t]=a.slice(0);let l=[];for(let t=0;t<=n;++t)l[t]=a.slice(0);l[0][0]=1;let s=a.slice(0),c=a.slice(0);for(let r=1;r<=n;++r){s[r]=e-o[t+1-r],c[r]=o[t+r]-e;let n=0;for(let t=0;t<r;++t){let e=c[t+1],o=s[r-t];l[r][t]=e+o;let a=l[t][r-1]/l[r][t];l[t][r]=n+e*a,n=o*a}l[r][r]=n}for(let t=0;t<=n;++t)i[0][t]=l[t][n];for(let t=0;t<=n;++t){let e=0,o=1,s=[];for(let t=0;t<=n;++t)s[t]=a.slice(0);s[0][0]=1;for(let a=1;a<=r;++a){let r=0,c=t-a,u=n-a;t>=a&&(s[o][0]=s[e][0]/l[u+1][c],r=s[o][0]*l[c][u]);let h=c>=-1?1:-c,f=t-1<=u?a-1:n-t;for(let t=h;t<=f;++t)s[o][t]=(s[e][t]-s[e][t-1])/l[u+1][c+t],r+=s[o][t]*l[c+t][u];t<=u&&(s[o][a]=-s[e][a-1]/l[u+1][t],r+=s[o][a]*l[t][u]),i[a][t]=r;let p=e;e=o,o=p}}let u=n;for(let t=1;t<=r;++t){for(let e=0;e<=n;++e)i[t][e]*=u;u*=n-t}return i}(c,a,t,l,e),h=[];for(let t=0;t<n.length;++t){let e=n[t].clone(),r=e.w;e.x*=r,e.y*=r,e.z*=r,h[t]=e}for(let e=0;e<=l;++e){let n=h[c-t].clone().multiplyScalar(u[e][0]);for(let r=1;r<=t;++r)n.add(h[c-t+r].clone().multiplyScalar(u[e][r]));s[e]=n}for(let t=l+1;t<=i+1;++t)s[t]=new r.Vector4(0,0,0);return s}(n,this.knots,this.controlPoints,a,1)));return e.copy(i[1]).normalize(),e}toJSON(){let t=super.toJSON();return t.degree=this.degree,t.knots=[...this.knots],t.controlPoints=this.controlPoints.map(t=>t.toArray()),t.startKnot=this.startKnot,t.endKnot=this.endKnot,t}fromJSON(t){return super.fromJSON(t),this.degree=t.degree,this.knots=[...t.knots],this.controlPoints=t.controlPoints.map(t=>new r.Vector4(t[0],t[1],t[2],t[3])),this.startKnot=t.startKnot,this.endKnot=t.endKnot,this}}}},function(t){t.O(0,[7987,7512,1561,7834,6158,3956,1067,3310,749,812,2038,3420,1540,9258,4157,3977,5284,1618,5694,2840,1744],function(){return t(t.s=45350)}),_N_E=t.O()}]);