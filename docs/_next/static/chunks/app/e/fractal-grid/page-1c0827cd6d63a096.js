(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4978],{17746:function(t,e,r){Promise.resolve().then(r.bind(r,79841))},79841:function(t,e,r){"use strict";r.d(e,{Main:function(){return b}});var i=r(78485),o=r(494),n=r(9710),a=r(8834),s=r(52471),l=r(66666),u=r(63549),c=r(99553),h=r(87858),f=r(27275),d=r(48583),v=r(48181);r(94588);let p=(0,f.createContext)(null);function g(t,e){let r=(0,f.useContext)(p);return(0,d.sv)(async function*(e,i){if(t){let e=t(r,i);if(e&&"function"==typeof e.next)do{let{value:t,done:r}=await e.next();if(r)break;yield t}while(i.mounted)}},null!=e?e:"always"),r}let m={className:"",assetsPath:"/"};function y(t){let{children:e,className:r,assetsPath:o}={...m,...t},n=(0,f.useMemo)(()=>new v.Vu,[]);n.loader.setPath(o);let{ref:a}=(0,d.Nv)({debounce:!0},function*(t,e){yield n.initialize(t),e.triggerRender(),Object.assign(window,{three:n})},[]);return(0,i.jsx)("div",{ref:a,className:r,style:{position:"absolute",inset:0},children:(0,i.jsx)(p.Provider,{value:n,children:n.initialized&&e})})}function w(t){return function(){let[t,e]=(0,f.useState)(!1);return(0,f.useLayoutEffect)(()=>{e(!0)},[]),t}()&&(0,i.jsx)(y,{...t})}class M extends s.Mesh{constructor({col:t=3,row:e=3,color:r="#fff"}={}){let i=(0,l.n4)([new s.PlaneGeometry(4,4).translate(0,0,-2),new s.PlaneGeometry(4,4).rotateY(-.5*Math.PI).translate(2,0,0)]),o=(0,l.n4)([i,new s.PlaneGeometry(4,4).rotateX(-.5*Math.PI).translate(0,-2,0)]);o.rotateY(.25*Math.PI),super((0,l.n4)(Array.from({length:e*t},(r,i)=>{let n=Math.floor(i/t),a=n-(e-1)*.5;return o.clone().translate((i%t-(t-1)*.5+-(n%2*.5))*4*Math.SQRT2,4*a,-(4*a*Math.SQRT2*.5))})),new u.P({color:"#fff"})),(0,c.c)(this.geometry,r)}}function x(){return!function(t,e,r){let i=(0,f.useMemo)(()=>new s.Group,[]);i.name=t,g(async function*(t,r){if(t.scene.add(i),yield()=>{i.clear(),i.removeFromParent()},e){let o=e(i,t,r);if(o&&"function"==typeof o.next)do{let{value:t,done:e}=await o.next();if(e)break;yield t}while(r.mounted)}},r)}("fractal-grid",function*(t){(0,h.cY)(new s.Mesh(new s.TorusKnotGeometry(2.5,.025,512,32),new u.P({color:"#0cf"})),t),(0,h.cY)(new M,t),(0,h.cY)(new M({color:"red"}),{parent:t,x:12*Math.SQRT2})},[]),null}function z(){return g(function*(t){(0,a.a)({three:t});let e=new o.F({size:24});yield e.initialize(t.renderer.domElement),yield(0,n.RC)("three",r=>{let{aspect:i,camera:o}=t;e.update(o,i,r.deltaTime)})},[]),null}function b(){return(0,i.jsx)("div",{className:"FractalGrid",children:(0,i.jsxs)(w,{children:[(0,i.jsx)("h1",{children:"FractalGrid"}),(0,i.jsx)(z,{}),(0,i.jsx)(x,{})]})})}},8834:function(t,e,r){"use strict";r.d(e,{Leak:function(){return s},a:function(){return a}});var i=r(40855),o=r(79509),n=r(28142);function a(t){Object.assign(window,{...o,...i,...t,PRNG:n.T})}function s(t){return a(t),null}},39680:function(t,e,r){"use strict";r.d(e,{a:function(){return c}});var i=r(52471),o=r(81796);let n=new i.Matrix4,a=new i.Vector3,s=new i.Quaternion,l=new i.Quaternion,u={fov:"45deg",perspective:1,zoom:1,focus:[0,0,0],size:[4,4],before:100,after:1e3,rotation:[0,0,0,"YXZ"],frame:"contain",allowOrthographic:!0,fovEpsilon:"1.5deg",nearMin:.1};class c{set(t){let{perspective:e,fov:r,zoom:i,focus:n,size:a,before:s,after:l,rotation:u,frame:c,allowOrthographic:h,fovEpsilon:f,nearMin:d}=t;return void 0!==e&&(this.perspective=e),void 0!==r&&(this.fov=(0,o.FE)(r)),void 0!==i&&(this.zoom=i),void 0!==n&&(0,o.Q7)(n,this.focus),void 0!==a&&(0,o.iK)(a,this.size),void 0!==s&&(this.before=s),void 0!==l&&(this.after=l),void 0!==u&&(0,o.Gg)(u,this.rotation),void 0!==c&&(this.frame="string"==typeof c?"cover"===c?0:1:c),void 0!==h&&(this.allowOrthographic=h),void 0!==f&&(this.fovEpsilon=(0,o.FE)(f)),void 0!==d&&(this.nearMin=d),this}copy(t){return this.perspective=t.perspective,this.fov=t.fov,this.zoom=t.zoom,this.focus.copy(t.focus),this.size.copy(t.size),this.before=t.before,this.after=t.after,this.rotation.copy(t.rotation),this.frame=t.frame,this.allowOrthographic=t.allowOrthographic,this.fovEpsilon=t.fovEpsilon,this.nearMin=t.nearMin,this}clone(){return new c().copy(this)}lerpVertigos(t,e,r){this.perspective=t.perspective+(e.perspective-t.perspective)*r,this.fov=t.fov+(e.fov-t.fov)*r;let i=Math.log(t.zoom)/Math.log(.001),o=i+(Math.log(e.zoom)/Math.log(.001)-i)*r;return this.zoom=.001**o,this.focus.lerpVectors(t.focus,e.focus,r),this.size.lerpVectors(t.size,e.size,r),this.before=t.before+(e.before-t.before)*r,this.after=t.after+(e.after-t.after)*r,s.setFromEuler(t.rotation),l.setFromEuler(e.rotation),this.rotation.setFromQuaternion(s.slerp(l,r)),this.frame=t.frame+(e.frame-t.frame)*r,this.allowOrthographic=r<.5?t.allowOrthographic:e.allowOrthographic,this.fovEpsilon=t.fovEpsilon+(e.fovEpsilon-t.fovEpsilon)*r,this.nearMin=t.nearMin+(e.nearMin-t.nearMin)*r,this}lerp(t,e){return this.lerpVertigos(this,t,e)}apply(t,e){let r=this.size.x/this.size.y/e,i=1+(r>1?this.frame:1-this.frame)*(r-1),o=this.size.y*i/this.zoom,s=this.fovEpsilon,l=this.perspective*this.fov;!this.allowOrthographic&&l<s&&(l=s);let u=o/2/Math.tan(l/2),c=l>=s,h=c?u:this.before+this.nearMin;if(n.makeRotationFromEuler(this.rotation),a.set(n.elements[8],n.elements[9],n.elements[10]).multiplyScalar(h).add(this.focus),t.position.copy(a),t.rotation.copy(this.rotation),t.updateMatrix(),t.updateMatrixWorld(!0),t.isPerspectiveCamera=c,t.isOrthographicCamera=!c,c){let r=Math.max(this.nearMin/this.zoom,u-this.before),i=u+this.after,n=o*r/u/2,a=n*e;t.fov=180*l/Math.PI,t.projectionMatrix.makePerspective(-a,a,n,-n,r,i)}else{let r=this.nearMin/this.zoom,i=r+this.before+this.after,n=o/2,a=n*e;t.fov=0,t.projectionMatrix.makeOrthographic(-a,a,n,-n,r,i)}return t.projectionMatrixInverse.copy(t.projectionMatrix).invert(),this.computedNdcScalar.set(i*e,i),this.computedSize.set(o*e,o),this}toDeclaration(){let t=[(0,o.ux)(this.rotation.x,"deg"),(0,o.ux)(this.rotation.y,"deg"),(0,o.ux)(this.rotation.z,"deg"),this.rotation.order];return{perspective:this.perspective,fov:(0,o.ux)(this.fov,"deg"),zoom:this.zoom,focus:this.focus.toArray(),size:this.size.toArray(),before:this.before,after:this.after,rotation:t,frame:this.frame,allowOrthographic:this.allowOrthographic,fovEpsilon:(0,o.ux)(this.fovEpsilon,"deg"),nearMin:this.nearMin}}constructor(t){this.focus=new i.Vector3,this.size=new i.Vector2,this.rotation=new i.Euler,this.computedNdcScalar=new i.Vector2,this.computedSize=new i.Vector2,this.set({...u,...t})}}},494:function(t,e,r){"use strict";r.d(e,{F:function(){return v}});var i=r(52471),o=r(74831),n=r(63425),a=r(1296),s=r(77552),l=r(81796),u=r(39680);let c=new i.Quaternion,h=new i.Vector3,f=new i.Vector3;function d(t){c.setFromEuler(t),h.set(1,0,0).applyQuaternion(c),f.set(0,1,0).applyQuaternion(c)}class v extends a.N{pan(t,e){d(this.vertigo.rotation);let r=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(h,t*r).addScaledVector(f,e*r)}rotate(t,e){this.vertigo.rotation.x+=t,this.vertigo.rotation.y+=e}zoomAt(t,e){let r=this.vertigo.size.x/this.vertigo.zoom,i=this.vertigo.size.y/this.vertigo.zoom,o=this.vertigo.size.x/t,n=this.vertigo.size.y/t;d(this.vertigo.rotation);let{x:a,y:s}=e;this.vertigo.focus.addScaledVector(h,-((o-r)*a)).addScaledVector(f,-((n-i)*s)),this.vertigo.zoom=t}*doInitialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;yield function(t,e){for(let[r,i]of Object.entries(e))t.addEventListener(r,i);return{destroy(){for(let[r,i]of Object.entries(e))t.removeEventListener(r,i)}}}(t,{contextmenu:t=>{t.preventDefault()}});let e=new i.Vector2;yield(0,o.w)(t,{onChange:r=>{let i=t.getBoundingClientRect(),o=(r.localPosition.x-i.x)/i.width*2-1,n=-((r.localPosition.y-i.y)/i.height*2-1);e.set(o/2,n/2).multiply(this.vertigo.computedNdcScalar)},dragButton:-1,onDrag:t=>{switch(t.button){case o.M.Left:this.rotate(-.01*t.delta.y,-.01*t.delta.x);break;case o.M.Right:this.pan(-.005*t.delta.x,.005*t.delta.y)}},wheelPreventDefault:!0,onWheel:t=>{let r=this.vertigo.zoom*(1-.001*t.delta.y);t.event.altKey?this.zoomAt(r,e):this.zoomAt(r,{x:0,y:0})}})}initialize(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.collect(this.doInitialize(...e)),this}update(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/60,i=(0,s.M3)(this.dampingDecayFactor,r);this.dampedVertigo.lerp(this.vertigo,i).apply(t,e)}constructor(t={}){super(),this.dampingDecayFactor=1e-4,this.vertigo=new u.a,this.dampedVertigo=new u.a,this.actions={togglePerspective:()=>{let t=this.vertigo.perspective>.5?0:1;n.fw.tween({target:[this.vertigo,"perspective"],to:{perspective:t},duration:1,ease:"inOut3"})},focus:t=>{n.fw.tween({target:this.vertigo.focus,to:(0,l.Q7)(t),duration:1,ease:"inOut3"})},rotate:(t,e,r)=>{let o=new i.Quaternion().setFromEuler(this.vertigo.rotation),a=new i.Quaternion().setFromEuler(new i.Euler(t,e,r,"YXZ")),s=new i.Quaternion;n.fw.during({target:[this.vertigo,"rotation"],duration:1}).onUpdate(t=>{let{progress:e}=t;s.slerpQuaternions(o,a,n.fw.ease("inOut3")(e)),this.vertigo.rotation.setFromQuaternion(s)})},positiveXAlign:()=>{this.actions.rotate(0,Math.PI/2,0)},negativeXAlign:()=>{this.actions.rotate(0,-Math.PI/2,0)},positiveYAlign:()=>{this.actions.rotate(-Math.PI/2,0,0)},negativeYAlign:()=>{this.actions.rotate(Math.PI/2,0,0)},positiveZAlign:()=>{this.actions.rotate(0,0,0)},negativeZAlign:()=>{this.actions.rotate(0,Math.PI,0)}},this.vertigo.set(t),this.dampedVertigo.set(t)}}},63549:function(t,e,r){"use strict";r.d(e,{P:function(){return n}});var i=r(52471);let o={vertexColors:!0,color:"white",luminosity:.5};class n extends i.ShaderMaterial{constructor(t){let{color:e,luminosity:r,vertexColors:n,...a}={...o,...t};super({...a,uniforms:{uColor:{value:new i.Color(e)},uSunPosition:{value:new i.Vector3(.5,.7,.3)},uLuminosity:{value:r}},vertexColors:n,vertexShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vColor = color;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vColor;\n\nuniform vec3 uSunPosition;\nuniform vec3 uColor;\nuniform float uLuminosity;\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  light = mix(uLuminosity, 1.0, light);\n  gl_FragColor = vec4(vColor * uColor * light, 1.0);\n}\n"}),this.sunPosition=this.uniforms.uSunPosition.value}}},99553:function(t,e,r){"use strict";r.d(e,{c:function(){return o}});var i=r(52471);function o(t,e){var r;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=Array.isArray(e)?e.map(t=>new i.Color(t)):[new i.Color(e)],s=t.attributes.position.count,l=null!==(r=t.attributes.color)&&void 0!==r?r:function(){let e=new i.BufferAttribute(new Float32Array(3*s),3);return t.setAttribute("color",e),e}(),u=n<0?s:n;if(1===a.length){let{r:t,g:e,b:r}=a[0];for(let i=o;i<u;i++)l.setXYZ(i,t,e,r)}else for(let t=o;t<u;t++){let{r:e,g:r,b:i}=a[t%a.length];l.setXYZ(t,e,r,i)}l.needsUpdate=!0}},94588:function(t,e,r){"use strict";r.d(e,{N:function(){return a}});var i=r(52471),o=r(81796);new i.Vector3(0,0,0),new i.Euler(0,0,0,"XYZ"),new i.Vector3(1,1,1);let n={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,visible:void 0,name:void 0,parent:void 0};function a(t,e){let{x:r,y:a,z:s,position:l=new i.Vector3(r,a,s),rotationX:u,rotationY:c,rotationZ:h,rotationOrder:f,rotationUnit:d,rotation:v,scaleX:p,scaleY:g,scaleZ:m,scaleScalar:y,scale:w=new i.Vector3(p,g,m).multiplyScalar(y),visible:M,name:x,parent:z}={...n,...e};return(0,o.Q7)(l,t.position),(0,o.Gg)(null!=v?v:[u,c,h,f,d],t.rotation),(0,o.Q7)(w,t.scale),void 0!==M&&(t.visible=M),void 0!==x&&(t.name=x),void 0!==z&&z.add(t),t}},87858:function(t,e,r){"use strict";r.d(e,{H$:function(){return s},bB:function(){return a},cY:function(){return n}});var i=r(52471),o=r(94588);function n(t,e,r){return e&&(e instanceof i.Object3D?e.add(t):(0,o.N)(t,e)),null==r||r(t),t}let a=n;function s(t,e){return function(t,e){let r=t;for(;r.parent;){if(r.parent===e)return!0;r=r.parent}return!1}(e,t)}},40855:function(t,e,r){"use strict";function i(t,e){for(let r of t)if(e(r))return!0;return!1}function o(t,e){for(let r of t)if(!e(r))return!1;return!0}function n(t,e,r){let i=[];function o(t){let e=[];return i[t]=e,e}if(void 0!==r)for(let t=0;t<r;t++)o(t);for(let r of t){var n;let t=e(r);(null!==(n=i[t])&&void 0!==n?n:o(t)).push(r)}return i}r.r(e),r.d(e,{every:function(){return o},some:function(){return i},split:function(){return n}})},28142:function(t,e,r){"use strict";r.d(e,{T:function(){return u}});let i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return(t=(t=(7*t+Math.sqrt(t)+16087*Math.sin(t))%2147483647)<0?t+2147483647:t)>1?2147483647&t:0===t?345678:123456},o=t=>t=2147483647&Math.imul(t,48271),n=t=>(t-1)/2147483646,a=t=>t,s={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function l(){let t=o(o(i(123456)));function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return"string"==typeof e&&(e=e.split("").reduce((t,e)=>7*t+e.charCodeAt(0),0)),t=o(o(i(e))),h}function r(){return n(t=o(t))}function l(t){switch(t.length){default:return[0,1,a];case 1:return[0,t[0],a];case 2:return[t[0],t[1],a];case 3:return[t[0],t[1],t[2]]}}function u(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];let[o,n,a]=l(e);return o+(n-o)*a(r())}function c(){for(var t,e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];let[n,a,{weightsAreNormalized:l,indexOffset:u,forbiddenItems:c}]=function(t){let[e,r=null,i]=t,o={...s,...i};if(Array.isArray(e))return[e,r,o];if("object"==typeof e)return[Object.values(e),r?Object.values(r):null,o];throw Error("pick: unsupported options type")}(i);if(c.length>0){let e=new Set;for(let t of c){let r=n.indexOf(t);r>=0&&e.add(r)}if(n=n.filter((t,r)=>!e.has(r)),a=null!==(t=null==a?void 0:a.filter((t,r)=>!e.has(r)))&&void 0!==t?t:null,0===n.length)throw Error("pick: all items are forbidden")}if(null===a){let t=Math.floor(r()*n.length);return u&&(t+=u,(t%=n.length)<0&&(t+=n.length)),n[t]}if(!l){let t=a.reduce((t,e)=>t+e,0);a=a.map(e=>e/t)}let h=r(),f=0;for(let t=0;t<n.length;t++)if(h<(f+=a[t]))return n[t];throw Error("among: unreachable")}let h={seed:e,seedMax:function(){return 2147483647},reset:function(){return e(123456),h},next:function(){return t=o(t),h},random:r,between:u,around:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];let[o=1,n=a]=e,s=2*r();return(s>1?1:-1)*n(s>1?s-1:s)*o},int:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];let[o,n,a]=l(e);return o+Math.floor(a(r())*(n-o))},chance:function(t){return r()<t},shuffle:function(t){let{mutate:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e&&Array.isArray(t)?t:[...t],o=i.length;for(let t=0;t<o;t++){let e=Math.floor(o*r()),n=i[t];i[t]=i[e],i[e]=n}return i},pick:c,createPicker:function(t){let e=t.map(t=>{let[e]=t;return e}),r=t.map(t=>{let[e,r]=t;return r}),i=r.reduce((t,e)=>t+e,0);for(let[t,e]of r.entries())r[t]=e/i;return()=>c(e,r,{weightsAreNormalized:!0})},vector:function(t,e){let[r=0,i=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max];for(let e of Object.keys(t))t[e]=u(r,i);return t},unitVector:function(t,e){let[r=-1,i=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max],o=Object.keys(t),n=o.map(()=>u(r,i)),a=Math.sqrt(n.reduce((t,e)=>t+e*e,0));for(let[e,r]of o.entries())t[r]=n[e]/a;return t},boxMuller:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=r(),o=r(),n=Math.sqrt(-2*Math.log(i)),a=2*Math.PI*o;return[t+e*n*Math.cos(a),t+e*n*Math.sin(a)]}};return h}let u=class{constructor(t){Object.assign(this,l().seed(t))}};Object.assign(u,l())}},function(t){t.O(0,[5244,6712,6666,5792,2452,7741,2722,4940,8648,4831,9918,8181,3425,2920,7936,1744],function(){return t(t.s=17746)}),_N_E=t.O()}]);