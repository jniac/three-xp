(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3267],{5832:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(49797);class s extends n.BRH{constructor(e){super(e),this.type=n.ix0}parse(e){let t,r,s,i=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},a=function(e,t,r){t=t||1024;let n=e.pos,s=-1,i=0,a="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));for(;0>(s=o.indexOf("\n"))&&i<t&&n<e.byteLength;)a+=o,i+=o.length,n+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return -1<s&&(!1!==r&&(e.pos+=i+s+1),a+o.slice(0,s))},o=new Uint8Array(e);o.pos=0;let l=function(e){let t,r,n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,d={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=a(e))||i(1,"no header found"),(r=t.match(/^#\?(\S+)/))||i(3,"bad initial token"),d.valid|=1,d.programtype=r[1],d.string+=t+"\n";!1!==(t=a(e));){if(d.string+=t+"\n","#"===t.charAt(0)){d.comments+=t+"\n";continue}if((r=t.match(n))&&(d.gamma=parseFloat(r[1])),(r=t.match(s))&&(d.exposure=parseFloat(r[1])),(r=t.match(o))&&(d.valid|=2,d.format=r[1]),(r=t.match(l))&&(d.valid|=4,d.height=parseInt(r[1],10),d.width=parseInt(r[2],10)),2&d.valid&&4&d.valid)break}return 2&d.valid||i(3,"missing format specifier"),4&d.valid||i(3,"missing image size specifier"),d}(o),d=l.width,h=l.height,u=function(e,t,r){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&i(3,"wrong scanline width");let n=new Uint8Array(4*t*r);n.length||i(4,"unable to allocate buffer space");let s=0,a=0,o=4*t,l=new Uint8Array(4),d=new Uint8Array(o),h=r;for(;h>0&&a<e.byteLength;){a+4>e.byteLength&&i(1),l[0]=e[a++],l[1]=e[a++],l[2]=e[a++],l[3]=e[a++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=t)&&i(3,"bad rgbe scanline format");let r=0,u;for(;r<o&&a<e.byteLength;){let t=(u=e[a++])>128;if(t&&(u-=128),(0===u||r+u>o)&&i(3,"bad scanline data"),t){let t=e[a++];for(let e=0;e<u;e++)d[r++]=t}else d.set(e.subarray(a,a+u),r),r+=u,a+=u}for(let e=0;e<t;e++){let r=0;n[s]=d[e+r],r+=t,n[s+1]=d[e+r],r+=t,n[s+2]=d[e+r],r+=t,n[s+3]=d[e+r],s+=4}h--}return n}(o.subarray(o.pos),d,h);switch(this.type){case n.RQf:let c=new Float32Array(4*(s=u.length/4));for(let e=0;e<s;e++)!function(e,t,r,n){let s=Math.pow(2,e[t+3]-128)/255;r[n+0]=e[t+0]*s,r[n+1]=e[t+1]*s,r[n+2]=e[t+2]*s,r[n+3]=1}(u,4*e,c,4*e);t=c,r=n.RQf;break;case n.ix0:let p=new Uint16Array(4*(s=u.length/4));for(let e=0;e<s;e++)!function(e,t,r,s){let i=Math.pow(2,e[t+3]-128)/255;r[s+0]=n.GxU.toHalfFloat(Math.min(e[t+0]*i,65504)),r[s+1]=n.GxU.toHalfFloat(Math.min(e[t+1]*i,65504)),r[s+2]=n.GxU.toHalfFloat(Math.min(e[t+2]*i,65504)),r[s+3]=n.GxU.toHalfFloat(1)}(u,4*e,p,4*e);t=p,r=n.ix0;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:d,height:h,data:t,header:l.string,gamma:l.gamma,exposure:l.exposure,type:r}}setDataType(e){return this.type=e,this}load(e,t,r,s){return super.load(e,function(e,r){switch(e.type){case n.RQf:case n.ix0:e.colorSpace=n.Zr2,e.minFilter=n.k6q,e.magFilter=n.k6q,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,s)}}},6981:(e,t,r)=>{Promise.resolve().then(r.bind(r,55672)),Promise.resolve().then(r.t.bind(r,13196,23))},21667:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});let n=new WeakMap,s=(e=>()=>{let t=n.get(e);if(void 0===t){let t=e();return n.set(e,t),t}return t})(()=>{let e=new WeakMap;return{resizeObserver:new ResizeObserver(t=>{for(let r of t){let t=e.get(r.target);if(t)for(let e of t)e(r)}}),resizeObserverMap:e}});class i{get width(){return this.size.x}get height(){return this.size.y}get aspect(){return this.size.x/this.size.y}constructor(e,t){this.element=e,this.size=t}}function a(e,t){let{onSize:r}=function(e){if("function"==typeof e)return{onSize:e};let{onSize:t=()=>{}}=null!=e?e:{};return{onSize:t}}(t),n=new DOMPoint(0,0);if(e instanceof Window){let t=()=>{n.x=window.innerWidth,n.y=window.innerHeight,r(new i(e,n))};return e.addEventListener("resize",t),t(),{destroy:()=>{e.removeEventListener("resize",t)}}}{var a;let{resizeObserver:t,resizeObserverMap:o}=s();t.observe(e);let l=null!=(a=o.get(e))?a:new Set,d=t=>{n.x=t.contentRect.width,n.y=t.contentRect.height,r(new i(e,n))};return o.set(e,l),l.add(d),{destroy:()=>{let r=o.get(e);if(!r)throw Error("Wtf??? No callbacks found for element");r.delete(d),0===r.size&&(o.delete(e),t.unobserve(e))}}}}},24223:(e,t,r)=>{"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,s]=1===t.length?[window,t[0]]:t,i=()=>{s()};return n.addEventListener("mousemove",i,{passive:!0}),n.addEventListener("mousedown",i,{passive:!0}),n.addEventListener("mouseup",i,{passive:!0}),n.addEventListener("touchstart",i,{passive:!0}),n.addEventListener("touchmove",i,{passive:!0}),n.addEventListener("wheel",i,{passive:!0}),n.addEventListener("keydown",i,{passive:!0}),n.addEventListener("keyup",i,{passive:!0}),window.addEventListener("resize",i,{passive:!0}),{destroy:()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mousedown",i),n.removeEventListener("mouseup",i),n.removeEventListener("touchstart",i),n.removeEventListener("touchmove",i),n.removeEventListener("wheel",i),n.removeEventListener("keydown",i),n.removeEventListener("keyup",i),window.removeEventListener("resize",i)}}}r.d(t,{O:()=>n})}},e=>{var t=t=>e(e.s=t);e.O(0,[9687,5611,7190,7962,8921,7775,146,5672,1319,6852,7358],()=>t(6981)),_N_E=e.O()}]);