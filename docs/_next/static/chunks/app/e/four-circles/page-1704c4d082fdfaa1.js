(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8099],{38909:function(e,t,n){Promise.resolve().then(n.bind(n,23567))},23567:function(e,t,n){"use strict";n.d(t,{Main:function(){return E}});var r,o,i=n(78485),s=n(494),a=n(9710),c=n(4917),l=n(8834),u=n(37457),f=n(52471),h=n(38137),d=n(87858),v=n(16573),p=n(58648),x=n(49635);(r=o||(o={})).MoveTo="moveTo",r.LineTo="lineTo";class m extends f.Group{clear(){let{lines:e}=this.parts;return e.count=0,e.instanceMatrix.array=new Float32Array(0),e.instanceMatrix.needsUpdate=!0,this}moveTo(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,o]=1===t.length?[t[0].x,t[0].y]:t;return this.commands.push({type:"moveTo",x:r,y:o,z:0,w:1}),this}lineTo(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,o]=1===t.length?[t[0].x,t[0].y]:t;return this.commands.push({type:"lineTo",x:r,y:o,z:0,w:1}),this}draw(){let{lines:e}=this.parts,{thickness:t,commands:n}=this,r=new Float32Array(16*n.length),o=0;for(let[e,{type:i,x:s,y:a}]of n.entries())if("lineTo"===i){let i=n[e-1],c=s-i.x,l=a-i.y,u=i.x+c/2,f=i.y+l/2,h=Math.sqrt(c*c+l*l),d=Math.atan2(l,c);(0,x.$)({x:u,y:f,rotationZ:d,scaleX:h,scaleY:t}).toArray(r,16*o),o++}return e.count=o,e.instanceMatrix.array=r.slice(0,16*o),e.instanceMatrix.needsUpdate=!0,this}constructor(...e){super(...e),this.thickness=.01,this.parts=(()=>{let e=new f.PlaneGeometry(1,1),t=new f.MeshBasicMaterial;return{lines:(0,d.cY)(new f.InstancedMesh(e,t,0),this)}})(),this.commands=[]}}var y=n(47174),g=n(1060),w=n(55244),z=n(98828);let b=new f.PlaneGeometry(4,4);new f.IcosahedronGeometry(1,12);class M extends f.Group{constructor(...e){super(...e),this.parts=(()=>{let e=["#95c3fb","#fcff99","#0a1521"].map(e=>new f.Color(e)),t=new f.MeshBasicMaterial,n={uTime:a.vB.get("three").uTime,uTimeCycleOffset:{value:0},uColors:{value:e}};t.onBeforeCompile=e=>y.b.with(e).uniforms(n).defines({USE_UV:""}).varying({vWorldPosition2:"vec3"}).vertex.mainAfterAll("\n        vWorldPosition2 = (modelMatrix * vec4(position, 1.0)).xyz;\n      ").fragment.top("\n\n  // Inigo Quilez\n  // https://iquilezles.org/articles/distfunctions2d/\n\n  // Circle - exact   (https://www.shadertoy.com/view/3ltSW2)\n  float sdCircle( vec2 p, float r )\n  {\n    return length(p) - r;\n  }\n\n  // Rounded Box - exact   (https://www.shadertoy.com/view/4llXD7 and https://www.youtube.com/watch?v=s5NGeUV2EyU)\n  float sdRoundedBox( in vec2 p, in vec2 b, in vec4 r )\n  {\n    r.xy = (p.x>0.0)?r.xy : r.zw;\n    r.x  = (p.y>0.0)?r.x  : r.y;\n    vec2 q = abs(p)-b+r.x;\n    return min(max(q.x,q.y),0.0) + length(max(q,0.0)) - r.x;\n  }\n\n  // Box - exact   (https://www.youtube.com/watch?v=62-pRVZuS5c)\n  float sdBox( in vec2 p, in vec2 b )\n  {\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n\n  // Segment - exact   (https://www.shadertoy.com/view/3tdSDj and https://www.youtube.com/watch?v=PMltMdi1Wzg)\n  float sdSegment( in vec2 p, in vec2 a, in vec2 b )\n  {\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n  }\n\n  // Arc - exact   (https://www.shadertoy.com/view/wl23RK)\n  float sdArc( in vec2 p, in vec2 sc, in float ra, float rb )\n  {\n    // sc is the sin/cos of the arc's aperture\n    p.x = abs(p.x);\n    return ((sc.y*p.x>sc.x*p.y) ? length(p-sc*ra) : \n                                  abs(length(p)-ra)) - rb;\n  }\n\n  float opRound( in float d, in float r )\n  {\n    return d - r;\n  }\n\n  float opOnion( in float d, in float r )\n  {\n    return abs(d) - r;\n  }\n",w.v,z.U,g.i).fragment.top("\n        float globalNoise;\n        void computeGlobalNoise() {\n          globalNoise = fnoise(vec3(vWorldPosition2.xy * 0.5, uTime * 0.01), 8, 0.8);\n        }\n        float radius() {\n          return 0.75;\n        }\n        vec2 point() {\n          return (vUv - 0.5) * 2.0;\n        }\n        float time() {\n          return uTime * 0.05 + uTimeCycleOffset * 1.0;\n        }\n        float noisyBox() {\n          return sdBox(point(), vec2(radius())) + globalNoise * 0.1 * sin01(time());\n        }\n        float noisyCircle() {\n          return length(point()) - radius() + globalNoise * 0.3 * sin01(time());\n        }\n      ").fragment.mainBeforeAll("\n        computeGlobalNoise();\n      ").fragment.after("color_fragment","\n        float d = sdBox(point(), vec2(radius()));\n        float d2 = sin01(time());\n        d2 *= 0.1;\n        vec3 color = mix(uColors[0], uColors[1], smoothstep(0.001, 0.0, noisyBox()));\n\n        float nc = noisyCircle();\n        vec3 circleColor = mix(uColors[1], uColors[2], mix(0.25, 1.0, easeInOut2(inverseLerpUnclamped(-radius(), 0.0, nc))));\n        color = mix(color, circleColor, smoothstep(0.001, 0.0, nc));\n        diffuseColor.rgb = color;\n      ");let r=new f.Mesh(b,t);return this.add(r),{plane:r,planeUniforms:n,colors:e}})()}}class C extends f.Group{constructor(...e){super(...e),this.parts=(()=>{let e=(0,d.cY)(new m,this);e.position.z=1,e.thickness=.0125,e.parts.lines.material.color.set("#fcff99");let t=new p.Ae(0,0).applyPadding(4.2,"grow"),n=new p.Ae(0,0).applyPadding(4.4,"grow");for(let{t:r}of(0,v.VX)(60)){let o=(r+0)*Math.PI*2,i=Math.cos(o),s=Math.sin(o),a=t.raycast(0,0,i,s).getPointMin(),c=n.raycast(0,0,i,s).getPointMin();e.moveTo(a).lineTo(c)}return e.draw(),{lines:e}})()}}function A(){return(0,c._v)("four-circles",function*(e){(0,d.cY)(new h.w({color:"#e1dff1"}),e),(0,d.cY)(new C,{parent:e}),(0,d.cY)(new M,{parent:e,position:[2.0175,2.0175,0]},e=>{e.parts.planeUniforms.uTimeCycleOffset.value=0,e.parts.colors[1].set("#fcff99"),e.parts.colors[2].set("#170551")}),(0,d.cY)(new M,{parent:e,position:[2.0175,-2.0175,0]},e=>{e.parts.planeUniforms.uTimeCycleOffset.value=.25,e.parts.colors[1].set("#18188c"),e.parts.colors[2].set("#72d9ab")}),(0,d.cY)(new M,{parent:e,position:[-2.0175,-2.0175,0]},e=>{e.parts.planeUniforms.uTimeCycleOffset.value=.5,e.parts.colors[1].set("#f3a3b3"),e.parts.colors[2].set("#15093e")}),(0,d.cY)(new M,{parent:e,position:[-2.0175,2.0175,0]},e=>{e.parts.planeUniforms.uTimeCycleOffset.value=.75,e.parts.colors[1].set("#3b3426"),e.parts.colors[2].set("#de2566")}),(0,d.cY)(new M,{parent:e,scaleScalar:4,position:[0,0,-1]},e=>{e.parts.planeUniforms.uTimeCycleOffset.value=.75,e.parts.colors[1].set("#fcff99"),e.parts.colors[2].set("#170551")})},[]),null}function O(){return(0,c.Ky)(function*(e){(0,l.a)({three:e});let t=new s.F({size:10,perspective:0});yield t.initialize(e.renderer.domElement),a.vB.get("three").set({minActiveDuration:60}),yield(0,a.RC)("three",n=>{let{aspect:r,camera:o}=e;t.update(o,r,n.deltaTime)}),yield(0,u.p)([[{code:"Space",modifiers:"shift"},()=>{document.body.requestFullscreen()}]])},[]),null}function E(){return(0,i.jsx)("div",{children:(0,i.jsxs)(c.H7,{children:[(0,i.jsx)(O,{}),(0,i.jsx)(A,{})]})})}},96966:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});let r="/three-xp/assets/",o={development:!1,assetsPath:r,assets:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(r).concat(e)}}},4917:function(e,t,n){"use strict";n.d(t,{H7:function(){return v},Ky:function(){return f},_v:function(){return h}});var r=n(78485),o=n(27275),i=n(52471),s=n(48583),a=n(48181),c=n(96966),l=n(11030);let u=(0,o.createContext)(null);function f(e,t){let n=(0,o.useContext)(u);return(0,s.sv)(async function*(t,r){if(e){let t=e(n,r);if(t&&"function"==typeof t.next)do{let{value:e,done:n}=await t.next();if(n)break;yield e}while(r.mounted)}},null!=t?t:"always"),n}function h(e,t,n){let r=(0,o.useMemo)(()=>new i.Group,[]);return r.name=e,f(async function*(e,n){if(e.scene.add(r),yield()=>{r.clear(),r.removeFromParent()},t){let o=t(r,e,n);if(o&&"function"==typeof o.next)do{let{value:e,done:t}=await o.next();if(t)break;yield e}while(n.mounted)}},n),r}function d(e){let{children:t,className:n}=e,l=(0,o.useMemo)(()=>new a.Vu,[]),{ref:f}=(0,s.sv)(function*(e){l.loader.setPath(c.v.assetsPath),yield l.initialize(e),Object.assign(window,{three:l,THREE:i})},[]);return(0,r.jsx)("div",{ref:f,className:"ThreeProvider absolute-through ".concat(null!=n?n:""),children:(0,r.jsx)(u.Provider,{value:l,children:t})})}function v(e){return(0,l.O)()&&(0,r.jsx)(d,{...e})}},11030:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(27275);function o(){let[e,t]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{t(!0)},[]),e}},8834:function(e,t,n){"use strict";n.d(t,{Leak:function(){return a},a:function(){return s}});var r=n(40855),o=n(79509),i=n(28142);function s(e){Object.assign(window,{...o,...r,...e,PRNG:i.T})}function a(e){return s(e),null}},37457:function(e,t,n){"use strict";function r(e,t){return"*"===t||("string"==typeof t?t===e:t instanceof RegExp?t.test(e):"function"==typeof t&&t(e))}n.d(t,{p:function(){return s}});let o={preventDefault:!1,strictTarget:void 0},i={key:"*",keyCaseInsensitive:!0,code:"*",noModifiers:!1,modifiers:""};function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[s,a,c]=1===t.length?[document.body,{},t[0]]:2===t.length?[t[0],{},t[1]]:t,{preventDefault:l}={...o,...a},u=e=>{var t;if((null!==(t=a.strictTarget)&&void 0!==t?!!t:s===document.body)&&e.target!==s)return;let{ctrlKey:n,altKey:o,shiftKey:u,metaKey:f}=e,h={event:e,modifiers:{ctrl:n,alt:o,shift:u,meta:f}};for(let t=0,s=c.length;t<s;t++){let[s,a]=c[t],{key:d,keyCaseInsensitive:v,code:p,noModifiers:x,modifiers:m}=function(e){let t="string"==typeof e?{...i,key:e}:{...i,...e};return t.keyCaseInsensitive&&"string"==typeof t.key&&(t.key=t.key.toLowerCase()),t}(s);Object.values({key:r(v?e.key.toLowerCase():e.key,d),code:r(e.code,p),noModifiers:!x||!1===n&&!1===o&&!1===u&&!1===f,modifiers:function(e,t){let{ctrlKey:n,altKey:r,shiftKey:o,metaKey:i}=e;if("function"==typeof t)return t({ctrl:n,alt:r,shift:o,meta:i});let{ctrl:s=!1,alt:a=!1,shift:c=!1,meta:l=!1}=Object.fromEntries(t.split("-").map(e=>[e,!0]));return s===n&&a===r&&c===o&&l===i}(e,m)}).every(Boolean)&&(l&&e.preventDefault(),a(h))}};return s.addEventListener("keydown",u,{passive:!1}),{destroy:()=>{s.removeEventListener("keydown",u)}}}},39680:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(52471),o=n(81796);let i=new r.Matrix4,s=new r.Vector3,a=new r.Quaternion,c=new r.Quaternion,l={fov:"45deg",perspective:1,zoom:1,focus:[0,0,0],size:[4,4],before:100,after:1e3,rotation:[0,0,0,"YXZ"],frame:"contain",allowOrthographic:!0,fovEpsilon:"1.5deg",nearMin:.1};class u{set(e){let{perspective:t,fov:n,zoom:r,focus:i,size:s,before:a,after:c,rotation:l,frame:u,allowOrthographic:f,fovEpsilon:h,nearMin:d}=e;return void 0!==t&&(this.perspective=t),void 0!==n&&(this.fov=(0,o.FE)(n)),void 0!==r&&(this.zoom=r),void 0!==i&&(0,o.Q7)(i,this.focus),void 0!==s&&(0,o.iK)(s,this.size),void 0!==a&&(this.before=a),void 0!==c&&(this.after=c),void 0!==l&&(0,o.Gg)(l,this.rotation),void 0!==u&&(this.frame="string"==typeof u?"cover"===u?0:1:u),void 0!==f&&(this.allowOrthographic=f),void 0!==h&&(this.fovEpsilon=(0,o.FE)(h)),void 0!==d&&(this.nearMin=d),this}copy(e){return this.perspective=e.perspective,this.fov=e.fov,this.zoom=e.zoom,this.focus.copy(e.focus),this.size.copy(e.size),this.before=e.before,this.after=e.after,this.rotation.copy(e.rotation),this.frame=e.frame,this.allowOrthographic=e.allowOrthographic,this.fovEpsilon=e.fovEpsilon,this.nearMin=e.nearMin,this}clone(){return new u().copy(this)}lerpVertigos(e,t,n){this.perspective=e.perspective+(t.perspective-e.perspective)*n,this.fov=e.fov+(t.fov-e.fov)*n;let r=Math.log(e.zoom)/Math.log(.001),o=r+(Math.log(t.zoom)/Math.log(.001)-r)*n;return this.zoom=.001**o,this.focus.lerpVectors(e.focus,t.focus,n),this.size.lerpVectors(e.size,t.size,n),this.before=e.before+(t.before-e.before)*n,this.after=e.after+(t.after-e.after)*n,a.setFromEuler(e.rotation),c.setFromEuler(t.rotation),this.rotation.setFromQuaternion(a.slerp(c,n)),this.frame=e.frame+(t.frame-e.frame)*n,this.allowOrthographic=n<.5?e.allowOrthographic:t.allowOrthographic,this.fovEpsilon=e.fovEpsilon+(t.fovEpsilon-e.fovEpsilon)*n,this.nearMin=e.nearMin+(t.nearMin-e.nearMin)*n,this}lerp(e,t){return this.lerpVertigos(this,e,t)}apply(e,t){let n=this.size.x/this.size.y/t,r=1+(n>1?this.frame:1-this.frame)*(n-1),o=this.size.y*r/this.zoom,a=this.fovEpsilon,c=this.perspective*this.fov;!this.allowOrthographic&&c<a&&(c=a);let l=o/2/Math.tan(c/2),u=c>=a,f=u?l:this.before+this.nearMin;if(i.makeRotationFromEuler(this.rotation),s.set(i.elements[8],i.elements[9],i.elements[10]).multiplyScalar(f).add(this.focus),e.position.copy(s),e.rotation.copy(this.rotation),e.updateMatrix(),e.updateMatrixWorld(!0),e.isPerspectiveCamera=u,e.isOrthographicCamera=!u,u){let n=Math.max(this.nearMin/this.zoom,l-this.before),r=l+this.after,i=o*n/l/2,s=i*t;e.fov=180*c/Math.PI,e.projectionMatrix.makePerspective(-s,s,i,-i,n,r)}else{let n=this.nearMin/this.zoom,r=n+this.before+this.after,i=o/2,s=i*t;e.fov=0,e.projectionMatrix.makeOrthographic(-s,s,i,-i,n,r)}return e.projectionMatrixInverse.copy(e.projectionMatrix).invert(),this.computedNdcScalar.set(r*t,r),this.computedSize.set(o*t,o),this}toDeclaration(){let e=[(0,o.ux)(this.rotation.x,"deg"),(0,o.ux)(this.rotation.y,"deg"),(0,o.ux)(this.rotation.z,"deg"),this.rotation.order];return{perspective:this.perspective,fov:(0,o.ux)(this.fov,"deg"),zoom:this.zoom,focus:this.focus.toArray(),size:this.size.toArray(),before:this.before,after:this.after,rotation:e,frame:this.frame,allowOrthographic:this.allowOrthographic,fovEpsilon:(0,o.ux)(this.fovEpsilon,"deg"),nearMin:this.nearMin}}constructor(e){this.focus=new r.Vector3,this.size=new r.Vector2,this.rotation=new r.Euler,this.computedNdcScalar=new r.Vector2,this.computedSize=new r.Vector2,this.set({...l,...e})}}},494:function(e,t,n){"use strict";n.d(t,{F:function(){return v}});var r=n(52471),o=n(74831),i=n(63425),s=n(1296),a=n(77552),c=n(81796),l=n(39680);let u=new r.Quaternion,f=new r.Vector3,h=new r.Vector3;function d(e){u.setFromEuler(e),f.set(1,0,0).applyQuaternion(u),h.set(0,1,0).applyQuaternion(u)}class v extends s.N{pan(e,t){d(this.vertigo.rotation);let n=1/this.vertigo.zoom;this.vertigo.focus.addScaledVector(f,e*n).addScaledVector(h,t*n)}rotate(e,t){this.vertigo.rotation.x+=e,this.vertigo.rotation.y+=t}zoomAt(e,t){let n=this.vertigo.size.x/this.vertigo.zoom,r=this.vertigo.size.y/this.vertigo.zoom,o=this.vertigo.size.x/e,i=this.vertigo.size.y/e;d(this.vertigo.rotation);let{x:s,y:a}=t;this.vertigo.focus.addScaledVector(f,-((o-n)*s)).addScaledVector(h,-((i-r)*a)),this.vertigo.zoom=e}*doInitialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;yield function(e,t){for(let[n,r]of Object.entries(t))e.addEventListener(n,r);return{destroy(){for(let[n,r]of Object.entries(t))e.removeEventListener(n,r)}}}(e,{contextmenu:e=>{e.preventDefault()}});let t=new r.Vector2;yield(0,o.w)(e,{onChange:n=>{let r=e.getBoundingClientRect(),o=(n.localPosition.x-r.x)/r.width*2-1,i=-((n.localPosition.y-r.y)/r.height*2-1);t.set(o/2,i/2).multiply(this.vertigo.computedNdcScalar)},dragButton:-1,onDrag:e=>{switch(e.button){case o.M.Left:this.rotate(-.01*e.delta.y,-.01*e.delta.x);break;case o.M.Right:this.pan(-.005*e.delta.x,.005*e.delta.y)}},wheelPreventDefault:!0,onWheel:e=>{let n=this.vertigo.zoom*(1-.001*e.delta.y);e.event.altKey?this.zoomAt(n,t):this.zoomAt(n,{x:0,y:0})}})}initialize(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.collect(this.doInitialize(...t)),this}update(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/60,r=(0,a.M3)(this.dampingDecayFactor,n);this.dampedVertigo.lerp(this.vertigo,r).apply(e,t)}constructor(e={}){super(),this.dampingDecayFactor=1e-4,this.vertigo=new l.a,this.dampedVertigo=new l.a,this.actions={togglePerspective:()=>{let e=this.vertigo.perspective>.5?0:1;i.fw.tween({target:[this.vertigo,"perspective"],to:{perspective:e},duration:1,ease:"inOut3"})},focus:e=>{i.fw.tween({target:this.vertigo.focus,to:(0,c.Q7)(e),duration:1,ease:"inOut3"})},rotate:(e,t,n)=>{let o=new r.Quaternion().setFromEuler(this.vertigo.rotation),s=new r.Quaternion().setFromEuler(new r.Euler(e,t,n,"YXZ")),a=new r.Quaternion;i.fw.during({target:[this.vertigo,"rotation"],duration:1}).onUpdate(e=>{let{progress:t}=e;a.slerpQuaternions(o,s,i.fw.ease("inOut3")(t)),this.vertigo.rotation.setFromQuaternion(a)})},positiveXAlign:()=>{this.actions.rotate(0,Math.PI/2,0)},negativeXAlign:()=>{this.actions.rotate(0,-Math.PI/2,0)},positiveYAlign:()=>{this.actions.rotate(-Math.PI/2,0,0)},negativeYAlign:()=>{this.actions.rotate(Math.PI/2,0,0)},positiveZAlign:()=>{this.actions.rotate(0,0,0)},negativeZAlign:()=>{this.actions.rotate(0,Math.PI,0)}},this.vertigo.set(e),this.dampedVertigo.set(e)}}},38137:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(52471);let o=new r.IcosahedronGeometry(1,4);class i extends r.Mesh{constructor(e){super(o,new r.MeshBasicMaterial({color:"#0c529d",...e,side:r.BackSide,depthWrite:!1,depthTest:!1})),this.renderOrder=-1,this.frustumCulled=!1,this.matrixAutoUpdate=!1,this.onBeforeRender=(e,t,n)=>{let r=(n.near+n.far)/2;this.position.copy(n.position),this.scale.setScalar(r),this.updateMatrix(),this.updateMatrixWorld()}}}},49635:function(e,t,n){"use strict";n.d(t,{$:function(){return s},E:function(){return c}});var r=n(52471),o=n(81796);let i=new r.Matrix4;function s(e){return(0,o.Xe)(e,i)}let a=new r.Color;function c(e){return a.set(e)}},94588:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(52471),o=n(81796);new r.Vector3(0,0,0),new r.Euler(0,0,0,"XYZ"),new r.Vector3(1,1,1);let i={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,visible:void 0,name:void 0,parent:void 0};function s(e,t){let{x:n,y:s,z:a,position:c=new r.Vector3(n,s,a),rotationX:l,rotationY:u,rotationZ:f,rotationOrder:h,rotationUnit:d,rotation:v,scaleX:p,scaleY:x,scaleZ:m,scaleScalar:y,scale:g=new r.Vector3(p,x,m).multiplyScalar(y),visible:w,name:z,parent:b}={...i,...t};return(0,o.Q7)(c,e.position),(0,o.Gg)(null!=v?v:[l,u,f,h,d],e.rotation),(0,o.Q7)(g,e.scale),void 0!==w&&(e.visible=w),void 0!==z&&(e.name=z),void 0!==b&&b.add(e),e}},87858:function(e,t,n){"use strict";n.d(t,{H$:function(){return a},bB:function(){return s},cY:function(){return i}});var r=n(52471),o=n(94588);function i(e,t,n){return t&&(t instanceof r.Object3D?t.add(e):(0,o.N)(e,t)),null==n||n(e),e}let s=i;function a(e,t){return function(e,t){let n=e;for(;n.parent;){if(n.parent===t)return!0;n=n.parent}return!1}(t,e)}},55244:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(70155);let o="\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex \n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20201014 (stegu)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n// \n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+10.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\n\n\n\n\n// 2D:\n\nvec3 mod289_2d(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_2d(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_2d(vec3 x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\n\nfloat snoise(vec2 v) {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_2d(i); // Avoid truncation effects in permutation\n  vec3 p = permute_2d( permute_2d( i.y + vec3(0.0, i1.y, 1.0 ))\n		+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// 3D: \n\nfloat snoise(vec3 v)\n{ \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n  // Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 105.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\n\n\n\n// addons:\n// Fractal noise, based on Stefan Gustavson's Simplex noise\n".concat((0,r.C)(["vec2","vec3"],"\n  float fnoise(T p, int octaves, float persistence) {\n    float total = 0.0;           // Final noise value\n    float amplitude = 1.0;       // Initial amplitude\n    float frequency = 1.0;       // Initial frequency\n    float maxValue = 0.0;        // Used for normalization\n\n    for (int i = 0; i < octaves; i++) {\n      total += snoise(p * frequency) * amplitude;\n\n      maxValue += amplitude;   // Keep track of max amplitude\n      amplitude *= persistence; // Reduce amplitude for next octave\n      frequency *= 2.0;        // Increase frequency for next octave\n    }\n\n    // Normalize the result to stay within the range [0, 1]\n    return total / maxValue;\n  }\n"),"\n")},40855:function(e,t,n){"use strict";function r(e,t){for(let n of e)if(t(n))return!0;return!1}function o(e,t){for(let n of e)if(!t(n))return!1;return!0}function i(e,t,n){let r=[];function o(e){let t=[];return r[e]=t,t}if(void 0!==n)for(let e=0;e<n;e++)o(e);for(let n of e){var i;let e=t(n);(null!==(i=r[e])&&void 0!==i?i:o(e)).push(n)}return r}n.r(t),n.d(t,{every:function(){return o},some:function(){return r},split:function(){return i}})},16573:function(e,t,n){"use strict";function*r(e){let t=0,n={get i(){return t},get t(){return t/e},get p(){return t/(e-1)}};for(t=0;t<e;t++)yield n}function*o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=0,o=0;2===t.length?(r=t[0],o=t[1]):Array.isArray(t[0])?(r=t[0][0],o=t[0][1]):(r=t[0].x,o=t[0].y);let i=0,s=0,a=0,c={get i(){return i},get x(){return s},get y(){return a},get tx(){return s/r},get ty(){return a/o},get px(){return s/(r-1)},get py(){return a/(o-1)}};for(a=0;a<o;a++)for(s=0;s<r;s++)yield c,i++}function*i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=0,o=0,i=0;3===t.length?(r=t[0],o=t[1],i=t[2]):Array.isArray(t[0])?(r=t[0][0],o=t[0][1],i=t[0][2]):(r=t[0].x,o=t[0].y,i=t[0].z);let s=0,a=0,c=0,l=0,u={get i(){return s},get x(){return a},get y(){return c},get z(){return l},get tx(){return a/r},get ty(){return c/o},get tz(){return l/i},get px(){return a/(r-1)},get py(){return c/(o-1)},get pz(){return l/(i-1)}};for(l=0;l<i;l++)for(c=0;c<o;c++)for(a=0;a<r;a++)yield u,s++}n.d(t,{B0:function(){return o},KA:function(){return i},VX:function(){return r}})},28142:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return(e=(e=(7*e+Math.sqrt(e)+16087*Math.sin(e))%2147483647)<0?e+2147483647:e)>1?2147483647&e:0===e?345678:123456},o=e=>e=2147483647&Math.imul(e,48271),i=e=>(e-1)/2147483646,s=e=>e,a={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function c(){let e=o(o(r(123456)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123456;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=o(o(r(t))),f}function n(){return i(e=o(e))}function c(e){switch(e.length){default:return[0,1,s];case 1:return[0,e[0],s];case 2:return[e[0],e[1],s];case 3:return[e[0],e[1],e[2]]}}function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o,i,s]=c(t);return o+(i-o)*s(n())}function u(){for(var e,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];let[i,s,{weightsAreNormalized:c,indexOffset:l,forbiddenItems:u}]=function(e){let[t,n=null,r]=e,o={...a,...r};if(Array.isArray(t))return[t,n,o];if("object"==typeof t)return[Object.values(t),n?Object.values(n):null,o];throw Error("pick: unsupported options type")}(r);if(u.length>0){let t=new Set;for(let e of u){let n=i.indexOf(e);n>=0&&t.add(n)}if(i=i.filter((e,n)=>!t.has(n)),s=null!==(e=null==s?void 0:s.filter((e,n)=>!t.has(n)))&&void 0!==e?e:null,0===i.length)throw Error("pick: all items are forbidden")}if(null===s){let e=Math.floor(n()*i.length);return l&&(e+=l,(e%=i.length)<0&&(e+=i.length)),i[e]}if(!c){let e=s.reduce((e,t)=>e+t,0);s=s.map(t=>t/e)}let f=n(),h=0;for(let e=0;e<i.length;e++)if(f<(h+=s[e]))return i[e];throw Error("among: unreachable")}let f={seed:t,seedMax:function(){return 2147483647},reset:function(){return t(123456),f},next:function(){return e=o(e),f},random:n,between:l,around:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o=1,i=s]=t,a=2*n();return(a>1?1:-1)*i(a>1?a-1:a)*o},int:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o,i,s]=c(t);return o+Math.floor(s(n())*(i-o))},chance:function(e){return n()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t&&Array.isArray(e)?e:[...e],o=r.length;for(let e=0;e<o;e++){let t=Math.floor(o*n()),i=r[e];r[e]=r[t],r[t]=i}return r},pick:u,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),n=e.map(e=>{let[t,n]=e;return n}),r=n.reduce((e,t)=>e+t,0);for(let[e,t]of n.entries())n[e]=t/r;return()=>u(t,n,{weightsAreNormalized:!0})},vector:function(e,t){let[n=0,r=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=l(n,r);return e},unitVector:function(e,t){let[n=-1,r=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max],o=Object.keys(e),i=o.map(()=>l(n,r)),s=Math.sqrt(i.reduce((e,t)=>e+t*t,0));for(let[t,n]of o.entries())e[n]=i[t]/s;return e},boxMuller:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),o=n(),i=Math.sqrt(-2*Math.log(r)),s=2*Math.PI*o;return[e+t*i*Math.cos(s),e+t*i*Math.sin(s)]}};return f}let l=class{constructor(e){Object.assign(this,c().seed(e))}};Object.assign(l,c())},32717:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return r}})}},function(e){e.O(0,[5244,6712,6666,5792,2452,7741,2722,4940,8648,4831,9918,8181,3425,6257,2920,7936,1744],function(){return e(e.s=38909)}),_N_E=e.O()}]);