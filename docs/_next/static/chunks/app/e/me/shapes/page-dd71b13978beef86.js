(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9432],{18044:(t,e,n)=>{"use strict";n.d(e,{p:()=>c});var s=n(49797);let a={vectorZ:new s.Pq0(0,0,1),point:new s.Pq0,point2:new s.Pq0,tangent:new s.Pq0,normal:new s.Pq0},r={width:1,steps:100,roundCapSegments:17},o=new s.Pq0,i=new s.Pq0,l=new s.Pq0;class c extends s.LoY{update(){return!function(t,e,n){var r,c;let{width:u,steps:h,roundCapSegments:d}=e,p=n.attributes.position.array,m=n.attributes.uv.array,{vectorZ:g,point:f,point2:w,tangent:y,normal:v}=a,[b,P]=Array.isArray(u)?u:[u/2,u/2],x=t.getLength();o.set(1/0,1/0,1/0),i.set(-1/0,-1/0,-1/0);for(let e=0;e<=h;e++){let n=e/h;t.getPoint(n,f),t.getTangent(n,y),v.crossVectors(y,g).normalize(),o.min(f),i.max(f),p[2*e*3+0]=f.x+v.x*b,p[2*e*3+1]=f.y+v.y*b,p[2*e*3+2]=f.z+v.z*b,m[2*e*2+0]=n,m[2*e*2+1]=0,p[(2*e+1)*3+0]=f.x-v.x*P,p[(2*e+1)*3+1]=f.y-v.y*P,p[(2*e+1)*3+2]=f.z-v.z*P,m[(2*e+1)*2+0]=n,m[(2*e+1)*2+1]=1}t.getPoint(0,f),t.getTangent(0,y),v.crossVectors(y,a.vectorZ).normalize(),f.addScaledVector(v,(b-P)/2);let A=(b+P)/2,T=(h+1)*2;for(let t=0;t<d;t++){let e=(t+1)/(d+1)*Math.PI,n=Math.cos(e),s=Math.sin(e);w.copy(f).addScaledVector(v,n*A).addScaledVector(y,-s*A),p[3*T+3*t+0]=w.x,p[3*T+3*t+1]=w.y,p[3*T+3*t+2]=w.z,m[2*T+2*t+0]=-s*A/x,m[2*T+2*t+1]=.5+-(.5*n)}t.getPoint(1,f),t.getTangent(1,y),v.crossVectors(y,a.vectorZ).normalize(),f.addScaledVector(v,(b-P)/2);let M=T+d;for(let t=0;t<d;t++){let e=(t+1)/(d+1)*Math.PI,n=Math.cos(e),s=Math.sin(e);w.copy(f).addScaledVector(v,n*A).addScaledVector(y,s*A),p[3*M+3*t+0]=w.x,p[3*M+3*t+1]=w.y,p[3*M+3*t+2]=w.z,m[2*M+2*t+0]=1+s*A/x,m[2*M+2*t+1]=.5+-(.5*n)}n.attributes.position.needsUpdate=!0,n.attributes.uv.needsUpdate=!0,n.computeVertexNormals(),null!=n.boundingBox||(n.boundingBox=new s.NRn),n.boundingBox.set(o,i),n.boundingBox.expandByScalar(Math.max(b,P)),l.subVectors(i,o),null!=n.boundingSphere||(n.boundingSphere=new s.iyt),n.boundingSphere.center.set((o.x+i.x)/2,(o.y+i.y)/2,(o.z+i.z)/2),n.boundingSphere.radius=.5*l.length()}(this.curve,this.params,this),this}constructor(t,e){super(),this.state={ribbon:{start:0,count:0},capStart:{start:0,count:0},capEnd:{start:0,count:0},total:{count:0}},this.params={...r,...e},this.curve=t;let{steps:n,roundCapSegments:a}=this.params;this.state.ribbon.count=(n+1)*2,this.state.capStart.start=this.state.ribbon.count,this.state.capStart.count=2*a,this.state.capEnd.start=this.state.capStart.start+this.state.capStart.count,this.state.capEnd.count=2*a,this.state.total.count=this.state.ribbon.count+this.state.capStart.count+this.state.capEnd.count;let{count:o}=this.state.total,i=new Float32Array(3*o),l=new Float32Array(2*o),c=[];for(let t=0;t<n;t++){let e=2*t;c.push(e,e+2,e+1,e+1,e+2,e+3)}let u=(n+1)*2,h=u+a;c.push(0,1,u),c.push(1,u+a-1,u),c.push(2*n,h,2*n+1),c.push(2*n+1,h,h+a-1);let d=Math.floor(a/2-1);for(let t=0;t<d;t++)c.push(u+t+1,u+t,u+a-1-t),c.push(u+t+1,u+a-1-t,u+a-2-t),c.push(h+t,h+t+1,h+a-1-t),c.push(h+t+1,h+a-2-t,h+a-1-t);a%2==1&&(c.push(u+d+1,u+d,u+d+2),c.push(h+d,h+d+1,h+d+2)),this.setIndex(c),this.setAttribute("position",new s.THS(i,3)),this.setAttribute("uv",new s.THS(l,2)),this.update()}}},19264:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ResponsiveProvider:()=>c,useResponsive:()=>i});var s=n(70691),a=n(67203),r=n(74245);let o=(0,a.createContext)(null);function i(){let t=(0,a.useContext)(o);if(!t)throw Error("useResponsive must be used within a ResponsiveProvider");return t}class l{constructor(){this.responsive=new r.Ft,this.frameId=-1,this.update=()=>{this.frameId=window.requestAnimationFrame(this.update);let{innerWidth:t,innerHeight:e}=window,{layoutObs:n,viewportObs:s}=this.responsive,a=navigator.maxTouchPoints>0?r.gm.Touch:r.gm.Mouse;if(t!==s.value.width||e!==s.value.height||a!==n.value.pointerType){for(let o of(s.mutate({width:t,height:e}),n.enqueueMutation(s.value.computeLayout()),n.enqueueMutation({pointerType:a}),n.flushMutations(),document.documentElement.style.setProperty("--viewport-width","".concat(t,"px")),document.documentElement.style.setProperty("--viewport-height","".concat(e,"px")),Object.values(r.Gy)))document.documentElement.classList.toggle(o,n.value.screenSize===o);for(let t of Object.values(r.t4))document.documentElement.classList.toggle(t,n.value.orientation===t);for(let t of Object.values(r.gm))document.documentElement.classList.toggle(t,n.value.pointerType===t)}},this.destroy=()=>{window.cancelAnimationFrame(this.frameId)},this.update()}}function c(t){let{children:e}=t,n=(0,a.useMemo)(()=>new l,[]);return(0,a.useEffect)(()=>n.destroy),(0,s.jsx)(o.Provider,{value:n.responsive,children:e})}},60520:(t,e,n)=>{Promise.resolve().then(n.bind(n,96365))},66573:(t,e,n)=>{"use strict";n.d(e,{J:()=>i,y:()=>o});var s=n(49797);let a=2*Math.PI,r={length:5,amplitude:.1,frequency:1,phase:0,offset:0,zCosineAmplitude:null};class o extends s.Ipv{getPoint(t,e){let{length:n,amplitude:r,frequency:o,phase:i,offset:l,zCosineAmplitude:c}=this.params,u=(o*(n*t+l)+i)*a,h=r*Math.sin(u),d=(null!=c?c:.1*r)*Math.cos(u);return(null!=e?e:new s.Pq0).set(t*n+l,h,d)}getTangent(t,e){let{length:n,amplitude:r,frequency:o,phase:i,offset:l,zCosineAmplitude:c}=this.params,u=r*o*n*a*Math.cos((o*(n*t+l)+i)*a);return(null!=e?e:new s.Pq0).set(n,u,0).normalize()}constructor(t={}){super(),this.params={...r,...t}}}class i extends s.Ipv{getPoint(t,e){let{length:n,amplitude:r,frequency:o,offset:i,zCosineAmplitude:l}=this.params,c=r*Math.sin((o*t+i)*a),u=(null!=l?l:.1*r)*Math.cos((o*t+i)*a);return(null!=e?e:new s.Pq0).set(t*n+i,c,u)}getTangent(t,e){let{length:n,amplitude:r,frequency:o,offset:i}=this.params,l=r*o*a*Math.cos((o*t+i)*a);return(null!=e?e:new s.Pq0).set(n,l,0).normalize()}constructor(t={}){super(),this.params={...r,...t}}}},66620:(t,e,n)=>{"use strict";n.d(e,{_:()=>r});var s=n(89868),a=n(44138);function r(t,e){var n=(0,a._)(t,e,"update");return(0,s._)(t,n)}},67941:(t,e,n)=>{"use strict";n.d(e,{Gy:()=>a.Gy,OH:()=>s.ResponsiveProvider,Qs:()=>s.useResponsive});var s=n(19264),a=n(74245)},71519:(t,e,n)=>{"use strict";n.d(e,{V:()=>o});var s=n(44694),a=n(54480);let r={size:1,thickness:.8/3,aperture:.44/3,depth:.4};class o{setTransform(t){return this.transform=t,this}getPathData(){let t=this.params.size,e=this.params.thickness,n=this.params.aperture,s=this.params.depth-n/2,r=(t-e)/2;return a.iy.instance.clear().moveTo(-t/2,-e/2).arc({center:[-t/2,-t/2],radius:r,startAngle:"90deg",endAngle:"0deg"}).lineTo(-n/2,-t/2).lineTo(-n/2,-(t/2-s)).arc({center:[0,-(t/2-s)],radius:n/2,startAngle:"180deg",endAngle:"0deg"}).lineTo(n/2,-t/2).lineTo(e/2,-t/2).arc({center:[t/2,-t/2],radius:r,startAngle:"180deg",endAngle:"90deg"}).lineTo(t/2,-n/2).lineTo(t/2-s,-n/2).arc({center:[t/2-s,0],radius:n/2,startAngle:"270deg",endAngle:"90deg"}).lineTo(t/2,n/2).lineTo(t/2,e/2).arc({center:[t/2,t/2],radius:r,startAngle:"270deg",endAngle:"180deg"}).lineTo(n/2,t/2).lineTo(n/2,t/2-s).arc({center:[0,t/2-s],radius:n/2,startAngle:"0deg",endAngle:"-180deg"}).lineTo(-n/2,t/2).lineTo(-e/2,t/2).arc({center:[-t/2,t/2],radius:r,startAngle:"0deg",endAngle:"-90deg"}).lineTo(-t/2,n/2).lineTo(-t/2+s,n/2).arc({center:[-t/2+s,0],radius:n/2,startAngle:"90deg",endAngle:"-90deg"}).lineTo(-t/2,-n/2).closePath(),a.iy.instance.applyTransform(this.transform).getPathData()}getSvgHelpers(){let{color:t="red"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,a.QB)(this.transform),n=(Math.hypot(e[0],e[1])+Math.hypot(e[2],e[3]))/2,r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];let{x:i,y:l}=(0,s.wX)(2===r.length?r:r[0]),{x:c,y:u}=(0,a.WX)(e,{x:i,y:l});return'<circle cx="'.concat(c,'" cy="').concat(u,'" r="2" fill="').concat(t,'" />')},o=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];let{x:i,y:l,z:c}=(0,s.jj)(r.length>1?r:r[0]),{x:u,y:h}=(0,a.WX)(e,{x:i,y:l});return'<circle cx="'.concat(u,'" cy="').concat(h,'" r="').concat(c||4,'" stroke="').concat(t,'" fill="none" stroke-dasharray="4 4" />')},i=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];let{x:i,y:l}=(0,s.wX)(2===r.length?r:r[0]),{x:c,y:u}=(0,a.WX)(e,{x:i,y:l});return'<line x1="'.concat(c-4,'" y1="').concat(u,'" x2="').concat(c+4,'" y2="').concat(u,'" stroke="').concat(t,'" stroke-width="1" />\n              <line x1="').concat(c,'" y1="').concat(u-4,'" x2="').concat(c,'" y2="').concat(u+4,'" stroke="').concat(t,'" stroke-width="1" />')},l=this.params.size,c=this.params.thickness,u=this.params.aperture;return[r(0,0),i(-l/2,-l/2),i(l/2,-l/2),i(l/2,l/2),i(-l/2,l/2),o(-l/2,-l/2,l/2*n),o(l/2,-l/2,l/2*n),o(l/2,l/2,l/2*n),o(-l/2,l/2,l/2*n),function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];let{x:i,y:l,z:c}=(0,s.jj)(r.length>1?r:r[0]),{x:u,y:h}=(0,a.WX)(e,{x:i,y:l});return'<circle cx="'.concat(u,'" cy="').concat(h,'" r="').concat(c||4,'" stroke="').concat(t,'" fill="none" />')}(-l/2,-c/2),r(-l/2,-c/2),r(-l/2,-u/2),r(-l/2,u/2),r(-l/2,c/2),r(-c/2,-l/2),r(-u/2,-l/2),r(u/2,-l/2),r(c/2,-l/2),r(l/2,-c/2),r(l/2,-u/2),r(l/2,u/2),r(l/2,c/2),r(c/2,l/2),r(u/2,l/2),r(-u/2,l/2),r(-c/2,l/2)].join("\n")}constructor(t){this.transform={},this.params={...r,...t}}}},74245:(t,e,n)=>{"use strict";n.d(e,{Ft:()=>c,Gy:()=>a,gm:()=>o,t4:()=>r});var s=n(85795),a=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t}({}),r=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}({}),o=function(t){return t.Touch="touch",t.Mouse="mouse",t}({});class i{constructor(){this.screenSize="desktop",this.orientation="landscape",this.pointerType="mouse"}}class l{get aspect(){return this.width/this.height}computeLayout(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i;return n.orientation=this.aspect>=1?"landscape":"portrait",t=this.width,this.height,n.screenSize=t<768?"mobile":t<1024?"tablet":"desktop",n}constructor(t,e){this.width=t,this.height=e}}class c{constructor(){this.layoutObs=new s.ObservableTree(new i),this.viewportObs=new s.ObservableTree(new l(1280,1024))}}},96365:(t,e,n)=>{"use strict";n.d(e,{ShapesPage:()=>T});var s=n(70691),a=n(49797),r=n(33540),o=n(77794),i=n(7147),l=n(79911),c=n(79285),u=n(85795),h=n(54480),d=n(67941),p=n(71519),m=n(18044),g=n(66573);let f=new(n(79782)).c;function w(t,e){return function(t){let{scale:e=.005,align:n=.5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=f.parse(t),r=new a.MSw(s.paths[0].toShapes(!0)).scale(e,e,e);if(null!==n){r.computeBoundingBox();let{min:t,max:e}=r.boundingBox,s=-(t.x+(e.x-t.x)*n),a=-(t.y+(e.y-t.y)*n);r.translate(s,a,0)}return r}('\n    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-1 -1 2 2">\n      <path d="'.concat(t,'"/>\n    </svg>\n  '),e)}let y={lightGrey:"#d9d9d9",mediumGrey:"#6b6b6b",cyan:"#5bfff7",blue:"#1706ff",fuchsia:"#ff00aa"};class v extends a.YJl{get pinWorldPosition(){return this.parts.externalPin.getWorldPosition(this.state.pinWorldPosition),this.state.pinWorldPosition}onTick(t){let{ring:e}=this.parts,n=-2*t.deltaTime,s=(0,c.positiveModulo)(e.rotation.z+n,2*Math.PI);e.rotation.z=s}constructor(...t){super(...t),this.params={...v.defaultParams},this.parts=(()=>{let{armLength:t,thickness:e,wheelRadius:n}=this.params,s=new a.V9B({color:y.mediumGrey}),r=(0,l.mj)(new a.eaF(new a.bdM(t,e).translate(-t/2,0,0),s),this);r.position.set(t*Math.SQRT1_2,t*Math.SQRT1_2,0),r.rotation.z=Math.PI/4,(0,l.mj)(new a.eaF(new m.p(new g.y({amplitude:.04,length:t,frequency:2.5,zCosineAmplitude:-.005}),{width:4*e,steps:1e3}),new a.V9B({color:y.fuchsia})),{name:"wire",parent:r,position:[-t,0,0]});let o=(0,l.mj)(new a.eaF(new a.rKP(n-e/2,n+e/2,96),s),this),i=(0,l.mj)(new a.eaF(new a.bdM(2*n,e),s),o);i.rotation.z=Math.PI/2;let c=(0,l.mj)(new a.eaF(new a.tcD(.03,32),s),o),u=(0,l.mj)(new a.eaF(new a.tcD(.06,32),new a.V9B({color:y.blue})),o);return u.position.set(-n,0,0),{arm:r,ring:o,line:i,centralPin:c,externalPin:u}})(),this.state={pinWorldPosition:new a.Pq0}}}v.defaultParams={armLength:8,thickness:.005,wheelRadius:.5};class b extends a.YJl{updateFromPinPosition(t){let{worldPosition:e,worldPinDelta:n}=this.state;this.getWorldPosition(e),n.subVectors(t,e);let{pinDistanceObs:s}=this.state;if(s.set(n.length()),s.isBelow(.5)&&(this.state.rotation=this.state.rotationOffset+Math.atan2(n.y,n.x)),s.passed("below",.5)&&(this.state.rotationStart=(0,c.round)(this.state.rotation,Math.PI/2)),s.passed("above",.5)){let t=(0,c.round)(this.state.rotation-this.state.rotationStart,Math.PI/2);this.state.rotationOffset+=t,console.log(this.state.rotation)}this.rotation.z=this.state.rotation}constructor(...t){super(...t),this.parts=(()=>{let t=new p.V().getPathData(),e=new a.V9B({color:y.lightGrey});e.onBeforeCompile=t=>i.bI.with(t).vertex.mainAfterAll("\n        gl_Position.z -= 0.0001;\n      ");let n=w(t,{scale:1}),s=(0,l.mj)(new a.eaF(n,e),this);return(0,l.mj)(new a.eaF(new a.tcD(.0125,32),new a.V9B({color:y.mediumGrey})),{parent:s,x:.5}),{mesh:s}})(),this.state={worldPosition:new a.Pq0,worldPinDelta:new a.Pq0,pinDistanceObs:new u.ObservableNumber(1/0),rotation:0,rotationStart:0,rotationOffset:0}}}class P extends a.YJl{onTick(t){this.parts.curve2.params.offset=t.time%(this.params.outerLength-this.params.innerLength),this.parts.geometry2.update()}constructor(){super(),this.params={outerLength:Math.sqrt(2),innerLength:.2,width:.15,amplitude:.05},this.parts=(()=>{let{outerLength:t,innerLength:e,width:n,amplitude:s}=this.params,r=new g.y({amplitude:s,length:t,frequency:2*t,zCosineAmplitude:0}),o=new m.p(r,{width:n,steps:100}),c=new a.V9B({color:y.cyan});c.onBeforeCompile=t=>i.bI.with(t).defines("USE_UV").vertex.mainAfterAll("\n        gl_Position.z += 0.011;\n      ").fragment.after("map_fragment","\n        float f = sin(vUv.x * PI2 * 3.0) * 0.5 + 0.5;\n        diffuseColor.rgb = mix(".concat((0,i.eR)(y.cyan),", ").concat((0,i.eR)("#fff"),", f * 0.4 - 0.2);\n      "));let u=(0,l.mj)(new a.eaF(o,c),this),h=new g.y({amplitude:s,length:e,frequency:2*t,offset:0,zCosineAmplitude:0}),d=new m.p(h,{width:+n,steps:100}),p=new a.V9B({color:y.blue});return p.onBeforeCompile=t=>i.bI.with(t).vertex.mainAfterAll("\n        gl_Position.z += 0.010;\n      "),{mesh1:u,mesh2:(0,l.mj)(new a.eaF(d,p),this),curve1:r,curve2:h,geometry1:o,geometry2:d}})(),(0,l.mj)(this,{rotation:"0, 0, 45deg"})}}class x extends a.YJl{constructor(...t){super(...t),this.parts=(()=>{let t=w(h.iy.instance.clear().regularPolygon({radius:.4,rotation:"20deg"}).getPathData(),{scale:1});return(0,l.mj)(new a.eaF(t,new a.V9B({color:y.blue})),this),{}})()}}function A(){let t=(0,r.Fw)();return(0,r.dB)("my-scene",function*(e){t.scene.background=new a.Q1f("#f0f0f0"),t.ticker.set({inactivityWaitDurationMinimum:30}),(0,l.mj)(new o.u,e),(0,l.mj)(new P,e),(0,l.mj)(new x,{name:"hexagon",position:[1,1,0],parent:e});let n=(0,l.mj)(new b,e),s=(0,l.mj)(new v,e);s.position.set(.5,-.5,0),yield t.ticker.onTick(t=>{n.updateFromPinPosition(s.pinWorldPosition)})}),null}function T(){return(0,s.jsx)(d.OH,{children:(0,s.jsxs)(r.uB,{vertigoControls:{size:3},fullscreenKey:{key:"f",modifiers:"shift"},children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Shapes Page"}),(0,s.jsx)(A,{})]})})}}},t=>{var e=e=>t(t.s=e);t.O(0,[5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,9782,146,487,3445,9332,3414,9717,1763,2143,3540,4480,1319,6852,7358],()=>e(60520)),_N_E=t.O()}]);