(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2314],{1e3:(e,t,n)=>{"use strict";function r(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}n.d(t,{_:()=>r})},15940:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(29443);function i(e,t){(0,r._)(e,t),t.add(e)}},17099:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(79105);let i=e=>e,o={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function l(){let e=(0,r.K2)((0,r.K2)((0,r.Ts)(r.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,r.K2)((0,r.K2)((0,r.Ts)(t))),u}function n(){return e=(0,r.K2)(e),(0,r.Tj)(e)}function l(e){switch(e.length){default:return[0,1,i];case 1:return[0,e[0],i];case 2:return[e[0],e[1],i];case 3:return[e[0],e[1],e[2]]}}function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o,a]=l(t);return i+(o-i)*a(n())}function s(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];let[l,a,{weightsAreNormalized:s,indexOffset:c,forbiddenItems:u}]=function(e){let[t,n=null,r]=e,i={...o,...r};if(Array.isArray(t))return[t,n,i];if("object"==typeof t)return[Object.values(t),n?Object.values(n):null,i];throw Error("pick: unsupported options type")}(r);if(u.length>0){let t=new Set;for(let e of u){let n=l.indexOf(e);n>=0&&t.add(n)}if(l=l.filter((e,n)=>!t.has(n)),a=null!=(e=null==a?void 0:a.filter((e,n)=>!t.has(n)))?e:null,0===l.length)throw Error("pick: all items are forbidden")}if(null===a){let e=Math.floor(n()*l.length);return c&&(e+=c,(e%=l.length)<0&&(e+=l.length)),l[e]}if(!s){let e=a.reduce((e,t)=>e+t,0);a=a.map(t=>t/e)}let d=n(),f=0;for(let e=0;e<l.length;e++)if(d<(f+=a[e]))return l[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),i=n(),o=Math.sqrt(-2*Math.log(r)),l=2*Math.PI*i;return[e+t*o*Math.cos(l),e+t*o*Math.sin(l)]}let u={seed:t,seedMax:function(){return r.Zu},reset:function(){return t(r.KP),u},next:function(){return e=(0,r.K2)(e),u},getState:function(){return e},setState:function(t){return e=t&r.Zu,u},random:n,between:a,around:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o=1,l=i]=t,a=2*n();return(a>1?1:-1)*l(a>1?a-1:a)*o},int:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o,a]=l(t);return i+Math.floor(a(n())*(o-i))},chance:function(e){return n()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t&&Array.isArray(e)?e:[...e],i=r.length;for(let e=0;e<i;e++){let t=Math.floor(i*n()),o=r[e];r[e]=r[t],r[t]=o}return r},pick:s,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),n=e.map(e=>{let[t,n]=e;return n}),r=n.reduce((e,t)=>e+t,0);for(let[e,t]of n.entries())n[e]=t/r;return()=>s(t,n,{weightsAreNormalized:!0})},vector:function(e,t){let[n=0,r=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=a(n,r);return e},unitVector2:function(e){let t=2*Math.PI*n();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=n(),r=n(),i=2*Math.PI*t,o=Math.acos(1-2*r);return e.x=Math.sin(o)*Math.cos(i),e.y=Math.sin(o)*Math.sin(i),e.z=Math.cos(o),e},normalVector:function(e){let t=Object.keys(e),n=t.length,r=Math.sqrt(n);for(let i=0;i<n;i+=2){let[o,l]=c();e[t[i]]=o/r,i+1<n&&(e[t[i+1]]=l/r)}return e},unitVector:function(e){let t=Object.keys(e),n=t.length,r=0;for(let i=0;i<n;i+=2){let[o,l]=c();e[t[i]]=o,r+=o*o,i+1<n&&(e[t[i+1]]=l,r+=l*l)}r=Math.sqrt(r);for(let i=0;i<n;i++)e[t[i]]/=r;return e},boxMuller:c,quaternion:function(e){let t=n(),r=n(),i=n(),o=Math.sqrt(1-t),l=Math.sqrt(t);return e.x=o*Math.sin(2*Math.PI*r),e.y=o*Math.cos(2*Math.PI*r),e.z=l*Math.sin(2*Math.PI*i),e.w=l*Math.cos(2*Math.PI*i),e},insideCircle:function(e,t){let r=2*n()*Math.PI,i=Math.sqrt(n())*e;return t.x=i*Math.cos(r),t.y=i*Math.sin(r),t}};return u}let a=class{constructor(e){Object.assign(this,l().seed(e))}};Object.assign(a,l())},21667:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});let r=new WeakMap,i=(e=>()=>{let t=r.get(e);if(void 0===t){let t=e();return r.set(e,t),t}return t})(()=>{let e=new WeakMap;return{resizeObserver:new ResizeObserver(t=>{for(let n of t){let t=e.get(n.target);if(t)for(let e of t)e(n)}}),resizeObserverMap:e}});class o{get width(){return this.size.x}get height(){return this.size.y}get aspect(){return this.size.x/this.size.y}constructor(e,t){this.element=e,this.size=t}}function l(e,t){let{onSize:n}=function(e){if("function"==typeof e)return{onSize:e};let{onSize:t=()=>{}}=null!=e?e:{};return{onSize:t}}(t),r=new DOMPoint(0,0);if(e instanceof Window){let t=()=>{r.x=window.innerWidth,r.y=window.innerHeight,n(new o(e,r))};return e.addEventListener("resize",t),t(),{destroy:()=>{e.removeEventListener("resize",t)}}}{var l;let{resizeObserver:t,resizeObserverMap:a}=i();t.observe(e);let s=null!=(l=a.get(e))?l:new Set,c=t=>{r.x=t.contentRect.width,r.y=t.contentRect.height,n(new o(e,r))};return a.set(e,s),s.add(c),{destroy:()=>{let n=a.get(e);if(!n)throw Error("Wtf??? No callbacks found for element");n.delete(c),0===n.size&&(a.delete(e),t.unobserve(e))}}}}},23127:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(89868),i=n(47878),o=n(1e3);function l(e,t,n){return(0,i._)(e,t),(0,o._)(n,"update"),(0,r._)(e,n)}},28535:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(75687),i=n(44138);function o(e,t){var n=(0,i._)(e,t,"get");return(0,r._)(e,n)}},28737:(e,t,n)=>{"use strict";n.d(t,{Leak:()=>d,O:()=>u});var r={};n.r(r),n.d(r,{distribute:()=>o.mn,every:()=>o.Si,findMaxBy:()=>o.vj,pairwise:()=>o.Ju,recordBy:()=>o.VY,some:()=>o.zN,split:()=>o.mn,uniqueBy:()=>o.pD});var i=n(30158),o=n(43107),l=n(38062),a=n(85795),s=n(17099),c=n(96122);function u(e){Object.assign(window,{...i,...a,...r,...e,PRNG:s.c,waveform:l.o,dedent:c.T})}function d(e){return u(e),null}},29443:(e,t,n)=>{"use strict";function r(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}n.d(t,{_:()=>r})},32137:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var r=n(70691),i=n(67203),o=n(63106),l=n(21667),a=n(18479),s=n(43865),c=n.n(s);let u=[c().frame,c().full];function d(e){let[t,n]=(0,i.useState)(0),{ref:s}=(0,a.useLayoutEffects)(function*(e){yield(0,l.G)(e,{onSize:t=>{let{x:n,y:r}=t.size;e.classList.toggle(c().landscape,n>r)}});let t=!1;yield(0,o.a)(document.documentElement,[[{key:"f",noModifiers:!0},r=>{r.event.preventDefault(),document.fullscreenElement!==e?(e.requestFullscreen(),t=!1):!1===t?(t=!0,n(1)):(document.exitFullscreen(),n(0))}]])},[]),{children:d,className:f}=e;return(0,r.jsx)("div",{ref:s,className:[c().Billboard,c().landscape,u[t],null!=f?f:""].join(" "),children:d})}},38062:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});let r={triangle:function(e){let{frequency:t=1,phase:n=0,f:r=t,p:i=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e*r+i,l=2*o-Math.floor(2*o);return o-Math.floor(o)<.5?l:1-l}}},43107:(e,t,n)=>{"use strict";function r(e,t){for(let n of e)if(t(n))return!0;return!1}function i(e,t){for(let n of e)if(!t(n))return!1;return!0}function o(e,t,n){let r=[];function i(e){let t=[];return r[e]=t,t}if(void 0!==n)for(let e=0;e<n;e++)i(e);for(let n of e){var o;let e=t(n);(null!=(o=r[e])?o:i(e)).push(n)}return r}function*l(e){let t;for(let n of e)void 0!==t&&(yield[t,n]),t=n}function a(e,t){let n,r=-1/0;for(let i of e){let e=t(i);e>r&&(r=e,n=i)}return n}function s(e){let t=new Set;return n=>{let r=e(n);return!t.has(r)&&(t.add(r),!0)}}function c(e){return(t,n)=>{if(null!==t&&"object"!=typeof t)throw Error("Accumulator must be an object");let r=null===t?{}:t,i=e(n);return r[i]||(r[i]=[]),r[i].push(n),r}}n.d(t,{Ju:()=>l,Si:()=>i,VY:()=>c,mn:()=>o,pD:()=>s,vj:()=>a,zN:()=>r})},43865:e=>{e.exports={Billboard:"billboard_Billboard__1od0V",landscape:"billboard_landscape__OR09y",frame:"billboard_frame__m5PEh",full:"billboard_full__0I_hQ"}},44138:(e,t,n)=>{"use strict";function r(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{_:()=>r})},47878:(e,t,n)=>{"use strict";function r(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}n.d(t,{_:()=>r})},57368:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(44138);function i(e,t,n){var i=(0,r._)(e,t,"set");if(i.set)i.set.call(e,n);else{if(!i.writable)throw TypeError("attempted to set read only private field");i.value=n}return n}},66066:(e,t,n)=>{"use strict";function r(e,t,n){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return n}n.d(t,{_:()=>r})},67235:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(54530);class i{_getId(){return i._idHash.init().update(++this._count).getValue()}_registerObject(e){let t=this._getId();return this._weakMap.set(e,t),t}_registerPrimitive(e){let t=this._getId();return this._map.set(e,t),t}_requirePrimitiveId(e){var t;return null!=(t=this._map.get(e))?t:this._registerPrimitive(e)}_requireObjectId(e){var t;return null!=(t=this._weakMap.get(e))?t:this._registerObject(e)}_requireArrayId(e){let{_arrayHash:t}=i;for(let n of(t.init(),e.flat(16)))t.update(this.requireId(n));return t.getValue()}requireId(e){return!function(e){if(null==e)return!0;switch(typeof e){case"function":case"object":return!1;default:return!0}}(e)?Array.isArray(e)?this._requireArrayId(e):this._requireObjectId(e):this._requirePrimitiveId(e)}constructor(){this._count=1,this._map=new Map,this._weakMap=new WeakMap}}i._idHash=new r.V,i._arrayHash=new r.V;class o{constructor(e,t){this.filter=e,this.callback=t,this.match="*"===e?()=>!0:"string"==typeof e?t=>t===e:e instanceof RegExp?t=>e.test(t):()=>!1}}let l=new i,a=new Map;class s{setPayload(e){return this.payload=e,this}assignPayload(e){let{overwrite:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.payload=t?{...this.payload,...e}:{...e,...this.payload},this}payloadAssign(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.assignPayload(...t)}assertPayload(){if(void 0!==this.payload)return this.payload;throw Error('Message.payloadAssert: assertion failed for message with target "'.concat(this.target,'"'))}constructor(e,t,n){var r;this.id=s.nextId++,this.debug={currentListenerIndex:-1,listenerCount:0},this.targetId=l.requireId(e),this.target=e,this.type=null!=t?t:"message",this.payload=n;let i=(null!=(r=a.get(this.targetId))?r:[]).filter(e=>e.match(this.type));for(let e of(this.debug.listenerCount=i.length,i))this.debug.currentListenerIndex++,e.callback(this)}}function c(e){if(2===e.length){let[t,n]=e;return[t,"*",n]}return e}function u(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let[i,s,u]=c(n),d=l.requireId(i),f=new o(s,u);return(null!=(e=a.get(d))?e:(()=>{let e=[];return a.set(d,e),e})()).push(f),{destroy:()=>{!function(e,t){let n=a.get(e);if(n){let r=n.indexOf(t);if(-1!==r)n.splice(r,1),0===n.length&&a.delete(e)}}(d,f)}}}s.send=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i,o]=function(e){let[t,...n]=e;if(2===n.length){let[e,{payload:r}]=n;return[t,e,r]}if(1===n.length){let[e]=n;return"string"==typeof e?[t,e]:[t,void 0,e.payload]}return[t]}(t);return new s(r,i,o)},s.on=u,s.wait=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(e=>{let n=t=>{e(t)},[r,i]=c([...t,n]);u(r,i,n)})},s.debug={listenerMap:a,idRegister:l},s.nextId=0},75687:(e,t,n)=>{"use strict";function r(e,t){return t.get?t.get.call(e):t.value}n.d(t,{_:()=>r})},76999:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(29443);function i(e,t,n){(0,r._)(e,t),t.set(e,n)}},77674:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(75687),i=n(47878),o=n(1e3);function l(e,t,n){return(0,i._)(e,t),(0,o._)(n,"get"),(0,r._)(e,n)}},79105:(e,t,n)=>{"use strict";n.d(t,{K2:()=>l,KP:()=>i,Tj:()=>a,Ts:()=>o,Zu:()=>r});let r=0x7fffffff,i=123456,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=r,(t=t<0?t+r:t)>1)return t&r;if(0===t)return i;throw Error("Impossible. ".concat(t))},l=e=>e=Math.imul(e,48271)&r,a=e=>(e-1)/(r-1)},80419:(e,t,n)=>{Promise.resolve().then(n.bind(n,88452)),Promise.resolve().then(n.bind(n,28737))},88452:(e,t,n)=>{"use strict";n.d(t,{Art:()=>F});var r=n(70691),i=n(99332),o=n(21667),l=n(18479),a=n(79285),s=n(67235),c=n(85795),u=n(36508),d=n(32137),f=n(30158),h=n(49797),p=n(99613),g=n(64416),m=n(27491),y=n(27146),w=n(28334),b=n(24223),x=n(29717),_=n(71895),M=n(22899);function A(){let{ref:e}=(0,l.useLayoutEffects)(function*(e){let t=function(e){let{width:t=window.innerWidth,height:n=window.innerHeight,pixelRatio:r=window.devicePixelRatio}=e;r=1;let i=new f.WebGLRenderer({antialias:!0});i.setSize(t,n),i.setPixelRatio(r);let o=new h.ubm(75,t/n,.1,1e3);o.position.z=4.7,o.near=o.position.z-2.4,o.far=o.position.z+1,o.updateProjectionMatrix();let l=new h.Z58,a=new h.YJl;l.add(a);let c=new h.UPV(2,1.02,1024,512),d=new h.UPV(2,.9,1024,512);d.computeBoundingSphere(),d.computeBoundingBox();let A=new h.eaF(c,new h.V9B({color:0xffff00,side:h.$EB}));a.add(A);let P=new h.eaF(new h.UPV(2,.25,1024,512),new h.V9B({color:0xff00ff,side:h.$EB}));A.add(P);let j=new h.eaF(new h.UPV(2,.35,1024,512),new h.V9B({color:0xff00ff,side:h.$EB}));A.add(j);let O={camera:o,knotWrapper:a,knot:A,knotGeometry1:c,knotGeometry2:d},E=new h.nWS(t*r,n*r,{depthBuffer:!0,depthTexture:new h.VCu(t*r,n*r,h.cHt)});function T(e){let{r:t,g:n,b:r}=new h.Q1f(e);return"vec3(".concat(t.toFixed(3),", ").concat(n.toFixed(3),", ").concat(r.toFixed(3),")")}let C=new h.BKk({uniforms:{depthTexture:{value:E.depthTexture},cameraNear:{value:o.near},cameraFar:{value:o.far}},vertexShader:"\n      varying vec2 vUv;\n  \n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      ".concat(_.D,"\n      ").concat(M.I,"\n  \n      vec3[] COLORS = vec3[](\n        aliceblue,\n        ").concat(T("#471864"),",\n        aqua,\n        aquamarine,\n        ").concat(T("#c8d50d"),"\n      );\n      int COLORS_COUNT = 5;\n  \n      uniform sampler2D depthTexture;\n      uniform float cameraNear;\n      uniform float cameraFar;\n      varying vec2 vUv;\n  \n      float lines(float x) {\n        // Inside your fragment shader\n        float lineWidth = 0.03; // Adjust line width to what you need\n        float edgeSmoothness = 0.01; // Controls the smooth transition around the line edge\n  \n        // Get the position in the UV space (assuming you're using UV coordinates)\n  \n  \n        // Calculate the fract values to simulate lines\n        float linePattern = 1.0 - fract(x * 20.0); // 10.0 determines the spacing of the lines\n  \n        // Use smoothstep to soften the edge of the line\n        float line = smoothstep(lineWidth - edgeSmoothness, lineWidth + edgeSmoothness, linePattern);\n  \n        return line;\n      }\n  \n      vec3 removeGamma(vec3 color) {\n        return pow(color, vec3(2.2));  // Linearize color\n      }\n  \n      vec3 applyGamma(vec3 color) {\n        return pow(color, vec3(1.0 / 2.2));  // Apply gamma\n      }\n  \n      float linearizeDepth(float depth) {\n        float z = depth * 2.0 - 1.0; // Back to NDC\n        return (2.0 * cameraNear * cameraFar) / (cameraFar + cameraNear - z * (cameraFar - cameraNear));\n      }\n  \n      void main() {\n        float depth = texture2D(depthTexture, vUv).r;\n        float linearDepth = linearizeDepth(depth);\n        // gl_FragColor = vec4(vec3(linearDepth), 1.0);\n        // gl_FragColor = vec4(vec3(depth), 1.0);\n        // gl_FragColor = vec4(vUv, 1.0, 1.0);\n  \n        float x = 1.0 - depth;\n        x *= float(COLORS_COUNT);\n        float f = 1.0 - fract(x);\n        int i = int(floor(x));\n        vec3 color1 = COLORS[i];\n        vec3 color2 = COLORS[(i + COLORS_COUNT - 1) % COLORS_COUNT];\n  \n        vec3 color = mix(color1, color2, easeInOut4(f));\n        // color *= mix(0.8, 1.1, f * f * f);\n  \n        color = 1.0 - color;\n  \n        gl_FragColor.a = 1.0;\n        gl_FragColor.rgb = color;\n        // gl_FragColor.rgb *= lines(depth);\n      }\n    ")}),S=new h.bdM(2,2),R=new h.eaF(S,C),k=new h.qUd(-1,1,1,-1,0,1),z=new p.s(i),I=new m.A(R,k);z.addPass(I);let N=new y.p(w.o);N.material.uniforms.resolution.value.set(1/t,1/n),z.addPass(N);let F=new g.X;z.addPass(F);let q=u.Rv.current();function U(){i.dispose(),i.domElement.remove(),E.dispose(),z.dispose(),q.destroy()}return q.set({activeDuration:60}),q.onTick(e=>{x.X5.core.updateInstances(e.deltaTime),i.setRenderTarget(E),i.render(l,o),i.setRenderTarget(null),z.render()}),{renderer:i,scene:l,camera:o,artParts:O,resize:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.devicePixelRatio;i.setSize(e,t),i.setPixelRatio(n),o.aspect=e/t,o.updateProjectionMatrix(),E.setSize(e*n,t*n),z.setSize(e,t),z.setPixelRatio(n),N.material.uniforms.resolution.value.set(1/e,1/t)},init:function*(){yield(0,b.O)(q.requestActivation),yield U,yield s.Q.on("REQUIRE:ART_PARTS",e=>{e.payloadAssign(O)})},destroy:U}}({width:e.clientWidth,height:e.clientHeight});yield*t.init(),e.appendChild(t.renderer.domElement),yield(0,o.G)(e,{onSize:e=>{t.resize(e.size.x,e.size.y)}}),yield()=>t.renderer.domElement.remove()},[]);return(0,r.jsx)("div",{ref:e,className:"absolute inset-0"})}var P=n(17099),j=n(67203);let O=["#452E00","#F8FEF0","#FF0000","#BC0172","#AE9DFF"];var E=function(e){return e.Circle="circle",e.Rectangle="rectangle",e}({});function T(){return{lineShapeObs:new c.Observable("circle")}}function C(){let{ref:e}=(0,l.useLayoutEffects)(function*(e){let t=e.querySelector("circle"),n=new c.ObservableNumber(0);yield n.onPass("through",5,()=>{n.passed("above",5)?(x.X5.during({target:"CallToAction:Fade",duration:1}).onUpdate(t=>{let{progress:n}=t,r=x.X5.ease("out3")(n);e.setAttribute("opacity",r.toFixed(3))}),x.X5.during({target:"CallToAction:Scale",duration:3}).onUpdate(e=>{let{progress:n,complete:r}=e;n=r?1:2*n%1;let i=x.X5.ease("out3")(n),o=Math.sin(i*Math.PI);t.setAttribute("opacity",o.toFixed(3)),t.setAttribute("r",(0,a.lerp)(200,300,i).toFixed(3))})):x.X5.during({target:"CallToAction:Fade",duration:.2}).onUpdate(t=>{let{progress:n}=t,r=x.X5.ease("inOut3")(n);e.setAttribute("opacity",(1-r).toFixed(3))})}),yield(0,i.s)(document.documentElement,{onChange:()=>{n.set(0)},onDown:()=>{n.set(0)}}),yield u.Rv.current().onTick(e=>{n.increment(e.deltaTime),n.passed("above",15)&&n.set(0)})},[]);return(0,r.jsx)("g",{ref:e,children:(0,r.jsx)("circle",{r:150,fill:"none",stroke:"white",strokeWidth:1.5,opacity:0})})}function S(){let e=(0,j.useMemo)(T,[]),{ref:t}=(0,l.useLayoutEffects)(function*(t){let n=t.querySelector("svg"),r=[...n.querySelectorAll("circle")],o=[...n.querySelectorAll("polygon")];yield s.Q.on("REQUIRE:ART_PARTS",t=>{t.payloadAssign(e)});let{lineShapeObs:l}=e;l.onChange({executeImmediately:!0},e=>{"circle"===e?(n.querySelector(".rectangles").setAttribute("style","display: none"),n.querySelector(".circles").removeAttribute("style")):(n.querySelector(".rectangles").removeAttribute("style"),n.querySelector(".circles").setAttribute("style","display: none"))});let d=new c.ObservableNumber(0),f=new c.ObservableNumber(120),p=new h.I9Y,g=r.map(()=>new h.I9Y);yield(0,i.s)(document.documentElement,{onChange:e=>{},onDrag:e=>{let{x:n,y:r}=e.position,i=t.getBoundingClientRect();p.x=(0,a.remap)(n,i.left,i.right,-512,512),p.y=(0,a.remap)(r,i.top,i.bottom,-512,512)},onDown:()=>{d.set(0),f.set(84),p.set(0,0);for(let e=0;e<20;e++)g[e].copy(p)}}),yield u.Rv.current().onTick(e=>{d.increment(e.deltaTime);let t=d.get(),n=120*(t<1),i=t<1?.999:(0,a.remap)(t,1,2,0,.9);f.exponentialGrow(n,[i,.2],e.deltaTime);for(let e=0;e<20;e++){let t=r[e],n=g[e];n.lerp(0===e?p:g[e-1],.1),t.setAttribute("cx",n.x.toString()),t.setAttribute("cy",n.y.toString()),t.setAttribute("stroke-width",f.get().toFixed(3));let i=o[e];i.setAttribute("transform","translate(".concat(n.x,",").concat(n.y,")")),i.setAttribute("stroke-width",f.get().toFixed(3))}})},[20]);return(0,r.jsx)("div",{ref:t,className:"absolute inset-0",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-512 -512 1024 1024",className:"w-full h-full",children:[(0,r.jsx)("g",{className:"circles",style:{display:e.lineShapeObs.is("circle")?"":"none"},children:Array.from({length:20}).map((e,t)=>(0,r.jsx)("circle",{cx:"0",cy:"0",r:120*(.99*t+.25),fill:"none",stroke:O[(t+1)%O.length],strokeWidth:120},t))}),(0,r.jsx)("g",{className:"rectangles",style:{display:e.lineShapeObs.is("rectangle")?"":"none"},children:Array.from({length:20}).map((e,t)=>{P.c.seed(t+4);let n=(t+.25)*238;return(0,r.jsx)("polygon",{points:function(){let{cx:e=0,cy:t=0,r:n=1,count:r=3,turnOffset:i=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=[];for(let l=0;l<r;l++){let a=(l/r+i)*Math.PI*2,s=e+n*Math.cos(a),c=t+n*Math.sin(a);o.push("".concat(s.toFixed(3),",").concat(c.toFixed(3)))}return o.join(" ")}({count:4,r:n*Math.SQRT1_2}),fill:"none",stroke:P.c.pick(O,null,{indexOffset:1}),strokeWidth:120},t)})}),(0,r.jsx)(C,{})]})})}var R=n(95286),k=n.n(R),z=function(e){return e[e.Static=0]="Static",e[e.Rotating=1]="Rotating",e[e.RotatingCloseUp=2]="RotatingCloseUp",e}(z||{});function I(){return(0,l.useEffects)(function*(){let e=s.Q.send("REQUIRE:ART_PARTS").payload,{camera:t,knotWrapper:n,knot:r,lineShapeObs:o}=e;Object.assign(window,{artParts:e});let l=new c.Observable(0);yield(0,i.s)(document.documentElement,{onDown:e=>{l.set((l.get()+1)%3)}}),l.onChange(t=>{switch(o.set(o.get()===E.Circle?E.Rectangle:E.Circle),t){case 0:r.geometry=e.knotGeometry1;break;case 1:{let t=Math.random()*Math.PI*.4;r.geometry=e.knotGeometry2,r.rotation.x+=t,r.rotation.y+=t,r.rotation.z+=t;break}case 2:r.geometry=e.knotGeometry2}}),yield u.Rv.current().onTick(e=>{switch(l.value){case 0:{r.rotation.x=0,r.rotation.y=0,r.rotation.z+=.033*e.deltaTime;let i=(0,a.sin01)(.05*e.time),o=(0,a.lerp)(.9,1.1,i);n.scale.set(o,o,1),t.position.z=(0,a.lerp)(4.9,4.7,i);break}case 1:r.rotation.x+=.05*e.deltaTime,r.rotation.y+=.05*e.deltaTime,r.rotation.z+=.0166*e.deltaTime,n.scale.set(1.4,1.4,1),t.position.z=4.5;break;case 2:r.rotation.x+=-.05*e.deltaTime,r.rotation.y+=-.05*e.deltaTime,r.rotation.z+=.05*e.deltaTime,n.scale.set(1.8,1.8,2),t.position.z=-1}})},[]),(0,r.jsxs)("div",{className:k().Art,children:[(0,r.jsx)(A,{}),(0,r.jsx)(S,{})]})}function N(){let{ref:e}=(0,l.useLayoutEffects)(function*(e){yield(0,o.G)(document.documentElement,{onSize:t=>{let{size:{x:n,y:r}}=t;!1==n>r?e.style.display="none":e.style.display=""}});let t=new c.ObservableNumber(0);yield u.Rv.current().onTick(n=>{t.increment(n.deltaTime),e.classList.toggle(k().hidden,t.get()>1)}),yield(0,i.s)(document.documentElement,{onDown:()=>{t.set(0)},onChange:()=>{t.set(0)}})},[]);return(0,r.jsx)("div",{ref:e,className:"".concat(k().Caption," pointer-through"),children:(0,r.jsxs)("div",{className:"flex flex-row items-center",children:[(0,r.jsxs)("span",{children:["Press ",(0,r.jsx)("kbd",{style:{color:O[3]},children:"F"})," to toggle fullscreen."]}),(0,r.jsx)("span",{className:k().Github,style:{color:O[2]},children:(0,r.jsx)("a",{href:"https://github.com/jniac/three-xp",children:"Github"})}),(0,r.jsx)("span",{className:k().Close,style:{color:O[4]},onPointerDown:t=>{"A"!==t.target.tagName&&(t.preventDefault(),t.stopPropagation(),e.current.style.display="none")}})]})})}function F(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Q,{children:(0,r.jsx)(I,{})}),(0,r.jsx)("div",{className:"absolute-through",children:(0,r.jsx)(N,{})})]})}},89868:(e,t,n)=>{"use strict";function r(e,t){if(t.set){if(!t.get)throw TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(v){t.set.call(e,v)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw TypeError("attempted to set read only private field");return t}n.d(t,{_:()=>r})},95286:e=>{e.exports={Caption:"style_Caption__FCtWy",hidden:"style_hidden__PEKsD",Github:"style_Github__qs6RR",Close:"style_Close__E3PRZ"}},96122:(e,t,n)=>{"use strict";function r(e){let t=e.split("\n"),n=0;for(let e of t){let t=e.match(/^(\s*)\S/);if(t){n=t[1].length;break}}return t.map(e=>e.slice(Math.min(e.length,n))).join("\n")}n.d(t,{T:()=>r})}},e=>{var t=t=>e(e.s=t);e.O(0,[9510,5611,7190,9635,146,6726,3445,9332,9717,3042,1319,6852,7358],()=>t(80419)),_N_E=e.O()}]);