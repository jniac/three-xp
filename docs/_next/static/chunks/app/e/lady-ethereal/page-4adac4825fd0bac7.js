(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6640],{84733:(e,t,n)=>{Promise.resolve().then(n.bind(n,93405))},90927:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(49797),a=n(96273);new r.Pq0(0,0,0),new r.O9p(0,0,0,"XYZ"),new r.Pq0(1,1,1);let o={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,pivot:void 0,visible:void 0,name:void 0,parent:void 0,userData:void 0},l=new r.dwI,i=new r.Pq0;function s(e,t){let{x:n,y:s,z:u,position:d=new r.Pq0(n,s,u),rotationX:c,rotationY:m,rotationZ:p,rotationOrder:h,rotationUnit:y,rotation:f,scaleX:w,scaleY:v,scaleZ:T,scaleScalar:S,scale:b=new r.Pq0(w,v,T).multiplyScalar(S),pivot:g,visible:j,name:C,parent:M,userData:I}={...o,...t};return(0,a.jj)(d,e.position),(0,a.if)(null!=f?f:[c,m,p,h,y],e.rotation),(0,a.jj)(b,e.scale),void 0!==g&&(e.updateMatrix(),l.setFromMatrix4(e.matrix),(0,a.jj)(g,i).applyMatrix3(l),e.position.sub(i)),void 0!==j&&(e.visible=j),void 0!==C&&(e.name=C),void 0!==M&&M!==e.parent&&(null===M?e.removeFromParent():M.add(e)),void 0!==I&&Object.assign(e.userData,I),e}},93405:(e,t,n)=>{"use strict";let r;n.d(t,{Main:()=>E});var a=n(70691),o=n(49797),l=n(17953),i=n(81074),s=n(97074),u=n(56647),d=n(96273);let c={emissive:.2,shadowColor:"#808080",power:2,sunDirection:[1,3,-1]},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white",t=arguments.length>1?arguments[1]:void 0;return(0,l.Fn)(()=>{let{emissive:n,shadowColor:r,power:a,sunDirection:o}={...c,...t},i=(0,d.jj)(o).negate().normalize(),s=l.O7c.normalize().dot((0,l.eR5)(i)).add(1).mul(.5).pow(a).oneMinus(),u=(0,l.jhA)(n,1,s);return(0,l.jhA)((0,l.yWT)(r),(0,l.yWT)(e),u.mul(1))})()};(0,l.Fn)(e=>{let[t,n=1]=e,r=t.length().max(n);return t.mul((0,l.fVC)(n).div(r))}),(0,l.Fn)(e=>{let[t,n]=e;return(0,l.fVC)(t).sign().mul((0,l.fVC)(t).abs().pow(n))}),(0,l.Fn)(e=>{let[t,n]=e;return(0,l.fVC)(1).sub((0,l.fVC)(2).mul(t).sub(1).abs().pow(n))}),(0,l.Fn)(e=>{let[t]=e,n=(0,l.eR5)(t),r=n.length(),a=(0,l.lnd)().toVar();return(0,l.If)(r.greaterThan(l.p8E),()=>{a.assign((0,l.lnd)(n.div(r),r))}),a}),(0,l.Fn)(e=>{let[t,n]=e,r=(0,l.ZcS)(t);(0,l.fVC)(n);let a=(0,l.fVC)(n).cos(),o=(0,l.fVC)(n).sin();return(0,l.ZcS)(r.x.mul(a).sub(r.y.mul(o)),r.x.mul(o).add(r.y.mul(a)))}),(0,l.Fn)(e=>{let[t,n,r]=e,a=(0,l.ZcS)(t),o=(0,l.ZcS)(n),i=(0,l.ZcS)(r);return a.sub(i).mul(o).add(i)}),(0,l.Fn)(e=>{let[t,n]=e,r=n.cos(),a=n.sin(),o=r.oneMinus(),i=t.x,s=t.y,u=t.z;return(0,l.w00)(r.add(i.mul(i).mul(o)),i.mul(s).mul(o).sub(u.mul(a)),i.mul(u).mul(o).add(s.mul(a)),i.mul(s).mul(o).add(u.mul(a)),r.add(s.mul(s).mul(o)),s.mul(u).mul(o).sub(i.mul(a)),i.mul(u).mul(o).sub(s.mul(a)),s.mul(u).mul(o).add(i.mul(a)),r.add(u.mul(u).mul(o)))}),(0,l.Fn)(e=>{let[t,n=0,r=437]=e,a=(0,l.tWU)(t.add(n).mul(r)),o=(0,l.tWU)(t.add(n).add(1).mul(r)),i=(0,l.tWU)(t.add(n).add(2).mul(r));return(0,l.eR5)(a,o,i)}),(0,l.Fn)(e=>{let[t,n=0,r=437]=e,a=(0,l.tWU)(t.add(n).mul(r)),o=(0,l.tWU)(t.add(n).add(1).mul(r)),i=(0,l.tWU)(t.add(n).add(2).mul(r)),s=(0,l.tWU)(t.add(n).add(3).mul(r));return(0,l.lnd)(a,o,i,s)}),(0,l.Fn)(e=>{let[t]=e,n=(0,l.tWU)(t.add(17).mul(437)),r=(0,l.tWU)(t.add(23).mul(439)),a=n.mul(2*Math.PI),o=r.mul(2).sub(1),i=o.mul(o).oneMinus().sqrt();return(0,l.eR5)(i.mul(a.cos()),i.mul(a.sin()),o)});var p=n(87381),h=n(72612),y=n(44694),f=n(96555);async function w(){return r||(r=await (0,f.A)()),r}let v=new o.Pq0,T=new o.O9p,S=new o.PTz;var b=function(e){return e[e.STATIC=0]="STATIC",e[e.KINEMATIC=1]="KINEMATIC",e[e.DYNAMIC=2]="DYNAMIC",e}({}),g=function(e){return e[e.All=63]="All",e[e.Plane2D=35]="Plane2D",e[e.RotationX=8]="RotationX",e[e.RotationY=16]="RotationY",e[e.RotationZ=32]="RotationZ",e[e.TranslationX=1]="TranslationX",e[e.TranslationY=2]="TranslationY",e[e.TranslationZ=4]="TranslationZ",e}({}),j=function(e){return e[e.STATIC=0]="STATIC",e[e.MOVING=1]="MOVING",e}({});let C=Object.keys(j).length/2;class M{toJoltShape(){throw Error("Not implemented")}toMesh(){throw Error("Not implemented")}}M.Sphere=class extends M{toJoltShape(){return new r.SphereShape(this.radius)}toMesh(){return new o.eaF(new o.WBB(this.radius,8))}constructor(e){super(),this.radius=e}},M.Box=class extends M{toJoltShape(){let e=function(e,t){let{x:n,y:r,z:a}=(0,y.jj)(e,v);return t.SetX(n),t.SetY(r),t.SetZ(a),t}(this.halfExtents,new r.Vec3);return new r.BoxShape(e)}toMesh(){let{x:e,y:t,z:n}=(0,y.jj)(this.halfExtents);return new o.eaF(new o.iNn(2*e,2*t,2*n))}constructor(e){super(),this.halfExtents=e}};class I{}async function x(e){await w();let t=new r.JoltSettings;t.mMaxWorkerThreads=3;let n=new r.ObjectLayerPairFilterTable(C);n.EnableCollision(0,1),n.EnableCollision(1,1);let a=new r.BroadPhaseLayer(0),l=new r.BroadPhaseLayer(1),i=new r.BroadPhaseLayerInterfaceTable(C,2);i.MapObjectToBroadPhaseLayer(0,a),i.MapObjectToBroadPhaseLayer(1,l),t.mObjectLayerPairFilter=n,t.mBroadPhaseLayerInterface=i,t.mObjectVsBroadPhaseLayerFilter=new r.ObjectVsBroadPhaseLayerFilterTable(i,2,n,C);let s=new r.JoltInterface(t);r.destroy(t);let u={moving:[]},c=s.GetPhysicsSystem(),m=c.GetBodyInterface(),p=e=>{for(let{mesh:t,body:n}of(s.Step(e,e>1/55?2:1),u.moving))!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.Pq0;t.set(e.GetX(),e.GetY(),e.GetZ())}(n.GetPosition(),t.position),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.PTz;t.set(e.GetX(),e.GetY(),e.GetZ(),e.GetW())}(n.GetRotation(),t.quaternion)};return e.ticker.onTick(e=>{p(e.deltaTime)}),{jolt:s,physicsSystem:c,bodyInterface:m,createBody:function(){let{shape:t=new M.Sphere(.5),type:n=2,allowedDOFs:a=63,mesh:o=null,position:l=[0,0,0],rotation:i=[0,0,0],parent:s=e.scene}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=new r.BodyCreationSettings(t.toJoltShape(),function(e,t){let{x:n,y:r,z:a}=(0,y.jj)(e,v);return t.SetX(n),t.SetY(r),t.SetZ(a),t}(l,new r.RVec3),function(e,t){(0,d.if)(e,T);let{x:n,y:r,z:a,w:o}=S.setFromEuler(T);return t.SetX(n),t.SetY(r),t.SetZ(a),t.SetW(o),t}(i,new r.Quat),n,1);c.mAllowedDOFs=a;let p=m.CreateBody(c);r.destroy(c),m.AddBody(p.GetID(),r.EActivation_Activate),null!=o||(o=t.toMesh()),s.add(o);let h={body:p,mesh:o};return(1===n||2===n)&&u.moving.push(h),h}}}I.MotionType=b,I.AllowedDOF=g,I.Layers=j,I.Shape=M;class P extends o.YJl{onDestroy(){}constructor(...e){super(...e),this.parts=(()=>{let e=(0,p.mj)(new u.R,this).rectangle([1,1]);for(let t of(e.line([.05,.5],[.3,.5]),e.line([.95,.5],[.7,.5]),e.polyline([[.4,.05],[.6,.05]]),e.polyline([[.4,.95],[.6,.95]]),(0,h.loop)(10))){let n=.05+.2*t.p;e.line([n,.05],[n,.25]),e.line([n,.75],[n,.95]),e.line([1-n,.05],[1-n,.25]),e.line([1-n,.75],[1-n,.95])}return e.circle([.5,.5],.2),e.circle([.5,.5],.22),e.capsule2([.67,.67],[.32999999999999996,.32999999999999996],.05),e.capsule2([.67,.32999999999999996],[.32999999999999996,.67],.05),e.cross([.5,.5],.05),e.draw(),{line:e}})()}}class k extends o.YJl{onInitialize(e){x(e).then(e=>{var t=this;let n=e.createBody({parent:this,position:[-.3,0,0]});n.mesh.material=new i.P8l({colorNode:m().mul((0,l.eR5)((0,l.uv)().mul((0,l.ZcS)(15,10)).fract(),1))}),!function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.createBody({parent:t,position:[r+o/2,a+l/2,0],shape:new I.Shape.Box([o/2,l/2,.1]),type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material}(-2,-2,8,1),e.createBody({parent:this,position:[.1,-2,0],type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({parent:this,position:[-.9,-2,-.1],type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({parent:this,position:[-.5,-2,1],type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({shape:new I.Shape.Box([.5,.5,.01]),allowedDOFs:I.AllowedDOF.Plane2D,position:[.15,3,0],parent:this})})}constructor(...e){super(...e),this.parts=(()=>{let e=(0,p.mj)(new u.R,this).grid2({size:4}).opacity(.05).draw();return(0,p.mj)(new P,this),(0,p.mj)(new P,{parent:this,position:[1,0,0]}),{line:e}})()}}function B(){return(0,s.Fw)(function*(e){e.pipeline.basicPasses.fxaa.enabled=!1},[]),null}function E(){return(0,a.jsx)(s.uB,{webgpu:!0,vertigoControls:{size:5},children:(0,a.jsxs)("div",{className:"Main layer thru flex flex-col items-start justify-start p-4",children:[(0,a.jsx)("h1",{children:"Chunk Viewer"}),(0,a.jsx)(s.q,{value:k}),(0,a.jsx)(B,{})]})})}},95736:(e,t,n)=>{"use strict";function r(e,t){return"*"===t||("string"==typeof t?t===e:t instanceof RegExp?t.test(e):"function"==typeof t&&t(e))}n.d(t,{a:()=>i});let a={preventDefault:!1,strictTarget:void 0},o={key:"*",keyCaseInsensitive:!0,code:"*",noModifiers:!1,modifiers:"",phase:"down"},l=0;function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=l++,[s,u,d]=1===t.length?[document.body,{},t[0]]:2===t.length?[t[0],{},t[1]]:t,{preventDefault:c}={...a,...u},m=null,p=e=>{var t;if((null!=(t=u.strictTarget)?!!t:s===document.body)&&e.target!==s)return;"keydown"===e.type&&(m=e);let{ctrlKey:n=!1,altKey:a=!1,shiftKey:l=!1,metaKey:p=!1}=null!=m?m:{},h={id:i,event:e,downEvent:m,modifiers:{ctrl:n,alt:a,shift:l,meta:p}};for(let t=0,i=d.length;t<i;t++){let[i,s]=d[t],{key:u,keyCaseInsensitive:y,code:f,noModifiers:w,modifiers:v,phase:T="down"}=function(e){let t="string"==typeof e?{...o,key:e}:{...o,...e};return t.keyCaseInsensitive&&"string"==typeof t.key&&(t.key=t.key.toLowerCase()),t}(i);switch(e.type){case"keydown":if("down"!==T)continue;break;case"keyup":if("up"!==T)continue}Object.values({key:r(y?e.key.toLowerCase():e.key,u),code:r(e.code,f),noModifiers:!w||!1===n&&!1===a&&!1===l&&!1===p,modifiers:function(e,t){let{ctrlKey:n,altKey:r,shiftKey:a,metaKey:o}=e;if("function"==typeof t)return t({ctrl:n,alt:r,shift:a,meta:o});let{ctrl:l=!1,alt:i=!1,shift:s=!1,meta:u=!1}=Object.fromEntries(t.split("-").map(e=>[e,!0]));return l===n&&i===r&&s===a&&u===o}(m,v)}).every(Boolean)&&(c&&e.preventDefault(),s(h))}};return s.addEventListener("keydown",p,{passive:!1}),s.addEventListener("keyup",p,{passive:!1}),{destroy:()=>{s.removeEventListener("keydown",p),s.removeEventListener("keyup",p)}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[5611,7190,6564,4272,7223,9635,8921,4957,7775,16,7953,9901,4638,6726,2598,1213,8083,4266,4179,7074,1319,6852,7358],()=>t(84733)),_N_E=e.O()}]);