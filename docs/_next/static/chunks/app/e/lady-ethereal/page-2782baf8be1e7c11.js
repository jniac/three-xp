(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6640],{84733:(e,t,n)=>{Promise.resolve().then(n.bind(n,93405))},87381:(e,t,n)=>{"use strict";n.d(t,{$z:()=>function* e(t,n){let{includeSelf:r}={...s,...n};for(let n of(r&&(yield t),t.children))yield*e(n,{includeSelf:!0})},DN:()=>o,mj:()=>a,rd:()=>i});var r=n(61567),l=n(90927);function a(e,t,n){return t&&((0,r.Th)(t)?t.add(e):(0,l.N)(e,t)),null==n||n(e),e}let o=a;function i(e,t){let n=t;for(;n.parent;){if(n.parent===e)return!0;n=n.parent}return!1}let s={includeSelf:!1}},90927:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(49797),l=n(22641);new r.Pq0(0,0,0),new r.O9p(0,0,0,"XYZ"),new r.Pq0(1,1,1);let a={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,pivot:void 0,visible:void 0,name:void 0,parent:void 0,userData:void 0},o=new r.dwI,i=new r.Pq0;function s(e,t){let{x:n,y:s,z:u,position:d=new r.Pq0(n,s,u),rotationX:c,rotationY:m,rotationZ:p,rotationOrder:h,rotationUnit:f,rotation:y,scaleX:w,scaleY:v,scaleZ:T,scaleScalar:S,scale:b=new r.Pq0(w,v,T).multiplyScalar(S),pivot:g,visible:j,name:M,parent:C,userData:I}={...a,...t};return(0,l.jj)(d,e.position),(0,l.if)(null!=y?y:[c,m,p,h,f],e.rotation),(0,l.jj)(b,e.scale),void 0!==g&&(e.updateMatrix(),o.setFromMatrix4(e.matrix),(0,l.jj)(g,i).applyMatrix3(o),e.position.sub(i)),void 0!==j&&(e.visible=j),void 0!==M&&(e.name=M),void 0!==C&&C!==e.parent&&(null===C?e.removeFromParent():C.add(e)),void 0!==I&&Object.assign(e.userData,I),e}},93405:(e,t,n)=>{"use strict";let r;n.d(t,{Main:()=>E});var l=n(70691),a=n(49797),o=n(17953),i=n(81074),s=n(97074),u=n(56647);let d={emissive:.2,shadowColor:"#808080",power:2},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white",t=arguments.length>1?arguments[1]:void 0;return(0,o.Fn)(()=>{let{emissive:n,shadowColor:r,power:l}={...d,...t},a=o.O7c.normalize().dot(o.MI8.sub((0,o.eR5)(1,3,1)).normalize()).add(1).mul(.5).pow(l).oneMinus(),i=(0,o.jhA)(n,1,a);return(0,o.jhA)((0,o.yWT)(r),(0,o.yWT)(e),i.mul(1))})()};(0,o.Fn)(e=>{let[t,n=1]=e,r=t.length().max(n);return t.mul((0,o.fVC)(n).div(r))}),(0,o.Fn)(e=>{let[t,n]=e;return(0,o.fVC)(t).sign().mul((0,o.fVC)(t).abs().pow(n))}),(0,o.Fn)(e=>{let[t,n]=e;return(0,o.fVC)(1).sub((0,o.fVC)(2).mul(t).sub(1).abs().pow(n))}),(0,o.Fn)(e=>{let[t]=e,n=(0,o.eR5)(t),r=n.length(),l=(0,o.lnd)().toVar();return(0,o.If)(r.greaterThan(o.p8E),()=>{l.assign((0,o.lnd)(n.div(r),r))}),l}),(0,o.Fn)(e=>{let[t,n]=e,r=(0,o.ZcS)(t);(0,o.fVC)(n);let l=(0,o.fVC)(n).cos(),a=(0,o.fVC)(n).sin();return(0,o.ZcS)(r.x.mul(l).sub(r.y.mul(a)),r.x.mul(a).add(r.y.mul(l)))}),(0,o.Fn)(e=>{let[t,n,r]=e,l=(0,o.ZcS)(t),a=(0,o.ZcS)(n),i=(0,o.ZcS)(r);return l.sub(i).mul(a).add(i)}),(0,o.Fn)(e=>{let[t,n]=e,r=n.cos(),l=n.sin(),a=r.oneMinus(),i=t.x,s=t.y,u=t.z;return(0,o.w00)(r.add(i.mul(i).mul(a)),i.mul(s).mul(a).sub(u.mul(l)),i.mul(u).mul(a).add(s.mul(l)),i.mul(s).mul(a).add(u.mul(l)),r.add(s.mul(s).mul(a)),s.mul(u).mul(a).sub(i.mul(l)),i.mul(u).mul(a).sub(s.mul(l)),s.mul(u).mul(a).add(i.mul(l)),r.add(u.mul(u).mul(a)))}),(0,o.Fn)(e=>{let[t,n=0,r=437]=e,l=(0,o.tWU)(t.add(n).mul(r)),a=(0,o.tWU)(t.add(n).add(1).mul(r)),i=(0,o.tWU)(t.add(n).add(2).mul(r));return(0,o.eR5)(l,a,i)}),(0,o.Fn)(e=>{let[t,n=0,r=437]=e,l=(0,o.tWU)(t.add(n).mul(r)),a=(0,o.tWU)(t.add(n).add(1).mul(r)),i=(0,o.tWU)(t.add(n).add(2).mul(r)),s=(0,o.tWU)(t.add(n).add(3).mul(r));return(0,o.lnd)(l,a,i,s)}),(0,o.Fn)(e=>{let[t]=e,n=(0,o.tWU)(t.add(17).mul(437)),r=(0,o.tWU)(t.add(23).mul(439)),l=n.mul(2*Math.PI),a=r.mul(2).sub(1),i=a.mul(a).oneMinus().sqrt();return(0,o.eR5)(i.mul(l.cos()),i.mul(l.sin()),a)});var m=n(87381),p=n(72612),h=n(44694),f=n(96555);async function y(){return r||(r=await (0,f.A)()),r}var w=n(22641);let v=new a.Pq0,T=new a.O9p,S=new a.PTz;var b=function(e){return e[e.STATIC=0]="STATIC",e[e.KINEMATIC=1]="KINEMATIC",e[e.DYNAMIC=2]="DYNAMIC",e}({}),g=function(e){return e[e.All=63]="All",e[e.Plane2D=35]="Plane2D",e[e.RotationX=8]="RotationX",e[e.RotationY=16]="RotationY",e[e.RotationZ=32]="RotationZ",e[e.TranslationX=1]="TranslationX",e[e.TranslationY=2]="TranslationY",e[e.TranslationZ=4]="TranslationZ",e}({}),j=function(e){return e[e.STATIC=0]="STATIC",e[e.MOVING=1]="MOVING",e}({});let M=Object.keys(j).length/2;class C{toJoltShape(){throw Error("Not implemented")}toMesh(){throw Error("Not implemented")}}C.Sphere=class extends C{toJoltShape(){return new r.SphereShape(this.radius)}toMesh(){return new a.eaF(new a.WBB(this.radius,8))}constructor(e){super(),this.radius=e}},C.Box=class extends C{toJoltShape(){let e=function(e,t){let{x:n,y:r,z:l}=(0,h.jj)(e,v);return t.SetX(n),t.SetY(r),t.SetZ(l),t}(this.halfExtents,new r.Vec3);return new r.BoxShape(e)}toMesh(){let{x:e,y:t,z:n}=(0,h.jj)(this.halfExtents);return new a.eaF(new a.iNn(2*e,2*t,2*n))}constructor(e){super(),this.halfExtents=e}};class I{}async function x(e){await y();let t=new r.JoltSettings;t.mMaxWorkerThreads=3;let n=new r.ObjectLayerPairFilterTable(M);n.EnableCollision(0,1),n.EnableCollision(1,1);let l=new r.BroadPhaseLayer(0),o=new r.BroadPhaseLayer(1),i=new r.BroadPhaseLayerInterfaceTable(M,2);i.MapObjectToBroadPhaseLayer(0,l),i.MapObjectToBroadPhaseLayer(1,o),t.mObjectLayerPairFilter=n,t.mBroadPhaseLayerInterface=i,t.mObjectVsBroadPhaseLayerFilter=new r.ObjectVsBroadPhaseLayerFilterTable(i,2,n,M);let s=new r.JoltInterface(t);r.destroy(t);let u={moving:[]},d=s.GetPhysicsSystem(),c=d.GetBodyInterface(),m=e=>{for(let{mesh:t,body:n}of(s.Step(e,e>1/55?2:1),u.moving))!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a.Pq0;t.set(e.GetX(),e.GetY(),e.GetZ())}(n.GetPosition(),t.position),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a.PTz;t.set(e.GetX(),e.GetY(),e.GetZ(),e.GetW())}(n.GetRotation(),t.quaternion)};return e.ticker.onTick(e=>{m(e.deltaTime)}),{jolt:s,physicsSystem:d,bodyInterface:c,createBody:function(){let{shape:t=new C.Sphere(.5),type:n=2,allowedDOFs:l=63,mesh:a=null,position:o=[0,0,0],rotation:i=[0,0,0],parent:s=e.scene}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=new r.BodyCreationSettings(t.toJoltShape(),function(e,t){let{x:n,y:r,z:l}=(0,h.jj)(e,v);return t.SetX(n),t.SetY(r),t.SetZ(l),t}(o,new r.RVec3),function(e,t){(0,w.if)(e,T);let{x:n,y:r,z:l,w:a}=S.setFromEuler(T);return t.SetX(n),t.SetY(r),t.SetZ(l),t.SetW(a),t}(i,new r.Quat),n,1);d.mAllowedDOFs=l;let m=c.CreateBody(d);r.destroy(d),c.AddBody(m.GetID(),r.EActivation_Activate),null!=a||(a=t.toMesh()),s.add(a);let p={body:m,mesh:a};return(1===n||2===n)&&u.moving.push(p),p}}}I.MotionType=b,I.AllowedDOF=g,I.Layers=j,I.Shape=C;class P extends a.YJl{onDestroy(){}constructor(...e){super(...e),this.parts=(()=>{let e=(0,m.mj)(new u.R,this).rectangle([1,1]);for(let t of(e.line([.05,.5],[.3,.5]),e.line([.95,.5],[.7,.5]),e.polyline([[.4,.05],[.6,.05]]),e.polyline([[.4,.95],[.6,.95]]),(0,p.loop)(10))){let n=.05+.2*t.p;e.line([n,.05],[n,.25]),e.line([n,.75],[n,.95]),e.line([1-n,.05],[1-n,.25]),e.line([1-n,.75],[1-n,.95])}return e.circle([.5,.5],.2),e.circle([.5,.5],.22),e.capsule2([.67,.67],[.32999999999999996,.32999999999999996],.05),e.capsule2([.67,.32999999999999996],[.32999999999999996,.67],.05),e.cross([.5,.5],.05),e.draw(),{line:e}})()}}class k extends a.YJl{onInitialize(e){x(e).then(e=>{var t=this;let n=e.createBody({parent:this,position:[-.3,0,0]});n.mesh.material=new i.P8l({colorNode:c().mul((0,o.eR5)((0,o.uv)().mul((0,o.ZcS)(15,10)).fract(),1))}),!function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.createBody({parent:t,position:[r+a/2,l+o/2,0],shape:new I.Shape.Box([a/2,o/2,.1]),type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material}(-2,-2,8,1),e.createBody({parent:this,position:[.1,-2,0],type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({parent:this,position:[-.9,-2,-.1],type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({parent:this,position:[-.5,-2,1],type:I.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({shape:new I.Shape.Box([.5,.5,.01]),allowedDOFs:I.AllowedDOF.Plane2D,position:[.15,3,0],parent:this})})}constructor(...e){super(...e),this.parts=(()=>{let e=(0,m.mj)(new u.R,this).grid2({size:4}).opacity(.05).draw();return(0,m.mj)(new P,this),(0,m.mj)(new P,{parent:this,position:[1,0,0]}),{line:e}})()}}function B(){return(0,s.Fw)(function*(e){e.pipeline.basicPasses.fxaa.enabled=!1},[]),null}function E(){return(0,l.jsx)(s.uB,{webgpu:!0,vertigoControls:{size:5},children:(0,l.jsxs)("div",{className:"Main layer thru flex flex-col items-start justify-start p-4",children:[(0,l.jsx)("h1",{children:"Chunk Viewer"}),(0,l.jsx)(s.q,{value:k}),(0,l.jsx)(B,{})]})})}},95736:(e,t,n)=>{"use strict";function r(e,t){return"*"===t||("string"==typeof t?t===e:t instanceof RegExp?t.test(e):"function"==typeof t&&t(e))}n.d(t,{a:()=>i});let l={preventDefault:!1,strictTarget:void 0},a={key:"*",keyCaseInsensitive:!0,code:"*",noModifiers:!1,modifiers:"",phase:"down"},o=0;function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=o++,[s,u,d]=1===t.length?[document.body,{},t[0]]:2===t.length?[t[0],{},t[1]]:t,{preventDefault:c}={...l,...u},m=null,p=e=>{var t;if((null!=(t=u.strictTarget)?!!t:s===document.body)&&e.target!==s)return;"keydown"===e.type&&(m=e);let{ctrlKey:n=!1,altKey:l=!1,shiftKey:o=!1,metaKey:p=!1}=null!=m?m:{},h={id:i,event:e,downEvent:m,modifiers:{ctrl:n,alt:l,shift:o,meta:p}};for(let t=0,i=d.length;t<i;t++){let[i,s]=d[t],{key:u,keyCaseInsensitive:f,code:y,noModifiers:w,modifiers:v,phase:T="down"}=function(e){let t="string"==typeof e?{...a,key:e}:{...a,...e};return t.keyCaseInsensitive&&"string"==typeof t.key&&(t.key=t.key.toLowerCase()),t}(i);switch(e.type){case"keydown":if("down"!==T)continue;break;case"keyup":if("up"!==T)continue}Object.values({key:r(f?e.key.toLowerCase():e.key,u),code:r(e.code,y),noModifiers:!w||!1===n&&!1===l&&!1===o&&!1===p,modifiers:function(e,t){let{ctrlKey:n,altKey:r,shiftKey:l,metaKey:a}=e;if("function"==typeof t)return t({ctrl:n,alt:r,shift:l,meta:a});let{ctrl:o=!1,alt:i=!1,shift:s=!1,meta:u=!1}=Object.fromEntries(t.split("-").map(e=>[e,!0]));return o===n&&i===r&&s===l&&u===a}(m,v)}).every(Boolean)&&(c&&e.preventDefault(),s(h))}};return s.addEventListener("keydown",p,{passive:!1}),s.addEventListener("keyup",p,{passive:!1}),{destroy:()=>{s.removeEventListener("keydown",p),s.removeEventListener("keyup",p)}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[5611,7190,6564,4272,7223,9635,8921,4957,7775,16,7953,9901,4638,6726,2598,7373,8083,4266,6647,7074,1319,6852,7358],()=>t(84733)),_N_E=e.O()}]);