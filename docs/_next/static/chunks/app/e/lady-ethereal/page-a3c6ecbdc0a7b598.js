(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6640],{18715:(e,t,n)=>{"use strict";let l;n.d(t,{Main:()=>P});var a=n(70691),r=n(49797),o=n(17953),i=n(81074),s=n(53097),u=n(48181),d=n(93432);let m={emissive:.2,shadowColor:"#808080",power:2,sunDirection:[1,3,-1]},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white",t=arguments.length>1?arguments[1]:void 0;return(0,o.Fn)(()=>{let{emissive:n,shadowColor:l,power:a,sunDirection:r}={...m,...t},i=(0,d.jj)(r).negate().normalize(),s=o.O7c.normalize().dot((0,o.eR5)(i)).add(1).mul(.5).pow(a).oneMinus(),u=(0,o.jhA)(n,1,s);return(0,o.jhA)((0,o.yWT)(l),(0,o.yWT)(e),u.mul(1))})()};(0,o.Fn)(e=>{let[t,n=1]=e,l=t.length().max(n);return t.mul((0,o.fVC)(n).div(l))}),(0,o.Fn)(e=>{let[t,n]=e;return(0,o.fVC)(t).sign().mul((0,o.fVC)(t).abs().pow(n))}),(0,o.Fn)(e=>{let[t,n]=e;return(0,o.fVC)(1).sub((0,o.fVC)(2).mul(t).sub(1).abs().pow(n))}),(0,o.Fn)(e=>{let[t]=e,n=(0,o.eR5)(t),l=n.length(),a=(0,o.lnd)().toVar();return(0,o.If)(l.greaterThan(o.p8E),()=>{a.assign((0,o.lnd)(n.div(l),l))}),a}),(0,o.Fn)(e=>{let[t,n]=e,l=(0,o.ZcS)(t);(0,o.fVC)(n);let a=(0,o.fVC)(n).cos(),r=(0,o.fVC)(n).sin();return(0,o.ZcS)(l.x.mul(a).sub(l.y.mul(r)),l.x.mul(r).add(l.y.mul(a)))}),(0,o.Fn)(e=>{let[t,n,l]=e,a=(0,o.ZcS)(t),r=(0,o.ZcS)(n),i=(0,o.ZcS)(l);return a.sub(i).mul(r).add(i)}),(0,o.Fn)(e=>{let[t,n]=e,l=n.cos(),a=n.sin(),r=l.oneMinus(),i=t.x,s=t.y,u=t.z;return(0,o.w00)(l.add(i.mul(i).mul(r)),i.mul(s).mul(r).sub(u.mul(a)),i.mul(u).mul(r).add(s.mul(a)),i.mul(s).mul(r).add(u.mul(a)),l.add(s.mul(s).mul(r)),s.mul(u).mul(r).sub(i.mul(a)),i.mul(u).mul(r).sub(s.mul(a)),s.mul(u).mul(r).add(i.mul(a)),l.add(u.mul(u).mul(r)))}),(0,o.Fn)(e=>{let[t,n=0,l=437]=e,a=(0,o.tWU)(t.add(n).mul(l)),r=(0,o.tWU)(t.add(n).add(1).mul(l)),i=(0,o.tWU)(t.add(n).add(2).mul(l));return(0,o.eR5)(a,r,i)}),(0,o.Fn)(e=>{let[t,n=0,l=437]=e,a=(0,o.tWU)(t.add(n).mul(l)),r=(0,o.tWU)(t.add(n).add(1).mul(l)),i=(0,o.tWU)(t.add(n).add(2).mul(l)),s=(0,o.tWU)(t.add(n).add(3).mul(l));return(0,o.lnd)(a,r,i,s)}),(0,o.Fn)(e=>{let[t]=e,n=(0,o.tWU)(t.add(17).mul(437)),l=(0,o.tWU)(t.add(23).mul(439)),a=n.mul(2*Math.PI),r=l.mul(2).sub(1),i=r.mul(r).oneMinus().sqrt();return(0,o.eR5)(i.mul(a.cos()),i.mul(a.sin()),r)});var h=n(79911),p=n(72612),w=n(44694),y=n(96555);async function f(){return l||(l=await (0,y.A)()),l}let T=new r.Pq0,S=new r.O9p,v=new r.PTz;var C=function(e){return e[e.STATIC=0]="STATIC",e[e.KINEMATIC=1]="KINEMATIC",e[e.DYNAMIC=2]="DYNAMIC",e}({}),b=function(e){return e[e.All=63]="All",e[e.Plane2D=35]="Plane2D",e[e.RotationX=8]="RotationX",e[e.RotationY=16]="RotationY",e[e.RotationZ=32]="RotationZ",e[e.TranslationX=1]="TranslationX",e[e.TranslationY=2]="TranslationY",e[e.TranslationZ=4]="TranslationZ",e}({}),I=function(e){return e[e.STATIC=0]="STATIC",e[e.MOVING=1]="MOVING",e}({});let M=Object.keys(I).length/2;class j{toJoltShape(){throw Error("Not implemented")}toMesh(){throw Error("Not implemented")}}j.Sphere=class extends j{toJoltShape(){return new l.SphereShape(this.radius)}toMesh(){return new r.eaF(new r.WBB(this.radius,8))}constructor(e){super(),this.radius=e}},j.Box=class extends j{toJoltShape(){let e=function(e,t){let{x:n,y:l,z:a}=(0,w.jj)(e,T);return t.SetX(n),t.SetY(l),t.SetZ(a),t}(this.halfExtents,new l.Vec3);return new l.BoxShape(e)}toMesh(){let{x:e,y:t,z:n}=(0,w.jj)(this.halfExtents);return new r.eaF(new r.iNn(2*e,2*t,2*n))}constructor(e){super(),this.halfExtents=e}};class B{}async function g(e){await f();let t=new l.JoltSettings;t.mMaxWorkerThreads=3;let n=new l.ObjectLayerPairFilterTable(M);n.EnableCollision(0,1),n.EnableCollision(1,1);let a=new l.BroadPhaseLayer(0),o=new l.BroadPhaseLayer(1),i=new l.BroadPhaseLayerInterfaceTable(M,2);i.MapObjectToBroadPhaseLayer(0,a),i.MapObjectToBroadPhaseLayer(1,o),t.mObjectLayerPairFilter=n,t.mBroadPhaseLayerInterface=i,t.mObjectVsBroadPhaseLayerFilter=new l.ObjectVsBroadPhaseLayerFilterTable(i,2,n,M);let s=new l.JoltInterface(t);l.destroy(t);let u={moving:[]},m=s.GetPhysicsSystem(),c=m.GetBodyInterface(),h=e=>{for(let{mesh:t,body:n}of(s.Step(e,e>1/55?2:1),u.moving))!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0;t.set(e.GetX(),e.GetY(),e.GetZ())}(n.GetPosition(),t.position),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.PTz;t.set(e.GetX(),e.GetY(),e.GetZ(),e.GetW())}(n.GetRotation(),t.quaternion)};return e.ticker.onTick(e=>{h(e.deltaTime)}),{jolt:s,physicsSystem:m,bodyInterface:c,createBody:function(){let{shape:t=new j.Sphere(.5),type:n=2,allowedDOFs:a=63,mesh:r=null,position:o=[0,0,0],rotation:i=[0,0,0],parent:s=e.scene}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=new l.BodyCreationSettings(t.toJoltShape(),function(e,t){let{x:n,y:l,z:a}=(0,w.jj)(e,T);return t.SetX(n),t.SetY(l),t.SetZ(a),t}(o,new l.RVec3),function(e,t){(0,d.if)(e,S);let{x:n,y:l,z:a,w:r}=v.setFromEuler(S);return t.SetX(n),t.SetY(l),t.SetZ(a),t.SetW(r),t}(i,new l.Quat),n,1);m.mAllowedDOFs=a;let h=c.CreateBody(m);l.destroy(m),c.AddBody(h.GetID(),l.EActivation_Activate),null!=r||(r=t.toMesh()),s.add(r);let p={body:h,mesh:r};return(1===n||2===n)&&u.moving.push(p),p}}}B.MotionType=C,B.AllowedDOF=b,B.Layers=I,B.Shape=j;class x extends r.YJl{onDestroy(){}constructor(...e){super(...e),this.parts=(()=>{let e=(0,h.mj)(new u.R,this).rectangle([1,1]);for(let t of(e.line([.05,.5],[.3,.5]),e.line([.95,.5],[.7,.5]),e.polyline([[.4,.05],[.6,.05]]),e.polyline([[.4,.95],[.6,.95]]),(0,p.loop)(10))){let n=.05+.2*t.p;e.line([n,.05],[n,.25]),e.line([n,.75],[n,.95]),e.line([1-n,.05],[1-n,.25]),e.line([1-n,.75],[1-n,.95])}return e.circle([.5,.5],.2),e.circle([.5,.5],.22),e.capsule2([.67,.67],[.32999999999999996,.32999999999999996],.05),e.capsule2([.67,.32999999999999996],[.32999999999999996,.67],.05),e.cross([.5,.5],.05),e.draw(),{line:e}})()}}class A extends r.YJl{onInitialize(e){g(e).then(e=>{var t=this;let n=e.createBody({parent:this,position:[-.3,0,0]});n.mesh.material=new i.P8l({colorNode:c().mul((0,o.eR5)((0,o.uv)().mul((0,o.ZcS)(15,10)).fract(),1))}),!function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.createBody({parent:t,position:[l+r/2,a+o/2,0],shape:new B.Shape.Box([r/2,o/2,.1]),type:B.MotionType.KINEMATIC}).mesh.material=n.mesh.material}(-2,-2,8,1),e.createBody({parent:this,position:[.1,-2,0],type:B.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({parent:this,position:[-.9,-2,-.1],type:B.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({parent:this,position:[-.5,-2,1],type:B.MotionType.KINEMATIC}).mesh.material=n.mesh.material,e.createBody({shape:new B.Shape.Box([.5,.5,.01]),allowedDOFs:B.AllowedDOF.Plane2D,position:[.15,3,0],parent:this})})}constructor(...e){super(...e),this.parts=(()=>{let e=(0,h.mj)(new u.R,this).grid2({size:4}).opacity(.05).draw();return(0,h.mj)(new x,this),(0,h.mj)(new x,{parent:this,position:[1,0,0]}),{line:e}})()}}function F(){return(0,s.Fw)(function*(e){e.pipeline.basicPasses.fxaa.enabled=!1},[]),null}function P(){return(0,a.jsx)(s.uB,{webgpu:!0,vertigoControls:{size:5},children:(0,a.jsxs)("div",{className:"Main layer thru flex flex-col items-start justify-start p-4",children:[(0,a.jsx)("h1",{children:"Chunk Viewer"}),(0,a.jsx)(s.q,{value:A}),(0,a.jsx)(F,{})]})})}},66620:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var l=n(89868),a=n(44138);function r(e,t){var n=(0,a._)(e,t,"update");return(0,l._)(e,n)}},84733:(e,t,n)=>{Promise.resolve().then(n.bind(n,18715))}},e=>{var t=t=>e(e.s=t);e.O(0,[5611,7190,6564,4272,7962,9635,8921,7953,4512,7775,7436,9901,146,6726,3445,9332,3414,9717,1763,2143,3097,8181,1319,6852,7358],()=>t(84733)),_N_E=e.O()}]);