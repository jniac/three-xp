(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{66309:function(e,t,r){Promise.resolve().then(r.bind(r,28169))},98047:function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,i]=1===t.length?[window,t[0]]:t,a=()=>{i()};return n.addEventListener("mousemove",a),n.addEventListener("mousedown",a),n.addEventListener("mouseup",a),n.addEventListener("touchstart",a),n.addEventListener("touchmove",a),n.addEventListener("wheel",a),n.addEventListener("keydown",a),n.addEventListener("keyup",a),window.addEventListener("resize",a),{destroy:()=>{n.removeEventListener("mousemove",a),n.removeEventListener("mousedown",a),n.removeEventListener("mouseup",a),n.removeEventListener("touchstart",a),n.removeEventListener("touchmove",a),n.removeEventListener("wheel",a),n.removeEventListener("keydown",a),n.removeEventListener("keyup",a),window.removeEventListener("resize",a)}}}r.d(t,{s:function(){return n}})},1420:function(e,t,r){"use strict";r.d(t,{v:function(){return n.v}});var n=r(29949)},29949:function(e,t,r){"use strict";r.d(t,{v:function(){return l}});var n=r(46496);class i{_getId(){return i._idHash.init().update(++this._count).getValue()}_registerObject(e){let t=this._getId();return this._weakMap.set(e,t),t}_registerPrimitive(e){let t=this._getId();return this._map.set(e,t),t}_requirePrimitiveId(e){var t;return null!==(t=this._map.get(e))&&void 0!==t?t:this._registerPrimitive(e)}_requireObjectId(e){var t;return null!==(t=this._weakMap.get(e))&&void 0!==t?t:this._registerObject(e)}_requireArrayId(e){let{_arrayHash:t}=i;for(let r of(t.init(),e.flat(16)))t.update(this.requireId(r));return t.getValue()}requireId(e){return!function(e){if(null==e)return!0;switch(typeof e){case"function":case"object":return!1;default:return!0}}(e)?Array.isArray(e)?this._requireArrayId(e):this._requireObjectId(e):this._requirePrimitiveId(e)}constructor(){this._count=1,this._map=new Map,this._weakMap=new WeakMap}}i._idHash=new n.k,i._arrayHash=new n.k;class a{constructor(e,t){this.filter=e,this.callback=t,this.match="*"===e?()=>!0:"string"==typeof e?t=>t===e:e instanceof RegExp?t=>e.test(t):()=>!1}}let s=new i,o=new Map;class l{payloadAssign(e){let{overwrite:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.payload=t?{...this.payload,...e}:{...e,...this.payload},this}constructor(e,t,r){var n;this.id=l.nextId++,this.debug={currentListenerIndex:-1,listenerCount:0},this.targetId=s.requireId(e),this.target=e,this.type=null!=t?t:"message",this.payload=r;let i=(null!==(n=o.get(this.targetId))&&void 0!==n?n:[]).filter(e=>e.match(this.type));for(let e of(this.debug.listenerCount=i.length,i))this.debug.currentListenerIndex++,e.callback(this)}}l.send=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,i,a]=function(e){let[t,...r]=e;if(2===r.length){let[e,{payload:n}]=r;return[t,e,n]}if(1===r.length){let[e]=r;return"string"==typeof e?[t,e]:[t,void 0,e.payload]}return[t]}(t);return new l(n,i,a)},l.on=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let[i,l,u]=function(e){if(2===e.length){let[t,r]=e;return[t,"*",r]}return e}(r),d=s.requireId(i),h=new a(l,u);return(null!==(e=o.get(d))&&void 0!==e?e:(()=>{let e=[];return o.set(d,e),e})()).push(h),{destroy:()=>{!function(e,t){let r=o.get(e);if(r){let n=r.indexOf(t);-1!==n&&(r.splice(n,1),0===r.length&&o.delete(e))}}(d,h)}}},l.debug={listenerMap:o,idRegister:s},l.nextId=0},83356:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(82983);class i extends n.DataTextureLoader{constructor(e){super(e),this.type=n.HalfFloatType}parse(e){let t,r,i;let a=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},s=function(e,t,r){t=t||1024;let n=e.pos,i=-1,a=0,s="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));for(;0>(i=o.indexOf("\n"))&&a<t&&n<e.byteLength;)s+=o,a+=o.length,n+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return -1<i&&(!1!==r&&(e.pos+=a+i+1),s+o.slice(0,i))},o=new Uint8Array(e);o.pos=0;let l=function(e){let t,r;let n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=s(e))||a(1,"no header found"),(r=t.match(/^#\?(\S+)/))||a(3,"bad initial token"),u.valid|=1,u.programtype=r[1],u.string+=t+"\n";!1!==(t=s(e));){if(u.string+=t+"\n","#"===t.charAt(0)){u.comments+=t+"\n";continue}if((r=t.match(n))&&(u.gamma=parseFloat(r[1])),(r=t.match(i))&&(u.exposure=parseFloat(r[1])),(r=t.match(o))&&(u.valid|=2,u.format=r[1]),(r=t.match(l))&&(u.valid|=4,u.height=parseInt(r[1],10),u.width=parseInt(r[2],10)),2&u.valid&&4&u.valid)break}return 2&u.valid||a(3,"missing format specifier"),4&u.valid||a(3,"missing image size specifier"),u}(o),u=l.width,d=l.height,h=function(e,t,r){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&a(3,"wrong scanline width");let n=new Uint8Array(4*t*r);n.length||a(4,"unable to allocate buffer space");let i=0,s=0,o=4*t,l=new Uint8Array(4),u=new Uint8Array(o),d=r;for(;d>0&&s<e.byteLength;){s+4>e.byteLength&&a(1),l[0]=e[s++],l[1]=e[s++],l[2]=e[s++],l[3]=e[s++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=t)&&a(3,"bad rgbe scanline format");let r=0,h;for(;r<o&&s<e.byteLength;){let t=(h=e[s++])>128;if(t&&(h-=128),(0===h||r+h>o)&&a(3,"bad scanline data"),t){let t=e[s++];for(let e=0;e<h;e++)u[r++]=t}else u.set(e.subarray(s,s+h),r),r+=h,s+=h}for(let e=0;e<t;e++){let r=0;n[i]=u[e+r],r+=t,n[i+1]=u[e+r],r+=t,n[i+2]=u[e+r],r+=t,n[i+3]=u[e+r],i+=4}d--}return n}(o.subarray(o.pos),u,d);switch(this.type){case n.FloatType:let c=new Float32Array(4*(i=h.length/4));for(let e=0;e<i;e++)!function(e,t,r,n){let i=Math.pow(2,e[t+3]-128)/255;r[n+0]=e[t+0]*i,r[n+1]=e[t+1]*i,r[n+2]=e[t+2]*i,r[n+3]=1}(h,4*e,c,4*e);t=c,r=n.FloatType;break;case n.HalfFloatType:let f=new Uint16Array(4*(i=h.length/4));for(let e=0;e<i;e++)!function(e,t,r,i){let a=Math.pow(2,e[t+3]-128)/255;r[i+0]=n.DataUtils.toHalfFloat(Math.min(e[t+0]*a,65504)),r[i+1]=n.DataUtils.toHalfFloat(Math.min(e[t+1]*a,65504)),r[i+2]=n.DataUtils.toHalfFloat(Math.min(e[t+2]*a,65504)),r[i+3]=n.DataUtils.toHalfFloat(1)}(h,4*e,f,4*e);t=f,r=n.HalfFloatType;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:u,height:d,data:t,header:l.string,gamma:l.gamma,exposure:l.exposure,type:r}}setDataType(e){return this.type=e,this}load(e,t,r,i){return super.load(e,function(e,r){switch(e.type){case n.FloatType:case n.HalfFloatType:e.colorSpace=n.LinearSRGBColorSpace,e.minFilter=n.LinearFilter,e.magFilter=n.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,i)}}}},function(e){e.O(0,[244,630,62,14,510,169,692,524,744],function(){return e(e.s=66309)}),_N_E=e.O()}]);