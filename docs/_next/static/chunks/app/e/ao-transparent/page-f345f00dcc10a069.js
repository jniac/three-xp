(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{7021:function(t,e,r){Promise.resolve().then(r.bind(r,1863))},3044:function(t,e,r){"use strict";r.d(e,{v:function(){return l}});var n=r(4552);class i{_getId(){return i._idHash.init().update(++this._count).getValue()}_registerObject(t){let e=this._getId();return this._weakMap.set(t,e),e}_registerPrimitive(t){let e=this._getId();return this._map.set(t,e),e}_requirePrimitiveId(t){var e;return null!==(e=this._map.get(t))&&void 0!==e?e:this._registerPrimitive(t)}_requireObjectId(t){var e;return null!==(e=this._weakMap.get(t))&&void 0!==e?e:this._registerObject(t)}_requireArrayId(t){let{_arrayHash:e}=i;for(let r of(e.init(),t.flat(16)))e.update(this.requireId(r));return e.getValue()}requireId(t){return!function(t){if(null==t)return!0;switch(typeof t){case"function":case"object":return!1;default:return!0}}(t)?Array.isArray(t)?this._requireArrayId(t):this._requireObjectId(t):this._requirePrimitiveId(t)}constructor(){this._count=1,this._map=new Map,this._weakMap=new WeakMap}}i._idHash=new n.k,i._arrayHash=new n.k;class a{constructor(t,e){this.filter=t,this.callback=e,this.match="*"===t?()=>!0:"string"==typeof t?e=>e===t:t instanceof RegExp?e=>t.test(e):()=>!1}}let s=new i,o=new Map;class l{payloadAssign(t){let{overwrite:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.payload=e?{...this.payload,...t}:{...t,...this.payload},this}constructor(t,e,r){var n;this.id=l.nextId++,this.debug={currentListenerIndex:-1,listenerCount:0},this.targetId=s.requireId(t),this.target=t,this.type=null!=e?e:"message",this.payload=r;let i=(null!==(n=o.get(this.targetId))&&void 0!==n?n:[]).filter(t=>t.match(this.type));for(let t of(this.debug.listenerCount=i.length,i))this.debug.currentListenerIndex++,t.callback(this)}}l.send=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[n,i,a]=function(t){let[e,...r]=t;if(2===r.length){let[t,{payload:n}]=r;return[e,t,n]}if(1===r.length){let[t]=r;return"string"==typeof t?[e,t]:[e,void 0,t.payload]}return[e]}(e);return new l(n,i,a)},l.on=function(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let[i,l,u]=function(t){if(2===t.length){let[e,r]=t;return[e,"*",r]}return t}(r),h=s.requireId(i),d=new a(l,u);return(null!==(t=o.get(h))&&void 0!==t?t:(()=>{let t=[];return o.set(h,t),t})()).push(d),{destroy:()=>{!function(t,e){let r=o.get(t);if(r){let n=r.indexOf(e);-1!==n&&(r.splice(n,1),0===r.length&&o.delete(t))}}(h,d)}}},l.debug={listenerMap:o,idRegister:s},l.nextId=0},3208:function(t,e,r){"use strict";r.d(e,{x:function(){return i}});var n=r(7785);class i extends n.yxD{constructor(t){super(t),this.type=n.cLu}parse(t){let e,r,i;let a=function(t,e){switch(t){case 1:throw Error("THREE.RGBELoader: Read Error: "+(e||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(e||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(e||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(e||""))}},s=function(t,e,r){e=e||1024;let n=t.pos,i=-1,a=0,s="",o=String.fromCharCode.apply(null,new Uint16Array(t.subarray(n,n+128)));for(;0>(i=o.indexOf("\n"))&&a<e&&n<t.byteLength;)s+=o,a+=o.length,n+=128,o+=String.fromCharCode.apply(null,new Uint16Array(t.subarray(n,n+128)));return -1<i&&(!1!==r&&(t.pos+=a+i+1),s+o.slice(0,i))},o=new Uint8Array(t);o.pos=0;let l=function(t){let e,r;let n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(t.pos>=t.byteLength)&&(e=s(t))||a(1,"no header found"),(r=e.match(/^#\?(\S+)/))||a(3,"bad initial token"),u.valid|=1,u.programtype=r[1],u.string+=e+"\n";!1!==(e=s(t));){if(u.string+=e+"\n","#"===e.charAt(0)){u.comments+=e+"\n";continue}if((r=e.match(n))&&(u.gamma=parseFloat(r[1])),(r=e.match(i))&&(u.exposure=parseFloat(r[1])),(r=e.match(o))&&(u.valid|=2,u.format=r[1]),(r=e.match(l))&&(u.valid|=4,u.height=parseInt(r[1],10),u.width=parseInt(r[2],10)),2&u.valid&&4&u.valid)break}return 2&u.valid||a(3,"missing format specifier"),4&u.valid||a(3,"missing image size specifier"),u}(o),u=l.width,h=l.height,d=function(t,e,r){if(e<8||e>32767||2!==t[0]||2!==t[1]||128&t[2])return new Uint8Array(t);e!==(t[2]<<8|t[3])&&a(3,"wrong scanline width");let n=new Uint8Array(4*e*r);n.length||a(4,"unable to allocate buffer space");let i=0,s=0,o=4*e,l=new Uint8Array(4),u=new Uint8Array(o),h=r;for(;h>0&&s<t.byteLength;){s+4>t.byteLength&&a(1),l[0]=t[s++],l[1]=t[s++],l[2]=t[s++],l[3]=t[s++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=e)&&a(3,"bad rgbe scanline format");let r=0,d;for(;r<o&&s<t.byteLength;){let e=(d=t[s++])>128;if(e&&(d-=128),(0===d||r+d>o)&&a(3,"bad scanline data"),e){let e=t[s++];for(let t=0;t<d;t++)u[r++]=e}else u.set(t.subarray(s,s+d),r),r+=d,s+=d}for(let t=0;t<e;t++){let r=0;n[i]=u[t+r],r+=e,n[i+1]=u[t+r],r+=e,n[i+2]=u[t+r],r+=e,n[i+3]=u[t+r],i+=4}h--}return n}(o.subarray(o.pos),u,h);switch(this.type){case n.VzW:let c=new Float32Array(4*(i=d.length/4));for(let t=0;t<i;t++)!function(t,e,r,n){let i=Math.pow(2,t[e+3]-128)/255;r[n+0]=t[e+0]*i,r[n+1]=t[e+1]*i,r[n+2]=t[e+2]*i,r[n+3]=1}(d,4*t,c,4*t);e=c,r=n.VzW;break;case n.cLu:let f=new Uint16Array(4*(i=d.length/4));for(let t=0;t<i;t++)!function(t,e,r,i){let a=Math.pow(2,t[e+3]-128)/255;r[i+0]=n.A5E.toHalfFloat(Math.min(t[e+0]*a,65504)),r[i+1]=n.A5E.toHalfFloat(Math.min(t[e+1]*a,65504)),r[i+2]=n.A5E.toHalfFloat(Math.min(t[e+2]*a,65504)),r[i+3]=n.A5E.toHalfFloat(1)}(d,4*t,f,4*t);e=f,r=n.cLu;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:u,height:h,data:e,header:l.string,gamma:l.gamma,exposure:l.exposure,type:r}}setDataType(t){return this.type=t,this}load(t,e,r,i){return super.load(t,function(t,r){switch(t.type){case n.VzW:case n.cLu:t.colorSpace=n.GUF,t.minFilter=n.wem,t.magFilter=n.wem,t.generateMipmaps=!1,t.flipY=!0}e&&e(t,r)},r,i)}}}},function(t){t.O(0,[244,909,572,89,942,863,251,663,744],function(){return t(t.s=7021)}),_N_E=t.O()}]);