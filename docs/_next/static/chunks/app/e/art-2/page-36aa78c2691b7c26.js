(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{1029:(e,n,t)=>{"use strict";t.d(n,{N:()=>a});let r={vecX:["float","vec2","vec3","vec4"]},a=(e,n)=>{let t=[],a=Array.isArray(e)?e:[e].map(e=>e in r?r[e]:e).flat();if("function"==typeof n)for(let e of a)t.push(n(e).replaceAll(/\bT\b/g,e));else for(let e of a)t.push(n.replaceAll(/\bT\b/g,e));return t.join("\n")}},7147:(e,n,t)=>{"use strict";t.d(n,{bI:()=>b,eR:()=>z});var r=t(888),a=t(30158);let o=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var i=t(49797),l=t(85795);class s{static from(e,n){if(n instanceof l.Observable){if("number"==typeof n.value)return new s(e,n);throw Error("Observable value must be a number")}let t=typeof n;return"object"===t&&(n.constructor===Object||n instanceof i.nc$)&&"value"in n?new s(e,n):"string"===t?new s(e,{value:new i.Q1f(n)}):new s(e,{value:n})}get value(){return this.target.value}computeDeclaration(){let e=this.name,n=this.target.value,t="";if(n instanceof Float32Array)return"uniform float ".concat(e,"[").concat(n.length,"];");if(Array.isArray(n)&&(t="[".concat(n.length,"]"),n=n[0]),"number"==typeof n)return"uniform float ".concat(e).concat(t,";");if(n.isVector2)return"uniform vec2 ".concat(e).concat(t,";");if(n.isVector3||n.isColor)return"uniform vec3 ".concat(e).concat(t,";");if(n.isVector4||n.isQuaternion)return"uniform vec4 ".concat(e).concat(t,";");if(n.isMatrix3)return"uniform mat3 ".concat(e).concat(t,";");if(n.isMatrix4)return"uniform mat4 ".concat(e).concat(t,";");if(n.isTexture)if(n.isCubeTexture)return"uniform samplerCube ".concat(e).concat(t,";");else return"uniform sampler2D ".concat(e).concat(t,";");throw console.log("unhandled value:",n),Error('unhandled value: "'.concat(null==n?void 0:n.constructor.name,'"'))}constructor(e,n){this.name=e,this.target=n}}function c(){let e=(0,r._)(["","s*",""],["","\\s*",""]);return c=function(){return e},e}let u=null,f=e=>(u=e,b),d="// ShaderForge (injected code) ->",p="// <- ShaderForge",h=e=>"".concat(d,"\n").concat(e.trim(),"\n").concat(p),m=e=>{let n=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=RegExp(String.raw(c(),n(p),n(d)),"g");return e.replaceAll(t,"")};class x{getPattern(e){let{throwError:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="#include <".concat(e,">"),r=this.type;if(n&&!1===u[r].includes(t))throw Error('"'.concat(t,'" is not present in the shader template program.'));return{pattern:t,type:r}}replace(e,n){if(e instanceof RegExp){let{type:t}=this;u[t]=u[t].replace(e,h(n))}else{let{type:t,pattern:r}=this.getPattern(e),a=h(n);u[t]=u[t].replace(r,a)}return b}inject(e,n,t){let{type:r,pattern:a}=this.getPattern(n),o="after"===e?"".concat(a,"\n").concat(h(t)):"".concat(h(t),"\n").concat(a);return u[r]=u[r].replace(a,o),b}injectTokenComments(){for(let e of o){let{type:n,pattern:t}=this.getPattern(e,{throwError:!1});u[n]=u[n].replace(t,"\n        ".concat(t,"\n        // ShaderForge TOKEN: ").concat(e,"\n      "))}return b}header(e){let n=this.type;return u[n]="".concat(e,"\n").concat(u[n]),b}before(e,n){return this.inject("before",e,n)}after(e,n){return this.inject("after",e,n)}top(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return u[this.type]=u[this.type].replace("void main() {","\n      ".concat(h(n.join("\n\n")),"\n      void main() {\n    ")),b}mainBeforeAll(e){return u[this.type]=u[this.type].replace("void main() {","void main() {\n        ".concat(h(e))),b}mainAfterAll(e){return u[this.type]=u[this.type].replace(/}\s*$/,"\n      ".concat(h(e),"\n    }")),b}uniforms(e){if("string"==typeof e)this.top(e);else{let n=[];for(let[t,r]of Object.entries(e)){let e=s.from(t,r);n.push(e.computeDeclaration())}this.top(n.join("\n")),function(e){for(let[n,t]of Object.entries(e)){let e=s.from(n,t);if(n in u.uniforms){if(e.value!==u.uniforms[n].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else u.uniforms[n]=e}}(e)}return b}clean(){return u[this.type]=m(u[this.type]),b}printFinalCode(){return console.log(u[this.type].replace(/#include <(.*)>/g,(e,n)=>{let t=a.ShaderChunk[n];if(!t)throw Error('Shader chunk "'.concat(n,'" not found'));return t})),b}constructor(e){this.type=e}}let v={sf_vObjectPosition:()=>{g("\n      varying vec3 sf_vObjectPosition;\n    "),w.mainAfterAll("\n      sf_vObjectPosition = transformed;\n    ")},sf_vWorldPosition:()=>{g("\n      varying vec3 sf_vWorldPosition;\n    "),w.mainAfterAll("\n      vec4 sf_mvPosition = vec4(transformed,1.0 );\n      #ifdef USE_BATCHING\n        sf_mvPosition = batchingMatrix * sf_mvPosition;\n      #endif\n      #ifdef USE_INSTANCING\n        sf_mvPosition = instanceMatrix * sf_mvPosition;\n      #endif\n      sf_vWorldPosition = (modelMatrix * sf_mvPosition).xyz;\n    ")},sf_vWorldNormal:()=>{g("\n      varying vec3 sf_vWorldNormal;\n    "),w.mainAfterAll("\n      #ifdef USE_INSTANCING\n        sf_vWorldNormal = mat3(modelMatrix) * mat3(instanceMatrix) * normal;\n      #elif\n        sf_vWorldNormal = mat3(modelMatrix) * normal;\n      #endif\n\n      #ifdef FLIP_SIDED\n        sf_vWorldNormal = -sf_vWorldNormal;\n      #endif\n    ")}};function g(e){return w.top(e),y.top(e),b}let y=new x("fragmentShader"),w=new x("vertexShader"),b=Object.assign(function(e){return e&&f(e),b},{shaderName:function(e){return u.shaderName="".concat(e," (ShaderForge)"),b},defines:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let r=n[0];return"string"==typeof r&&(r=Object.fromEntries(n.map(e=>[e,""]))),u.defines?Object.assign(u.defines,r):u.defines=r,b},uniforms:function(e){return w.uniforms(e),y.uniforms(e),b},varying:function(e){let n="";if("string"==typeof e)n=e;else{let t=[];for(let[n,r]of Object.entries(e))t.push("varying ".concat(r," ").concat(n,";"));n=t.join("\n")}return w.top(n),y.top(n),b},createVarying:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];for(let e of n){let n=v[e];n?n():console.warn('No createVarying function found for "'.concat(e,'"'))}return b},top:g,vertex:w,fragment:y,header:function(e){return y.header(e),w.header(e),b},clean:function(){return y.clean(),w.clean(),b},with:f,wrap:(e,n)=>(e.onBeforeCompile=e=>{u=e},e)}),_=new i.Q1f;function z(e){if("string"==typeof e&&e.startsWith("#")){let{r:n,g:t,b:r}=function(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length){let n=parseInt(e[0],16)/15;return{r:n,g:parseInt(e[1],16)/15,b:parseInt(e[2],16)/15,a:1}}if(4===e.length){let n=parseInt(e[0],16)/15,t=parseInt(e[1],16)/15;return{r:n,g:t,b:parseInt(e[2],16)/15,a:parseInt(e[3],16)/15}}if(6===e.length){let n=parseInt(e.slice(0,2),16)/255;return{r:n,g:parseInt(e.slice(2,4),16)/255,b:parseInt(e.slice(4,6),16)/255,a:1}}if(8===e.length){let n=parseInt(e.slice(0,2),16)/255,t=parseInt(e.slice(2,4),16)/255;return{r:n,g:t,b:parseInt(e.slice(4,6),16)/255,a:parseInt(e.slice(6,8),16)/255}}throw Error("Invalid hex format.")}(e);return"vec3(".concat(n.toFixed(3),", ").concat(t.toFixed(3),", ").concat(r.toFixed(3),")")}let{r:n,g:t,b:r}=_.set(e);return"vec3(".concat(n.toFixed(3),", ").concat(t.toFixed(3),", ").concat(r.toFixed(3),")")}},8144:(e,n,t)=>{"use strict";t.d(n,{H:()=>o});var r=t(65927),a=t(1029);let o="\n".concat(r.S,"\n\n#ifndef GLSL_UTILS\n#define GLSL_UTILS\n\nfloat sin01(float x) {\n  return 0.5 + 0.5 * sin(x * 6.283185307179586);\n}\n\nvec2 scaleAround(vec2 p, vec2 c, float s) {\n  return c + (p - c) / s;\n}\n\n// Same as mix, but clamped.\n").concat((0,a.N)("vecX","\n  T lerp(in T a, in T b, in float x) {\n    return mix(a, b, clamp01(x));\n  }\n"),"\n\nfloat inverseLerpUnclamped(in float a, in float b, float x) {\n  return (x - a) / (b - a);\n}\n\nfloat inverseLerp(in float a, in float b, float x) {\n  return clamp01((x - a) / (b - a));\n}\n\nfloat remap(in float x, in float a, in float b, in float c, in float d) {\n  return c + (d - c) * inverseLerp(a, b, x);\n}\n\n// Remap from [-1, 1] to [0, 1]\nfloat remap1101(in float x) {\n  return clamp01(0.5 + 0.5 * x);\n}\n\n").concat((0,a.N)("vecX","\n  T oneMinus(in T x) {\n    return 1.0 - x;\n  }\n"),"\n\n// Returns x^p, but handles negative x values correctly.\nfloat spow(in float x, in float p) {\n  return x >= 0.0 ? pow(x, p) : -pow(-x, p);\n}\n\nfloat threshold(in float x, in float thresholdValue) {\n  return x < thresholdValue ? 0. : 1.;\n}\n\nfloat threshold(in float x, in float thresholdValue, in float width) {\n  return width < 1e-9 \n    ? (x < thresholdValue ? 0. : 1.)\n    : clamp01((x - thresholdValue + width * .5) / width);\n}\n\nmat3 extractRotation(mat4 matrix) {\n  return mat3(matrix[0].xyz, matrix[1].xyz, matrix[2].xyz);\n}\n\nvec2 rotate(vec2 p, float a) {\n  float c = cos(a);\n  float s = sin(a);\n  float x = c * p.x + s * p.y;\n  float y = -s * p.x + c * p.y;\n  return vec2(x, y);\n}\n\nvec2 rotateAround(vec2 p, float a, vec2 c) {\n  return c + rotate(p - c, a);\n}\n\nvec2 rotateScaleAround(vec2 p, float a, float s, vec2 c) {\n  return c + rotate((p - c) / s, a);\n}\n\nfloat positiveModulo(float x) {\n  x = mod(x, 1.0);\n  return x < 0.0 ? x + 1.0 : x;\n}\n\n// Modulo that keeps the result in the range [0, modulo]\nfloat positiveModulo(float x, float modulo) {\n  x = mod(x, modulo);\n  return x < 0.0 ? x + modulo : x;\n}\n\n// Modulo that keeps the result in the range [-m/2, m/2]\nfloat middleModulo(float x, float modulo) {\n  x = mod(x, modulo);\n  return x < -modulo / 2.0 ? x + modulo : x > modulo / 2.0 ? x - modulo : x;\n}\n\n// Limit a value to a maximum that the function tends to reach when x -> ∞\n// https://www.desmos.com/calculator/0vewkbnscu\nfloat limited(float x, float maxValue) {\n  return x <= 0.0 ? x : maxValue * x / (maxValue + x);\n}\n\n// Symmetric version of limited\n// \n// Limit a value to a maximum that the function tends to reach when x -> ∞\n// and a minimum (-maximum) that the function tends to reach when x -> -∞\n// https://www.desmos.com/calculator/0vewkbnscu\nfloat slimited(float x, float maxValue) {\n  return x <= 0.0\n    ? -limited(-x, maxValue)\n    : limited(x, maxValue);\n}\n\n// https://www.desmos.com/calculator/0vewkbnscu\nfloat limited(float x, float minValue, float maxValue) {\n  float d = maxValue - minValue;\n  float xd = x - minValue;\n  return x <= minValue ? x : minValue + d * xd / (d + xd);\n}\n\n// Symmetric version of limited\nfloat slimited(float x, float minValue, float maxValue) {\n  return x <= 0.0\n    ? -limited(-x, maxValue, minValue)\n    : limited(x, minValue, maxValue);\n}\n\nfloat sqLength(in vec2 p) {\n  return p.x * p.x + p.y * p.y;\n}\n\nfloat sqLength(in vec3 p) {\n  return p.x * p.x + p.y * p.y + p.z * p.z;\n}\n\nfloat pcurve(float x, float a, float b) {\n  float k = pow(a + b, a + b) / (pow(a, a) * pow(b, b));\n  return k * pow(x, a) * pow(1.0 - x, b);\n}\n\nfloat hash(float p) {\n  return fract(sin(p * 12.9898) * 43758.5453);\n}\n\nfloat hash(vec2 p) {\n  return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nfloat hash(vec3 p) {\n  return fract(sin(dot(p, vec3(12.9898, 78.233, 45.164))) * 43758.5453);\n}\n\nfloat hash(vec4 p) {\n  return fract(sin(dot(p, vec4(12.9898, 78.233, 45.164, 94.673))) * 43758.5453);\n}\n\nvec2 hash2(float p) {\n  return vec2(hash(p), hash(p + 1.0));\n}\n\nvec2 hash2(vec2 p) {\n  return vec2(hash(p.x), hash(p.y));\n}\n\nvec2 hash2(vec3 p) {\n  return vec2(hash(p.xy), hash(p.yz));\n}\n\nvec2 hash2(vec4 p) {\n  return vec2(hash(p.xyz), hash(p.yzw));\n}\n\nvec3 hash3(float p) {\n  return vec3(hash2(p),  hash(p + 2.0));\n}\n\nvec3 hash3(vec2 p) {\n  return vec3(hash2(p), hash(p));\n}\n\nvec3 hash3(vec3 p) {\n  return vec3(hash(p.x), hash(p.y), hash(p.z));\n}\n\nvec3 hash3(vec4 p) {\n  return vec3(hash(p.xy), hash(p.yz), hash(p.zw));\n}\n\nfloat hash_alt(float p) {\n  return fract(sin(p * 127.1) * 311.7);\n}\n\nfloat hash_alt(vec2 p) {\n  return fract(sin(dot(p, vec2(127.1, 311.7))) * 269.5);\n}\n\nfloat hash_alt(vec3 p) {\n  return fract(sin(dot(p, vec3(127.1, 311.7, 74.7))) * 269.5);\n}\n\nfloat hash_alt(vec4 p) {\n  return fract(sin(dot(p, vec4(127.1, 311.7, 74.7, 113.5))) * 269.5);\n}\n\n").concat((0,a.N)("vecX","\n  T min3(in T a, in T b, in T c) {\n    return min(min(a, b), c);\n  }\n"),"\n\n").concat((0,a.N)("vecX","\n  T min4(in T a, in T b, in T c, in T d) {\n    return min(min(a, b), min(c, d));\n  }\n"),"\n\n#endif // GLSL_UTILS\n")},14203:(e,n,t)=>{"use strict";t.d(n,{O:()=>a});var r=t(1029);let a="\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex \n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20201014 (stegu)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n// \n\nfloat mod289(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; \n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nfloat permute(float x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\nvec4 permute(vec4 x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\nfloat taylorInvSqrt(float r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 taylorInvSqrt(vec4 r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\n\n\n\n\n// 2D:\n\nfloat snoise(vec2 v) {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n		+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// 3D: \n\nfloat snoise(vec3 v)\n{ \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n  // Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 105.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\n\n\n// 4D:\n\nvec4 grad4(float j, vec4 ip)\n  {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; \n\n  return p;\n}\n						\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise(vec4 v) {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n                        0.276393202250021,  // 2 * G4\n                        0.414589803375032,  // 3 * G4\n                       -0.447213595499958); // -1 + 4 * G4\n\n  // First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n  // Other corners\n\n  // Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n  //  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n  //  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n  // Permutations\n  i = mod289(i); \n  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute( permute( permute( permute (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n  // Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n  // 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0 = grad4(j0,   ip);\n  vec4 p1 = grad4(j1.x, ip);\n  vec4 p2 = grad4(j1.y, ip);\n  vec4 p3 = grad4(j1.z, ip);\n  vec4 p4 = grad4(j1.w, ip);\n\n  // Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt(dot(p4,p4));\n\n  // Mix contributions from the five corners\n  vec3 m0 = max(0.57 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.57 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 60.1 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n}\n\n\n\n\n// addons:\n// Fractal noise, based on Stefan Gustavson's Simplex noise\n".concat((0,r.N)(["vec2","vec3","vec4"],"\n  float fnoise(T p, int octaves, float persistence) {\n    float total = 0.0;           // Final noise value\n    float amplitude = 1.0;       // Initial amplitude\n    float frequency = 1.0;       // Initial frequency\n    float maxValue = 0.0;        // Used for normalization\n\n    for (int i = 0; i < octaves; i++) {\n      total += snoise(p * frequency) * amplitude;\n\n      maxValue += amplitude;   // Keep track of max amplitude\n      amplitude *= persistence; // Reduce amplitude for next octave\n      frequency *= 2.0;        // Increase frequency for next octave\n    }\n\n    // Normalize the result to stay within the range [0, 1]\n    return total / maxValue;\n  }\n\n  float fnoise(T p, int octaves) {\n    return fnoise(p, octaves, 0.5);\n  }\n\n  float fnoise(T p) {\n    return fnoise(p, 4, 0.5);\n  }\n"),"\n\nfloat snoiseFast4D(vec4 p) {\n  const float SCALAR = 0.01;\n  float a = SCALAR * dot(p.xy * 0.3, vec2(-127.1, 311.7));\n  float b = SCALAR * dot(p.zw * 0.8, vec2(269.5, -183.3));\n  float c = SCALAR * dot(p.wx * 6.0, vec2(23.14069, 2.665157));\n  float d = SCALAR * dot(p.zy * 1.3, vec2(-12.9898, 78.233));\n  return (snoise(vec2(a, b)) + snoise(vec2(d, c))) * 0.5;\n}\n\nfloat fnoiseFast4D(vec4 p, int octaves, float persistence) {\n  float total = 0.0;           // Final noise value\n  float amplitude = 1.0;       // Initial amplitude\n  float frequency = 1.0;       // Initial frequency\n  float maxValue = 0.0;        // Used for normalization\n\n  for (int i = 0; i < octaves; i++) {\n    total += snoiseFast4D(p * frequency) * amplitude;\n\n    maxValue += amplitude;   // Keep track of max amplitude\n    amplitude *= persistence; // Reduce amplitude for next octave\n    frequency *= 2.0;        // Increase frequency for next octave\n  }\n\n  // Normalize the result to stay within the range [0, 1]\n  return total / maxValue;\n}\n")},14277:(e,n,t)=>{"use strict";t.d(n,{D:()=>a});var r=t(67203);function a(){let[e,n]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{n(!0)},[]),e}},17099:(e,n,t)=>{"use strict";t.d(n,{c:()=>l});var r=t(79105);let a=e=>e,o={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function i(){let e=(0,r.K2)((0,r.K2)((0,r.Ts)(r.KP)));function n(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.KP;return"string"==typeof n&&(n=n.split("").reduce((e,n)=>7*e+n.charCodeAt(0),0)),e=(0,r.K2)((0,r.K2)((0,r.Ts)(n))),u}function t(){return e=(0,r.K2)(e),(0,r.Tj)(e)}function i(e){switch(e.length){default:return[0,1,a];case 1:return[0,e[0],a];case 2:return[e[0],e[1],a];case 3:return[e[0],e[1],e[2]]}}function l(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let[a,o,l]=i(n);return a+(o-a)*l(t())}function s(){for(var e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];let[i,l,{weightsAreNormalized:s,indexOffset:c,forbiddenItems:u}]=function(e){let[n,t=null,r]=e,a={...o,...r};if(Array.isArray(n))return[n,t,a];if("object"==typeof n)return[Object.values(n),t?Object.values(t):null,a];throw Error("pick: unsupported options type")}(r);if(u.length>0){let n=new Set;for(let e of u){let t=i.indexOf(e);t>=0&&n.add(t)}if(i=i.filter((e,t)=>!n.has(t)),l=null!=(e=null==l?void 0:l.filter((e,t)=>!n.has(t)))?e:null,0===i.length)throw Error("pick: all items are forbidden")}if(null===l){let e=Math.floor(t()*i.length);return c&&(e+=c,(e%=i.length)<0&&(e+=i.length)),i[e]}if(!s){let e=l.reduce((e,n)=>e+n,0);l=l.map(n=>n/e)}let f=t(),d=0;for(let e=0;e<i.length;e++)if(f<(d+=l[e]))return i[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t(),a=t(),o=Math.sqrt(-2*Math.log(r)),i=2*Math.PI*a;return[e+n*o*Math.cos(i),e+n*o*Math.sin(i)]}let u={seed:n,seedMax:function(){return r.Zu},reset:function(){return n(r.KP),u},next:function(){return e=(0,r.K2)(e),u},getState:function(){return e},setState:function(n){return e=n&r.Zu,u},random:t,between:l,around:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let[o=1,i=a]=n,l=2*t();return(l>1?1:-1)*i(l>1?l-1:l)*o},int:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let[a,o,l]=i(n);return a+Math.floor(l(t())*(o-a))},chance:function(e){return t()<e},shuffle:function(e){let{mutate:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n&&Array.isArray(e)?e:[...e],a=r.length;for(let e=0;e<a;e++){let n=Math.floor(a*t()),o=r[e];r[e]=r[n],r[n]=o}return r},pick:s,createPicker:function(e){let n=e.map(e=>{let[n]=e;return n}),t=e.map(e=>{let[n,t]=e;return t}),r=t.reduce((e,n)=>e+n,0);for(let[e,n]of t.entries())t[e]=n/r;return()=>s(n,t,{weightsAreNormalized:!0})},vector:function(e,n){let[t=0,r=1]=Array.isArray(n)?n:[null==n?void 0:n.min,null==n?void 0:n.max];for(let n of Object.keys(e))e[n]=l(t,r);return e},unitVector2:function(e){let n=2*Math.PI*t();return e.x=Math.cos(n),e.y=Math.sin(n),e},unitVector3:function(e){let n=t(),r=t(),a=2*Math.PI*n,o=Math.acos(1-2*r);return e.x=Math.sin(o)*Math.cos(a),e.y=Math.sin(o)*Math.sin(a),e.z=Math.cos(o),e},normalVector:function(e){let n=Object.keys(e),t=n.length,r=Math.sqrt(t);for(let a=0;a<t;a+=2){let[o,i]=c();e[n[a]]=o/r,a+1<t&&(e[n[a+1]]=i/r)}return e},unitVector:function(e){let n=Object.keys(e),t=n.length,r=0;for(let a=0;a<t;a+=2){let[o,i]=c();e[n[a]]=o,r+=o*o,a+1<t&&(e[n[a+1]]=i,r+=i*i)}r=Math.sqrt(r);for(let a=0;a<t;a++)e[n[a]]/=r;return e},boxMuller:c,quaternion:function(e){let n=t(),r=t(),a=t(),o=Math.sqrt(1-n),i=Math.sqrt(n);return e.x=o*Math.sin(2*Math.PI*r),e.y=o*Math.cos(2*Math.PI*r),e.z=i*Math.sin(2*Math.PI*a),e.w=i*Math.cos(2*Math.PI*a),e},insideCircle:function(e,n){let r=2*t()*Math.PI,a=Math.sqrt(t())*e;return n.x=a*Math.cos(r),n.y=a*Math.sin(r),n}};return u}let l=class{constructor(e){Object.assign(this,i().seed(e))}};Object.assign(l,i())},20537:(e,n,t)=>{"use strict";function r(e){return!!(null==e?void 0:e.isVector3)}function a(e){return!!(null==e?void 0:e.isEuler)}function o(e){return!!(null==e?void 0:e.isQuaternion)}function i(e){return!!(null==e?void 0:e.isMatrix4)}function l(e){return!!(null==e?void 0:e.isObject3D)}function s(e){return!!(null==e?void 0:e.isMesh)}t.d(n,{MR:()=>i,Th:()=>l,Zz:()=>r,eB:()=>a,f7:()=>o,uW:()=>s})},21667:(e,n,t)=>{"use strict";t.d(n,{G:()=>i});let r=new WeakMap,a=(e=>()=>{let n=r.get(e);if(void 0===n){let n=e();return r.set(e,n),n}return n})(()=>{let e=new WeakMap;return{resizeObserver:new ResizeObserver(n=>{for(let t of n){let n=e.get(t.target);if(n)for(let e of n)e(t)}}),resizeObserverMap:e}});class o{get width(){return this.size.x}get height(){return this.size.y}get aspect(){return this.size.x/this.size.y}constructor(e,n){this.element=e,this.size=n}}function i(e,n){let{onSize:t}=function(e){if("function"==typeof e)return{onSize:e};let{onSize:n=()=>{}}=null!=e?e:{};return{onSize:n}}(n),r=new DOMPoint(0,0);if(e instanceof Window){let n=()=>{r.x=window.innerWidth,r.y=window.innerHeight,t(new o(e,r))};return e.addEventListener("resize",n),n(),{destroy:()=>{e.removeEventListener("resize",n)}}}{var i;let{resizeObserver:n,resizeObserverMap:l}=a();n.observe(e);let s=null!=(i=l.get(e))?i:new Set,c=n=>{r.x=n.contentRect.width,r.y=n.contentRect.height,t(new o(e,r))};return l.set(e,s),s.add(c),{destroy:()=>{let t=l.get(e);if(!t)throw Error("Wtf??? No callbacks found for element");t.delete(c),0===t.size&&(l.delete(e),n.unobserve(e))}}}}},22899:(e,n,t)=>{"use strict";t.d(n,{I:()=>o});var r=t(65927);let a=["linear"];for(let e=1;e<=10;e++)a.push("easeIn".concat(e)),a.push("easeOut".concat(e)),a.push("easeInOut".concat(e)),a.push("easeOutIn".concat(e));let o="\n#ifndef GLSL_EASING\n#define GLSL_EASING\n\n".concat(r.S,"\n\nfloat easePow1(float x) {\n  return x;\n}\n\nfloat easePow2(float x) {\n  return x * x;\n}\n\nfloat easePow3(float x) {\n  return x * x * x;\n}\n\nfloat easePow4(float x) {\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow5(float x) {\n  float x0 = x;\n  x *= x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow6(float x) {\n  x *= x * x;\n  return x *= x;\n}\n\nfloat easePow7(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x;\n  return x0 * x;\n}\n\nfloat easePow8(float x) {\n  x *= x;\n  x *= x;\n  return x *= x;\n}\n\nfloat easePow9(float x) {\n  x *= x * x;\n  return x *= x * x;\n}\n\nfloat easePow10(float x) {\n  float x0 = x;\n  x *= x * x;\n  x *= x * x;\n  return x0 * x;\n}\n\nfloat linear(float x) {\n  return clamp01(x);\n}\n\n").concat(Array.from({length:10},(e,n)=>{let t=n+1;return"\n\n  float easeIn".concat(t," (float x) {\n    return easePow").concat(t,"(clamp01(x));\n  }\n  float easeOut").concat(t," (float x) {\n    return 1.0 - easePow").concat(t,"(clamp01(1.0 - x));\n  }\n  float easeInOut").concat(t," (float x) {\n    return x < 0.5 \n      ? 0.5 * easePow").concat(t,"(2.0 * x) \n      : 1.0 - 0.5 * easePow").concat(t,"(2.0 * (1.0 - x));\n  }\n  float easeOutIn").concat(t," (float x) {\n    return x < 0.5\n      ? 0.5 * (1.0 - easePow").concat(t,"(1.0 - x * 2.0))\n      : 1.0 - 0.5 * (1.0 - easePow").concat(t,"(2.0 * x - 1.0));\n  }\n\n").trim()}).join("\n\n"),"\n\n\n// https://www.desmos.com/calculator/mqou4lf9zc?lang=fr\nfloat easeInOut(float x, float p, float i) {\n  return  x <= 0.0 ? 0.0 :\n          x >= 1.0 ? 1.0 :\n          x <= i ? 1.0 / pow(i, p - 1.0) * pow(x, p) :\n          1.0 - 1.0 / pow(1.0 - i, p - 1.0) * pow(1.0 - x, p);\n}\n\n// https://www.desmos.com/calculator/nrjlezusdv\nfloat easeInThenOut(float x, float p) {\n  return 1.0 - pow(abs(2.0 * x - 1.0), p);\n}\n\n#endif\n")},32137:(e,n,t)=>{"use strict";t.d(n,{Q:()=>f});var r=t(70691),a=t(67203),o=t(63106),i=t(21667),l=t(18479),s=t(43865),c=t.n(s);let u=[c().frame,c().full];function f(e){let[n,t]=(0,a.useState)(0),{ref:s}=(0,l.IZ)(function*(e){yield(0,i.G)(e,{onSize:n=>{let{x:t,y:r}=n.size;e.classList.toggle(c().landscape,t>r)}});let n=!1;yield(0,o.a)(document.documentElement,[[{key:"f",noModifiers:!0},r=>{r.event.preventDefault(),document.fullscreenElement!==e?(e.requestFullscreen(),n=!1):!1===n?(n=!0,t(1)):(document.exitFullscreen(),t(0))}]])},[]),{children:f,className:d}=e;return(0,r.jsx)("div",{ref:s,className:[c().Billboard,c().landscape,u[n],null!=d?d:""].join(" "),children:f})}},35375:(e,n,t)=>{"use strict";t.d(n,{$:()=>a});let r="/three-xp/assets/",a={development:!1,assetsPath:r,assets:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(r).concat(e)}}},43865:e=>{e.exports={Billboard:"billboard_Billboard__1od0V",landscape:"billboard_landscape__OR09y",frame:"billboard_frame__m5PEh",full:"billboard_full__0I_hQ"}},44694:(e,n,t)=>{"use strict";t.d(n,{EC:()=>p,LV:()=>f,Qm:()=>i,ey:()=>l,jj:()=>d,wX:()=>u,wz:()=>s});var r=t(80425);let a=["rad","deg","turn"],o={rad:1,deg:Math.PI/180,turn:2*Math.PI};function i(e){return"string"==typeof e&&a.includes(e)}function l(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rad",t=n,r=0;if("number"==typeof e)r=e;else{let n=e.match(/^\s*(-?[0-9.]+)\s*(\/\s*-?[0-9.]+)?\s*(rad|deg|turn)\s*$/);if(n){let[e,a,o,i]=n;r=Number.parseFloat(a),o&&(r/=Number.parseFloat(o.slice(1))),t=i}else r=Number.parseFloat(e)}return r*o[t]}function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rad";return"".concat((0,r.ZV)(e/o[n])).concat(n)}function c(e){return"number"==typeof e}function u(e,n,t,r){if(null!=t||(t=0),null!=r||(r=c),null!=n||(n={x:t,y:t}),null==e)return n;if("string"==typeof e&&/^[+-]?[xy]/i.test(e)){let t=e.startsWith("-")?-1:1;switch(e[e.length-1].toLowerCase()){case"x":return n.x=t,n.y=0,n;case"y":return n.x=0,n.y=t,n;default:throw Error("Invalid vector2 declaration: ".concat(e))}}if(r(e))return n.x=null!=e?e:t,n.y=null!=e?e:t,n;if(Array.isArray(e)){let[r,a]=e;return n.x=null!=r?r:t,n.y=null!=a?a:t,n}if("width"in e||"height"in e){let{width:r,height:a}=e;return n.x=null!=r?r:t,n.y=null!=a?a:t,n}let{x:a,y:o}=e;return n.x=null!=a?a:t,n.y=null!=o?o:t,n}function f(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if(n(e))return!0;if("string"==typeof e){if(/^[+-]?[xyz]$/i.test(e))return!0;if(e.startsWith("sph(")&&e.endsWith(")"))return 3===e.slice(4,-1).split(",").map(e=>e.trim()).length;throw Error("Invalid vector3 declaration: ".concat(e))}return Array.isArray(e)?e.length>=2&&n(e[0])&&n(e[1])&&(void 0===e[2]||n(e[2])):!!("object"==typeof e&&("x"in e&&n(e.x)&&"y"in e&&n(e.y)&&(!("z"in e)||n(e.z))||"width"in e&&n(e.width)&&"height"in e&&n(e.height)&&(!("depth"in e)||n(e.depth))))||!1}function d(e,n,t,r){if(null!=r||(r=c),null!=t||(t=0),null!=n||(n={x:t,y:t,z:t}),null==e)return n;if("string"==typeof e){if(e.startsWith("sph(")&&e.endsWith(")")){let t=e.slice(4,-1).split(",").map(e=>e.trim());if(3!==t.length)throw Error("Invalid vector3 declaration: ".concat(e));let[r,a,o]=t,i=Number.parseFloat(r),s=l(a,"rad"),c=l(o,"rad");return n.x=i*Math.sin(s)*Math.cos(c),n.z=i*Math.sin(s)*Math.sin(c),n.y=i*Math.cos(s),n}let t=e.startsWith("-")?-1:1;switch(e[e.length-1].toLowerCase()){case"x":return n.x=t,n.y=0,n.z=0,n;case"y":return n.x=0,n.y=t,n.z=0,n;case"z":return n.x=0,n.y=0,n.z=t,n;default:throw Error("Invalid vector2 declaration: ".concat(e))}}if(r(e))return n.x=e,n.y=e,n.z=e,n;if(Array.isArray(e)){let[r,a,o]=e;return n.x=null!=r?r:t,n.y=null!=a?a:t,n.z=null!=o?o:t,n}if("width"in e||"height"in e||"depth"in e){let{width:r,height:a,depth:o}=e;return n.x=null!=r?r:t,n.y=null!=a?a:t,n.z=null!=o?o:t,n}let{x:a,y:o,z:i}=e;return n.x=null!=a?a:t,n.y=null!=o?o:t,n.z=null!=i?i:t,n}function p(e,n,t,r){if(null!=r||(r=c),null!=t||(t=0),null!=n||(n={x:t,y:t,z:t,w:t}),null==e)return n;if("string"==typeof e){let t=e.startsWith("-")?-1:1;switch(e[e.length-1].toLowerCase()){case"x":return n.x=t,n.y=0,n.z=0,n.w=0,n;case"y":return n.x=0,n.y=t,n.z=0,n.w=0,n;case"z":return n.x=0,n.y=0,n.z=t,n.w=0,n;case"w":return n.x=0,n.y=0,n.z=0,n.w=t,n;default:throw Error("Invalid vector2 declaration: ".concat(e))}}if(r(e))return n.x=e,n.y=e,n.z=e,n.w=e,n;if(Array.isArray(e)){let[r,a,o,i]=e;return n.x=null!=r?r:t,n.y=null!=a?a:t,n.z=null!=o?o:t,n.w=null!=i?i:t,n}if("width"in e||"height"in e||"depth"in e||"time"in e){let{width:r,height:a,depth:o,time:i}=e;return n.x=null!=r?r:t,n.y=null!=a?a:t,n.z=null!=o?o:t,n.w=null!=i?i:t,n}if("top"in e||"right"in e||"bottom"in e||"left"in e){let{top:r,right:a,bottom:o,left:i}=e;return n.x=null!=r?r:t,n.y=null!=a?a:t,n.z=null!=o?o:t,n.w=null!=i?i:t,n}let{x:a=t,y:o=t,z:i=t,w:l=t}=e;return n.x=a,n.y=o,n.z=i,n.w=l,n}},55227:(e,n,t)=>{"use strict";t.d(n,{M:()=>i});var r=t(22899),a=t(1029);let o="\n\nstruct FloatRamp {\n  float a;\n  float b;\n  float t;\n};\n\nstruct Vec2Ramp {\n  vec2 a;\n  vec2 b;\n  float t;\n};\n\nstruct Vec3Ramp {\n  vec3 a;\n  vec3 b;\n  float t;\n};\n\nstruct Vec4Ramp {\n  vec4 a;\n  vec4 b;\n  float t;\n};\n\n".concat((0,a.N)("vecX",e=>{let n=e[0].toUpperCase()+e.slice(1)+"Ramp";return"\n\n// 1 stop (simple linear interpolation)\n".concat(n," ramp(float t, T a, T b) {\n  return ").concat(n,"(a, b, t);\n}\n\n// 2 stops\n").concat(n," ramp(float t, T a, T b, T c) {\n  if (t < 0.5) {\n    return ").concat(n,"(a, b, t * 2.0);\n  } else {\n    return ").concat(n,"(b, c, t * 2.0 - 1.0);\n  }\n}\n\n// 4 stops\n").concat(n," ramp(float t, T a, T b, T c, T d) {\n  if (t < 0.333) {\n    return ").concat(n,"(a, b, t * 3.0);\n  } else if (t < 0.666) {\n    return ").concat(n,"(b, c, t * 3.0 - 1.0);\n  } else {\n    return ").concat(n,"(c, d, t * 3.0 - 2.0);\n  }\n}\n\n// 5 stops\n").concat(n," ramp(float t, T a, T b, T c, T d, T e) {\n  if (t < 0.25) {\n    return ").concat(n,"(a, b, t * 4.0);\n  } else if (t < 0.5) {\n    return ").concat(n,"(b, c, t * 4.0 - 1.0);\n  } else if (t < 0.75) {\n    return ").concat(n,"(c, d, t * 4.0 - 2.0);\n  } else {\n    return ").concat(n,"(d, e, t * 4.0 - 3.0);\n  }\n}\n\n").slice(1,-1)})),i="\n#ifndef GLSL_RAMP\n#define GLSL_RAMP\n".concat(r.I,"\n").concat(o,"\n#endif\n")},61249:(e,n,t)=>{"use strict";t.d(n,{N:()=>s});var r=t(49797),a=t(93432);new r.Pq0(0,0,0),new r.O9p(0,0,0,"XYZ"),new r.Pq0(1,1,1);let o={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,pivot:void 0,visible:void 0,name:void 0,parent:void 0,userData:void 0},i=new r.dwI,l=new r.Pq0;function s(e,n){let{x:t,y:s,z:c,position:u=new r.Pq0(t,s,c),rotationX:f,rotationY:d,rotationZ:p,rotationOrder:h,rotationUnit:m,rotation:x,scaleX:v,scaleY:g,scaleZ:y,scaleScalar:w,scale:b=new r.Pq0(v,g,y).multiplyScalar(w),pivot:_,visible:z,name:P,parent:M,userData:I}={...o,...n};return(0,a.jj)(u,e.position),(0,a.if)(null!=x?x:[f,d,p,h,m],e.rotation),(0,a.jj)(b,e.scale),void 0!==_&&(e.updateMatrix(),i.setFromMatrix4(e.matrix),(0,a.jj)(_,l).applyMatrix3(i),e.position.sub(l)),void 0!==z&&(e.visible=z),void 0!==P&&(e.name=P),void 0!==M&&M!==e.parent&&(null===M?e.removeFromParent():M.add(e)),void 0!==I&&Object.assign(e.userData,I),e}},62832:(e,n,t)=>{Promise.resolve().then(t.bind(t,63822))},63106:(e,n,t)=>{"use strict";function r(e,n){return"*"===n||("string"==typeof n?n===e:n instanceof RegExp?n.test(e):"function"==typeof n&&n(e))}t.d(n,{a:()=>l});let a={preventDefault:!1,strictTarget:void 0},o={key:"*",keyCaseInsensitive:!0,code:"*",noModifiers:!1,modifiers:"",phase:"down"},i=0;function l(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let l=i++,[s,c,u]=1===n.length?[document.body,{},n[0]]:2===n.length?[n[0],{},n[1]]:n,{preventDefault:f}={...a,...c},d=null,p=e=>{var n;if((null!=(n=c.strictTarget)?!!n:s===document.body)&&e.target!==s)return;"keydown"===e.type&&(d=e);let{ctrlKey:t=!1,altKey:a=!1,shiftKey:i=!1,metaKey:p=!1}=null!=d?d:{},h={id:l,event:e,downEvent:d,modifiers:{ctrl:t,alt:a,shift:i,meta:p}};for(let n=0,l=u.length;n<l;n++){let[l,s]=u[n],{key:c,keyCaseInsensitive:m,code:x,noModifiers:v,modifiers:g,phase:y="down"}=function(e){let n="string"==typeof e?{...o,key:e}:{...o,...e};return n.keyCaseInsensitive&&"string"==typeof n.key&&(n.key=n.key.toLowerCase()),n}(l);switch(e.type){case"keydown":if("down"!==y)continue;break;case"keyup":if("up"!==y)continue}Object.values({key:r(m?e.key.toLowerCase():e.key,c),code:r(e.code,x),noModifiers:!v||!1===t&&!1===a&&!1===i&&!1===p,modifiers:function(e,n){let{ctrlKey:t,altKey:r,shiftKey:a,metaKey:o}=e;if("function"==typeof n)return n({ctrl:t,alt:r,shift:a,meta:o});let{ctrl:i=!1,alt:l=!1,shift:s=!1,meta:c=!1}=Object.fromEntries(n.split("-").map(e=>[e,!0]));return i===t&&l===r&&s===a&&c===o}(d,g)}).every(Boolean)&&(f&&e.preventDefault(),s(h))}};return s.addEventListener("keydown",p,{passive:!1}),s.addEventListener("keyup",p,{passive:!1}),{destroy:()=>{s.removeEventListener("keydown",p),s.removeEventListener("keyup",p)}}}},63357:(e,n,t)=>{"use strict";t.d(n,{yb:()=>x,YJ:()=>h});var r=t(70691),a=t(67203),o=t(18479),i=t(14277),l=t(49797),s=t(30158),c=t(17223),u=t(24223),f=t(21667),d=t(36508);let p=(0,a.createContext)(null);function h(e){let{fn:n}=e;return!function(e,n){let t=(0,a.useContext)(p);(0,o.C7)(async function*(n,r){if(e){let n=e(t,r);if(n&&"function"==typeof n.next)do{let{value:e,done:t}=await n.next();if(t)break;yield e}while(r.mounted)}},null!=n?n:"always")}(n,"always"),null}function m(e){let{children:n}=e,t=(0,a.useMemo)(()=>(function(e){let{width:n=window.innerWidth,height:t=window.innerHeight,pixelRatio:r=window.devicePixelRatio}=e,a=d.Rv.get("ThreeTicker"),o=new l.I9Y(n,t),i=new l.I9Y(n,t).multiplyScalar(r),p=new s.WebGLRenderer({antialias:!0,alpha:!0});p.setPixelRatio(r),p.setSize(n,t);let h=new l.ubm(50,n/t,.1,100);h.position.z=5;let m=new c.N(h,p.domElement);m.enableDamping=!0;let x=new l.Z58;async function v(){p.render(x,h)}return{renderer:p,size:o,fullSize:i,get pixelRatio(){return r},get aspect(){return n/t},camera:h,orbitControls:m,scene:x,ticker:a,init:function*(e){yield a.onTick(e=>{m.update(),v()}),yield(0,f.G)(e,{onSize:e=>{let{size:{x:a,y:l}}=e;!function(e,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:devicePixelRatio;n=e,t=a,r=l,o.set(n,t),i.set(n,t).multiplyScalar(r),p.setSize(n,t),p.setPixelRatio(r),h.aspect=n/t,h.updateProjectionMatrix()}(a,l)}}),yield(0,u.O)(a.requestActivation),e.appendChild(p.domElement),yield()=>{m.dispose(),p.dispose(),p.domElement.remove()}}}})({width:window.innerWidth,height:window.innerHeight}),[]),{ref:i}=(0,o.C7)(function*(e){yield*t.init(e),Object.assign(window,{three:t})},[]);return(0,r.jsx)(p.Provider,{value:t,children:(0,r.jsxs)("div",{className:"absolute-through",children:[(0,r.jsx)("div",{ref:i,className:"absolute-through"}),(0,r.jsx)("div",{className:"absolute-through",children:n})]})})}function x(e){let{children:n}=e;return(0,i.D)()&&(0,r.jsx)(m,{children:n})}},63822:(e,n,t)=>{"use strict";t.d(n,{Main:()=>L});var r=t(70691),a=t(32137),o=t(63357),i=t(49797),l=t(30158),s=t(7147),c=t(61249),u=t(22899),f=t(79285),d=t(17099),p=t(35375),h=t(9954);let m=new(t(5832)).Y;function x(e){return new Promise(n=>{m.load(e,e=>{n(e)})})}let v=new h.H;var g=t(55227);let y={white:new i.Q1f("#ffffff"),grey10:new i.Q1f("#f0f0f0"),grey20:new i.Q1f("#e0e0e0"),notSoWhite:new i.Q1f("#f8f8e8"),yellow:new i.Q1f("#fff700"),black:new i.Q1f("#110111"),red:new i.Q1f("#dd1a41"),brightSkin:new i.Q1f("#ebd8c6"),petrol:new i.Q1f("#005e6b"),brightGreen:new i.Q1f("#22c891"),darkGreen:new i.Q1f("#002f1c"),sand:new i.Q1f("#e6db9f")};class w extends i.eaF{static createMaterial(e){let{color:n,shaded:t,emissiveIntensity:r,side:a}={...w.defaultProps,...e};return t?new i.uSd({color:n,emissiveIntensity:r,emissive:r>0?n:void 0,side:a}):new i.V9B({color:n})}}w.defaultProps={color:y.black,radius:1.3,align:.5,thickness:.3,innerRadiusRatio:null,shaded:!0,emissiveIntensity:.333};class b extends w{constructor(e){let{radius:n,thickness:t,align:r,innerRadiusRatio:a,color:o,shaded:l,...s}={...w.defaultProps,...e},u=n-t*r,f=n+t*(1-r);a&&(u=n*a,f=n),super(new i.rKP(u,f,128),w.createMaterial({...e,side:i.$EB})),(0,c.N)(this,s)}}class _ extends i.eaF{constructor(e){let{radius:n,thickness:t,align:r,innerRadiusRatio:a,color:o,shaded:l,emissiveIntensity:s,...u}={...w.defaultProps,...e},f=n-t*r,d=n+t*(1-r);a&&(f=n*a,d=n),super(new i.O3Y((f+d)/2,(d-f)/2,128,512),w.createMaterial({...e,side:i.hB5})),(0,c.N)(this,u)}}class z extends b{constructor(e){super(e),this.material.onBeforeCompile=e=>s.bI.with(e).defines({USE_UV:""}).fragment.top(g.M).fragment.after("map_fragment","\n      vec2 p = vUv - 0.5;\n      float alpha = atan(p.y, p.x) / 6.2831853;\n      alpha = 1.0 - mod(alpha + 0.0, 1.0);\n      Vec3Ramp r = ramp(alpha,\n        ".concat((0,s.eR)(y.black),",\n        ").concat((0,s.eR)(y.white),",\n        ").concat((0,s.eR)(y.yellow),");\n      diffuseColor.rgb = mix(r.a, r.b, easeInOut4(r.t));\n    "))}}var P=t(77399);class M extends i.YJl{constructor({globalIntensity:e=1,debug:n=!1}={}){super(),this.name="lights";let t=new i.dth("#dbebf0","#645d61",e);this.add(t);let r=new i.ure("#e8e6d3",1.3*e);r.position.set(10,10,10),r.width=40,r.height=40,r.lookAt(0,0,0),this.add(r),n&&this.add(new P.g(r));let a=new i.$p8("#f2f0dd",.8*e);this.add(a)}}function I(e){let{precision:n=3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=0,r=0,a=0;function o(){return"vec3(".concat(t.toFixed(n),", ").concat(r.toFixed(n),", ").concat(a.toFixed(n),")")}switch(typeof e){case"number":return t=(e>>16&255)/255,r=(e>>8&255)/255,a=(255&e)/255,o();case"string":if(e.startsWith("#")){if(4===e.length)return t=parseInt(e[1]+e[1],16)/255,r=parseInt(e[2]+e[2],16)/255,a=parseInt(e[3]+e[3],16)/255,o();return I(parseInt(e.slice(1),16),{precision:n})}throw Error("Invalid string: ".concat(e));case"object":if(Array.isArray(e))return[t,r,a]=e,o();if("r"in e)return t=e.r,r=e.g,a=e.b,o();if("x"in e)return t=e.x,r=e.y,a=e.z,o();throw Error("Invalid object: ".concat(e))}return"vec3(1.0, 0.0, 1.0)"}var S=t(14203);let k="\n  ".concat(l.ShaderChunk.cube_uv_reflection_fragment,"\n  ").concat(S.O,"\n\n  varying vec3 vPosition;\n  varying vec3 vWorldNormal;\n\n  struct Plane {\n    vec3 origin;\n    vec3 normal;\n  };\n\n  float signedDistanceToPlane(Plane plane, vec3 p) {\n    return dot(plane.normal, p - plane.origin);\n  }\n\n  vec3 checker3(vec3 position, float scale, float edgeWidth, vec3 color1, vec3 color2) {\n    // Scale the position to control the size of the checker cubes\n    vec3 scaledPos = position / scale;\n\n    // Get the integer part (checker grid location)\n    vec3 checkerPos = floor(scaledPos);\n\n    // Get the fractional part (inside each cube)\n    vec3 fractPos = fract(scaledPos);\n\n    // Calculate the checkerboard pattern (even/odd cubes)\n    float checkerSum = mod(checkerPos.x + checkerPos.y + checkerPos.z, 2.0);\n\n    // Smooth transition using smoothstep on the fractional position\n    float edgeX = smoothstep(0.0, edgeWidth, fractPos.x);\n    float edgeY = smoothstep(0.0, edgeWidth, fractPos.y);\n    float edgeZ = smoothstep(0.0, edgeWidth, fractPos.z);\n\n    // Combine the edges to create a smooth transition\n    float blend = edgeX * edgeY * edgeZ;\n    blend = smoothstep(0.0, edgeWidth, min(min(fractPos.x, fractPos.y), fractPos.z));\n    \n    // Interpolate between black and white with the smoothstep value\n    vec3 baseColor = checkerSum == 0.0 ? color1 : color2;\n    vec3 oppositeColor = checkerSum == 0.0 ? color2 : color1;\n\n    // Use the smooth transition to blend between colors\n    return mix(baseColor, oppositeColor, blend);\n  }\n\n  float sphereGrid(vec3 position, float scale, float edgeWidth) {\n    // Scale the position to control the size of the checker cubes\n    vec3 scaledPos = position / scale;\n\n    // Get the integer part (checker grid location)\n    vec3 checkerPos = floor(scaledPos);\n\n    // Get the fractional part (inside each cube)\n    vec3 fractPos = fract(scaledPos);\n\n    vec3 p = fractPos - 0.5;\n    float alpha = 1.0 - length(p) * 2.0;\n\n    return smoothstep(0.0, edgeWidth, alpha - 0.1);    \n  }\n\n  void main() {\n    vec3 p = vWorldNormal * 0.33;\n    float n1 = snoise(p * 6.0 * 0.2 + 0.2);\n    float n2 = snoise(p * 20.0 + 10.1);\n    float n3 = snoise(p * 40.0 + 10.1);\n    float n4 = snoise(p * 1400.0 + 13.1);\n    float n = n1 * 0.5;\n    n += pow(fract((n1 + n2 * 0.015 + n3 * 0.01 + n4 * 0.005) * 85.0), 4.0) * 0.5;\n    n += pow(fract((n1 + n2 * 0.015) * 85.0), 4.0) * 0.25;\n    n += n4 * 0.2;\n    n += 0.8;\n    n = pow(n, 0.3);\n    float alpha = n;\n\n    gl_FragColor.rgb = mix(").concat(I(y.white),", ").concat(I(y.brightSkin),", alpha);\n    gl_FragColor.a = 1.0;\n\n    // float x = sphereGrid(vPosition, 1.0, 0.01);\n    // gl_FragColor.rgb = mix(").concat(I(y.black),", ").concat(I(y.brightSkin),", x);\n    // gl_FragColor.rgb = checker3(vPosition, 1.0, 0.1, ").concat(I(y.black),", ").concat(I(y.brightSkin),");\n  }\n");class C extends i.eaF{constructor({debug:e=!1}={}){super(new i.WBB(5.5,12),new i.BKk({depthWrite:!1,side:i.hsX,vertexShader:"\n  varying vec3 vWorldNormal;\n  varying vec3 vPosition;\n\n  vec3 rotate(mat4 m, vec3 v) {\n    return vec3(\n      dot(v, vec3(m[0][0], m[1][0], m[2][0])),  // X component\n      dot(v, vec3(m[0][1], m[1][1], m[2][1])),  // Y component\n      dot(v, vec3(m[0][2], m[1][2], m[2][2]))   // Z component\n    );\n  }\n\n  void main() {\n    vPosition = position;\n    vWorldNormal = normalize(rotate(modelMatrix, position));\n\n    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    // Ignore the position, we only need the normal:\n    gl_Position = projectionMatrix * vec4(rotate(modelViewMatrix, position), 1.0);\n  }\n",fragmentShader:k,uniforms:{}})),e&&(this.material=new i.V9B({depthWrite:!1,color:"white",wireframe:!0})),this.onBeforeRender=(e,n,t,r,a,o)=>{this.position.copy(t.position)},this.renderOrder=-1,this.frustumCulled=!1,this.name="a-sky"}}var A=t(8144);class j extends i.eaF{constructor(e){let{radius:n,...t}={...j.defaultProps,...e},r=new i.WBB(n,18),a=new i.uSd({});a.onBeforeCompile=e=>s.bI.with(e).defines({USE_UV:""}).fragment.top(g.M).fragment.after("map_fragment","\n        vec2 p = vUv - 0.5;\n        float alpha = easeInOut(vUv.y, 1.6, 0.5);\n        Vec3Ramp r = ramp(alpha, ".concat((0,s.eR)(y.black),", ").concat((0,s.eR)(y.white),", ").concat((0,s.eR)(y.yellow),");\n        diffuseColor.rgb = mix(r.a, r.b, easeInOut3(r.t));\n      ")),super(r,a),(0,c.N)(this,t)}}j.defaultProps={radius:1};class V{set(e){this.props={...this.props,...e},this.props.center=this.props.center.clone(),this.props.normal=this.props.normal.clone().normalize(),this.props.binormal=this.props.binormal.clone().normalize()}update(e){let{radius:n,turnVelocity:t,turn:r,center:a,normal:o,binormal:i}=this.props,l=r+t*e;this.props.turn=l;let s=Math.cos(l*Math.PI*2),c=Math.sin(l*Math.PI*2);this.target.position.copy(a).addScaledVector(o,n*s).addScaledVector(i,n*c)}constructor(e,n){this.target=e,this.set({...V.defaultProps,...n})}}V.defaultProps={center:new i.Pq0,normal:new i.Pq0(1,0,0),binormal:new i.Pq0(0,1,0),radius:1,turnVelocity:1,turn:0};class E extends i.eaF{get satellite(){var e;return null!=(e=this._satellite)?e:this._satellite=new V(this)}constructor(e){let{radius:n,singleColor:t,emmissiveIntensity:r,lerpIn:a,lerpOut:o,...l}={...E.defaultProps,...e},{colorTop:f=null!=t?t:E.defaultProps.colorTop,colorBottom:d=null!=t?t:E.defaultProps.colorBottom}={...e},p=new i.WBB(n,12),h=new i.uSd({color:f,emissive:d});h.onBeforeCompile=e=>{s.bI.with(e).defines({USE_UV:""}).uniforms({uLerpIn:{value:a},uLerpOut:{value:o},uColorTop:{value:new i.Q1f(f)},uColorBottom:{value:new i.Q1f(d)}}).fragment.top(u.I,A.H).fragment.mainBeforeAll("\n          float alpha = inverseLerp(uLerpIn, uLerpOut, vUv.y);\n          vec3 sphereColor = mix(uColorBottom, uColorTop, easeInOut3(alpha));\n        ").fragment.after("map_fragment","\n          diffuseColor.rgb = sphereColor;\n        ").fragment.after("emissivemap_fragment","\n          totalEmissiveRadiance.rgb = sphereColor * ".concat(r.toFixed(2),";\n        "))},super(p,h),this._satellite=null,(0,c.N)(this,l)}}E.defaultProps={radius:.225,singleColor:null,colorTop:y.white,colorBottom:y.yellow,emmissiveIntensity:.25,lerpIn:-.2,lerpOut:1.2};class N extends i.eaF{constructor(e){let n=new i.WBB(.4,12),t=new i.uSd({});t.onBeforeCompile=e=>s.bI.with(e).varying({vWorldPosition:"vec3",vNormalWorld:"vec3",vViewDir:"vec3"}).vertex.mainAfterAll("\n        vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n        vNormalWorld = normalize(mat3(modelMatrix) * normal);\n        vViewDir = normalize(cameraPosition - vWorldPosition);\n      ").fragment.top(u.I,"\n\nfloat contrast(float mValue, float mScale, float mMidPoint) {\n	// Why clamp? If necessary, it has to be done outside of this function.\n	// return clamp((mValue - mMidPoint) * mScale + mMidPoint, 0.0, 1.0);\n	return (mValue - mMidPoint) * mScale + mMidPoint;\n}\n\nfloat contrast(float mValue, float mScale) {\n	return contrast(mValue, mScale, 0.5);\n}\n\nvec3 contrast(vec3 mValue, float mScale, float mMidPoint) {\n	return vec3(contrast(mValue.r, mScale, mMidPoint), contrast(mValue.g, mScale, mMidPoint), contrast(mValue.b, mScale, mMidPoint));\n}\n\nvec3 contrast(vec3 mValue, float mScale) {\n	return contrast(mValue, mScale, 0.5);\n}\n\nfloat greyscaleFloat(vec3 color) {\n	return dot(color, vec3(0.299, 0.587, 0.114));\n}\n\nvec3 greyscale(vec3 color) {\n	return vec3(greyscaleFloat(color));\n}\n\nvec3 greyscale(vec3 color, float alpha) {\n	return mix(color, greyscale(color), alpha);\n}\n\n").fragment.after("map_fragment","\n        float fresnel = dot(vNormalWorld, vViewDir);\n        vec3 inner = ".concat((0,s.eR)(y.white),";\n        vec3 outer = ").concat((0,s.eR)(y.black),";\n        float alpha = easeInOut(1.0 - pow(fresnel, 1.5), 2.0, 0.0);\n        diffuseColor.rgb = mix(inner, outer, alpha);\n      ")).fragment.mainAfterAll("\n        // Final tuning\n        gl_FragColor.rgb = mix(contrast(greyscale(gl_FragColor.rgb), 1.5), diffuseColor.rgb, alpha);\n      "),super(n,t),(0,c.N)(this,e)}}class T extends i.eaF{constructor(e){let{color:n,thickness:t,length:r,shaded:a,...o}={...T.defaultProps,...e};super(new i.Ho_(t/2,t/2,r,12,1).rotateZ(.5*Math.PI),a?new i.uSd({color:n}):new i.V9B({color:n})),(0,c.N)(this,o)}}function W(e,n){return n.add(e),e}function*O(e,n){let t=yield*function*(e){let{ticker:n,scene:t}=e;n.set({activeDuration:p.$.development?3:180}),x("https://threejs.org/examples/textures/equirectangular/royal_esplanade_1k.hdr").then(n=>{new l.PMREMGenerator(e.renderer).fromEquirectangular(n).texture});let r=new i.YJl;return t.add(r),yield()=>{r.removeFromParent()},r}(e);if(1===n.renderCount){let{camera:n}=e;n.fov=e.aspect>1?25:180*(2*Math.atan(Math.tan(25*Math.PI/180/2)/e.aspect))/Math.PI,n.far=1e3,n.updateProjectionMatrix(),n.position.set(0,0,10)}t.add(new C),t.add(new M);let r=W(new j,t);t.add(new z({z:-1,radius:1.4,innerRadiusRatio:.805})),t.add(new _({z:-1,radius:.75,thickness:.01,color:y.yellow,emissiveIntensity:1})),t.add(new _({z:-1,radius:.8,thickness:.01,color:y.notSoWhite})),d.c.seed(6789402);let a=d.c.createPicker([[1,4],[2,2],[4,1]]);for(let{i:n}of function*(e){let n=0,t={get i(){return n},get t(){return n/8},get count(){return 8}};for(;n<e;n++)yield t}(8)){let r=d.c.pick(y),o=d.c.pick(y),l=new E({z:-1,radius:.1*a(),colorTop:r,colorBottom:o});l.rotation.set(d.c.between(2*Math.PI),d.c.between(2*Math.PI),d.c.between(2*Math.PI)),t.add(l),l.satellite.set({radius:0===n?.875:d.c.between(.25,.75)*(0,f.lerp)(1,1.5,n),center:new i.Pq0(0,0,-1-.4*n),turnVelocity:d.c.between(.05,.25)}),yield e.ticker.onTick(e=>{l.satellite.update(e.deltaTime)})}let o=new i.YJl;o.rotation.z=-.25*Math.PI,t.add(o),o.add(new E({x:-1.5,z:.5,singleColor:y.yellow})),o.add(new _({x:-1.81,radius:.1,thickness:.01,color:y.notSoWhite}));let s=W(new _({x:-2.315,radius:.2,thickness:.01,color:y.notSoWhite}),o);W(new T({x:-.2,thickness:.01,length:.4,shaded:!0,color:y.notSoWhite}),s),o.add(new E({x:1.7,z:.5,lerpIn:0,lerpOut:1})),o.add(new E({x:1.4,radius:.1,singleColor:y.black}));let u=W(new N({x:2.3}),o);W(new _({radius:.43,thickness:.015,color:y.black}),u),o.add(new T({x:1.5,thickness:.015,color:y.black}));let h=new i.YJl;h.rotation.z=.25*Math.PI,t.add(h),h.add(new T({x:-1.6,thickness:.01,length:.35,shaded:!0,color:y.notSoWhite})),h.add(new T({x:1.6,thickness:.01,length:.35,shaded:!0,color:y.notSoWhite}));let m=new i.YJl;m.rotation.y=.5*Math.PI,t.add(m),m.add(new T({x:-1.2,thickness:.01,length:.35,shaded:!0,color:y.notSoWhite})),m.add(new T({x:1.2,thickness:.01,length:.35,shaded:!0,color:y.notSoWhite})),(function(e){let n=e.split(".").pop();switch(n){case"hdr":return x(e);case"exr":return new Promise(n=>{v.load(e,e=>{n(e)})});default:return Promise.reject("Unsupported texture format: ".concat(n))}})("https://threejs.org/examples/textures/piz_compressed.exr").then(e=>{e.mapping=i.wfO,u.material.envMap=e,u.material.envMapIntensity=.25,u.material.envMapRotation.set(-.1*Math.PI,Math.PI,0),u.material.roughness=.3,u.material.metalness=.5,u.material.needsUpdate=!0,r.material.envMap=e,r.material.roughness=.2,r.material.envMapIntensity=.5,r.material.envMapRotation.set(-.1*Math.PI,Math.PI,0),r.material.needsUpdate=!0});let g=W(new i.YJl,t);g.rotation.z=.25*Math.PI;class w extends i.YJl{constructor(e){super();{let e=new i.Ho_(15,15,5,6,1,!0).rotateY(Math.PI/6),n=new i.uSd({color:new i.Q1f("white").lerp(y.black,.995),side:i.hsX,flatShading:!0});W(new i.eaF(e,n),this)}{let e=new i.Ho_(15,15,5,6,60,!0).rotateY(Math.PI/6),n=new i.uSd({color:y.black,wireframe:!0,flatShading:!0,side:i.hsX});W(new i.eaF(e,n),this)}(0,c.N)(this,e)}}W(new w({y:7.8}),g),W(new w({y:-7.8}),g)}function L(){return(0,r.jsx)("div",{className:"absolute-through",children:(0,r.jsx)(a.Q,{className:"bg-[#ddd]",children:(0,r.jsx)(o.yb,{children:(0,r.jsx)(o.YJ,{fn:O})})})})}T.defaultProps={color:y.black,thickness:.01,shaded:!1,length:1}},65927:(e,n,t)=>{"use strict";t.d(n,{S:()=>r});let r="\n#ifndef GLSL_BASIC\n#define GLSL_BASIC\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\nvec2 clamp01(vec2 x) {\n  return vec2(clamp01(x.x), clamp01(x.y));\n}\n\nvec3 clamp01(vec3 x) {\n  return vec3(clamp01(x.x), clamp01(x.y), clamp01(x.z));\n}\n\nvec4 clamp01(vec4 x) {\n  return vec4(clamp01(x.x), clamp01(x.y), clamp01(x.z), clamp01(x.w));\n}\n\n#endif\n"},77399:(e,n,t)=>{"use strict";t.d(n,{g:()=>a});var r=t(49797);class a extends r.N1A{constructor(e,n){let t=new r.LoY;t.setAttribute("position",new r.qtW([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),t.computeBoundingSphere(),super(t,new r.mrM({fog:!1})),this.light=e,this.color=n,this.type="RectAreaLightHelper";let a=new r.LoY;a.setAttribute("position",new r.qtW([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),a.computeBoundingSphere(),this.add(new r.eaF(a,new r.V9B({side:r.hsX,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);let e=this.material.color,n=Math.max(e.r,e.g,e.b);n>1&&e.multiplyScalar(1/n),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}},79105:(e,n,t)=>{"use strict";t.d(n,{K2:()=>i,KP:()=>a,Tj:()=>l,Ts:()=>o,Zu:()=>r});let r=0x7fffffff,a=123456,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let n=e;if(10>Math.abs(n)&&(n*=1e6),n%=r,(n=n<0?n+r:n)>1)return n&r;if(0===n)return a;throw Error("Impossible. ".concat(n))},i=e=>e=Math.imul(e,48271)&r,l=e=>(e-1)/(r-1)},80425:(e,n,t)=>{"use strict";function r(e){let[n,t]=e.split(".");if(void 0===t)return n;let r=t.length-1;for(;"0"===t[r];)r--;return"."===t[r]&&r--,-1===r?n:n+"."+t.slice(0,r+1)}function a(e){let{maxDigits:n=8}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n<6)throw Error("maxDigits must be at least 6");if(0===e)return"0";let[t,a]=e.toString().split("."),o=t.length,i=n-o-1;if(o>n||i<0){let[t,a]=e.toPrecision(n).split("e");return t=t.slice(0,n-a.length-1),"".concat(r(t),"e").concat(a)}return Math.abs(e)<1/Math.pow(10,n-2)?r(e.toExponential(n-5)):void 0===a?t:r(e.toFixed(i))}t.d(n,{ZV:()=>a})},93432:(e,n,t)=>{"use strict";t.d(n,{ey:()=>a.ey,if:()=>s,Fx:()=>d,vl:()=>x,GD:()=>y,wX:()=>p,jj:()=>h,EC:()=>m,wz:()=>a.wz});var r=t(49797),a=t(44694),o=t(20537);function i(e){return"string"==typeof e&&/^(XYZ|XZY|YXZ|YZX|ZXY|ZYX)$/.test(e)}let l={defaultOrder:"XYZ"};function s(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[s,c,u]=(()=>{if(1===n.length)return[n[0],l,new r.O9p];if(2===n.length)return(0,o.eB)(n[1])?[n[0],l,n[1]]:[n[0],n[1],new r.O9p];if(3===n.length)return n;throw Error("Invalid number of arguments")})();if("string"==typeof s)return function e(n,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new r.O9p,l=(n=n.replace(/\s+\/\s+/g,"/").trim()).split(",").map(e=>e.trim()),[s,c="",u="",f]=l;if(1===l.length&&/\s/.test(n))return console.warn("Detected a single string with spaces, treating it as an Euler declaration string. Commas are expected to separate values."),e(n.replace(/\s/,","),t,o);let d=(0,a.ey)(s)||0,p=(0,a.ey)(c)||0,h=(0,a.ey)(u)||0,m=i(f)?f:t.defaultOrder;return o.set(d,p,h,m)}(s,c,u);if("number"==typeof s)return u.set(s,s,s);if((0,o.eB)(s))return u.copy(s);if((0,o.f7)(s))return u.setFromQuaternion(s);let{defaultOrder:f}=c;if(Array.isArray(s)){let[e,n,t,r,o]=s,l=(0,a.Qm)(r)?r:(0,a.Qm)(o)?o:"rad",c=i(r)?r:i(o)?o:f;return u.set((0,a.ey)(e,l),(0,a.ey)(n,l),(0,a.ey)(t,l),c)}let{x:d,y:p,z:h,order:m=f,unit:x="rad"}=s;return u.set((0,a.ey)(d,x),(0,a.ey)(p,x),(0,a.ey)(h,x),m)}function c(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0;if((0,a.LV)(e))return h(e,n);if("string"==typeof e){let[t,r]=e,a="+"===t?1:-1;switch(r){case"x":return n.set(a,0,0);case"y":return n.set(0,a,0);case"z":return n.set(0,0,a);default:throw Error("Invalid normal declaration: ".concat(e))}}throw Error("Invalid normal declaration")}let u=new r.Pq0,f=new r.Pq0;function d(e){var n;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Zcv;u.set(0,0,1),f.set(0,0,0);let o=u.length();if("string"==typeof(n=e)&&/^[+-][xyz]$/.test(n)||(0,a.LV)(n))c(e,u);else if(Array.isArray(e)){if(2!==e.length)throw Error("Invalid plane declaration: expected an array of length 2");c(e[0],u),h(e[1],f)}if(0===o)throw Error("Invalid plane normal: zero vector");return t.setFromNormalAndCoplanarPoint(u.divideScalar(o),f)}function p(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.I9Y;return a.wX(e,n)}function h(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0;return a.jj(e,n)}function m(e,n){return null!=n||(n=new r.IUQ),a.EC(e,n)}let x=(()=>{let e=new r.Pq0,n=new r.O9p,t=new r.Pq0,a=new r.PTz;return function(r,i){let{x:l=0,y:c=0,z:u=0,position:f={x:l,y:c,z:u},rotationX:d=0,rotationY:p=0,rotationZ:m=0,rotationOrder:x="XYZ",rotation:v={x:d,y:p,z:m,order:x},scaleX:g=1,scaleY:y=1,scaleZ:w=1,scaleScalar:b=1,scale:_={x:g,y:y,z:w}}=r;if((0,o.MR)(i))return h(f,e),s(v,n),h(_,t).multiplyScalar(b),a.setFromEuler(n),i.compose(e,a,t);if((0,o.Th)(i))return h(f,i.position),s(v,i.rotation),h(_,i.scale).multiplyScalar(b),i;throw Error("Invalid out argument")}})(),v=new r.kn4,g=new r.kn4;function y(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;n.identity();let t=e[Symbol.iterator](),r=t.next();if(r.done)return n;x(r.value,n);for(let e=t.next();!e.done;e=t.next())x(e.value,g),n.multiply(g);return n}}},e=>{var n=n=>e(e.s=n);e.O(0,[9510,5611,7190,7962,4512,146,3445,1319,6852,7358],()=>n(62832)),_N_E=e.O()}]);