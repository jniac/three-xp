(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2200],{1029:(n,t,e)=>{"use strict";e.d(t,{N:()=>r});let a={vecX:["float","vec2","vec3","vec4"]},r=(n,t)=>{let e=[],r=Array.isArray(n)?n:[n].map(n=>n in a?a[n]:n).flat();if("function"==typeof t)for(let n of r)e.push(t(n).replaceAll(/\bT\b/g,n));else for(let n of r)e.push(t.replaceAll(/\bT\b/g,n));return e.join("\n")}},8144:(n,t,e)=>{"use strict";e.d(t,{H:()=>o});var a=e(65927),r=e(1029);let o="\n".concat(a.S,"\n\n#ifndef GLSL_UTILS\n#define GLSL_UTILS\n\nfloat sin01(float x) {\n  return 0.5 + 0.5 * sin(x * 6.283185307179586);\n}\n\nvec2 scaleAround(vec2 p, vec2 c, float s) {\n  return c + (p - c) / s;\n}\n\n// Same as mix, but clamped.\n").concat((0,r.N)("vecX","\n  T lerp(in T a, in T b, in float x) {\n    return mix(a, b, clamp01(x));\n  }\n"),"\n\nfloat inverseLerpUnclamped(in float a, in float b, float x) {\n  return (x - a) / (b - a);\n}\n\nfloat inverseLerp(in float a, in float b, float x) {\n  return clamp01((x - a) / (b - a));\n}\n\nfloat remap(in float x, in float a, in float b, in float c, in float d) {\n  return c + (d - c) * inverseLerp(a, b, x);\n}\n\n// Remap from [-1, 1] to [0, 1]\nfloat remap1101(in float x) {\n  return clamp01(0.5 + 0.5 * x);\n}\n\n").concat((0,r.N)("vecX","\n  T oneMinus(in T x) {\n    return 1.0 - x;\n  }\n"),"\n\n// Returns x^p, but handles negative x values correctly.\nfloat spow(in float x, in float p) {\n  return x >= 0.0 ? pow(x, p) : -pow(-x, p);\n}\n\nfloat threshold(in float x, in float thresholdValue) {\n  return x < thresholdValue ? 0. : 1.;\n}\n\nfloat threshold(in float x, in float thresholdValue, in float width) {\n  return width < 1e-9 \n    ? (x < thresholdValue ? 0. : 1.)\n    : clamp01((x - thresholdValue + width * .5) / width);\n}\n\nmat3 extractRotation(mat4 matrix) {\n  return mat3(matrix[0].xyz, matrix[1].xyz, matrix[2].xyz);\n}\n\nvec2 rotate(vec2 p, float a) {\n  float c = cos(a);\n  float s = sin(a);\n  float x = c * p.x + s * p.y;\n  float y = -s * p.x + c * p.y;\n  return vec2(x, y);\n}\n\nvec2 rotateAround(vec2 p, float a, vec2 c) {\n  return c + rotate(p - c, a);\n}\n\nvec2 rotateScaleAround(vec2 p, float a, float s, vec2 c) {\n  return c + rotate((p - c) / s, a);\n}\n\nfloat positiveModulo(float x) {\n  x = mod(x, 1.0);\n  return x < 0.0 ? x + 1.0 : x;\n}\n\n// Modulo that keeps the result in the range [0, modulo]\nfloat positiveModulo(float x, float modulo) {\n  x = mod(x, modulo);\n  return x < 0.0 ? x + modulo : x;\n}\n\n// Modulo that keeps the result in the range [-m/2, m/2]\nfloat middleModulo(float x, float modulo) {\n  x = mod(x, modulo);\n  return x < -modulo / 2.0 ? x + modulo : x > modulo / 2.0 ? x - modulo : x;\n}\n\n// Limit a value to a maximum that the function tends to reach when x -> ∞\n// https://www.desmos.com/calculator/0vewkbnscu\nfloat limited(float x, float maxValue) {\n  return x <= 0.0 ? x : maxValue * x / (maxValue + x);\n}\n\n// Symmetric version of limited\n// \n// Limit a value to a maximum that the function tends to reach when x -> ∞\n// and a minimum (-maximum) that the function tends to reach when x -> -∞\n// https://www.desmos.com/calculator/0vewkbnscu\nfloat slimited(float x, float maxValue) {\n  return x <= 0.0\n    ? -limited(-x, maxValue)\n    : limited(x, maxValue);\n}\n\n// https://www.desmos.com/calculator/0vewkbnscu\nfloat limited(float x, float minValue, float maxValue) {\n  float d = maxValue - minValue;\n  float xd = x - minValue;\n  return x <= minValue ? x : minValue + d * xd / (d + xd);\n}\n\n// Symmetric version of limited\nfloat slimited(float x, float minValue, float maxValue) {\n  return x <= 0.0\n    ? -limited(-x, maxValue, minValue)\n    : limited(x, minValue, maxValue);\n}\n\nfloat sqLength(in vec2 p) {\n  return p.x * p.x + p.y * p.y;\n}\n\nfloat sqLength(in vec3 p) {\n  return p.x * p.x + p.y * p.y + p.z * p.z;\n}\n\nfloat pcurve(float x, float a, float b) {\n  float k = pow(a + b, a + b) / (pow(a, a) * pow(b, b));\n  return k * pow(x, a) * pow(1.0 - x, b);\n}\n\nfloat hash(float p) {\n  return fract(sin(p * 12.9898) * 43758.5453);\n}\n\nfloat hash(vec2 p) {\n  return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nfloat hash(vec3 p) {\n  return fract(sin(dot(p, vec3(12.9898, 78.233, 45.164))) * 43758.5453);\n}\n\nfloat hash(vec4 p) {\n  return fract(sin(dot(p, vec4(12.9898, 78.233, 45.164, 94.673))) * 43758.5453);\n}\n\nvec2 hash2(float p) {\n  return vec2(hash(p), hash(p + 1.0));\n}\n\nvec2 hash2(vec2 p) {\n  return vec2(hash(p.x), hash(p.y));\n}\n\nvec2 hash2(vec3 p) {\n  return vec2(hash(p.xy), hash(p.yz));\n}\n\nvec2 hash2(vec4 p) {\n  return vec2(hash(p.xyz), hash(p.yzw));\n}\n\nvec3 hash3(float p) {\n  return vec3(hash2(p),  hash(p + 2.0));\n}\n\nvec3 hash3(vec2 p) {\n  return vec3(hash2(p), hash(p));\n}\n\nvec3 hash3(vec3 p) {\n  return vec3(hash(p.x), hash(p.y), hash(p.z));\n}\n\nvec3 hash3(vec4 p) {\n  return vec3(hash(p.xy), hash(p.yz), hash(p.zw));\n}\n\nfloat hash_alt(float p) {\n  return fract(sin(p * 127.1) * 311.7);\n}\n\nfloat hash_alt(vec2 p) {\n  return fract(sin(dot(p, vec2(127.1, 311.7))) * 269.5);\n}\n\nfloat hash_alt(vec3 p) {\n  return fract(sin(dot(p, vec3(127.1, 311.7, 74.7))) * 269.5);\n}\n\nfloat hash_alt(vec4 p) {\n  return fract(sin(dot(p, vec4(127.1, 311.7, 74.7, 113.5))) * 269.5);\n}\n\n").concat((0,r.N)("vecX","\n  T min3(in T a, in T b, in T c) {\n    return min(min(a, b), c);\n  }\n"),"\n\n").concat((0,r.N)("vecX","\n  T min4(in T a, in T b, in T c, in T d) {\n    return min(min(a, b), min(c, d));\n  }\n"),"\n\n#endif // GLSL_UTILS\n")},31423:(n,t,e)=>{"use strict";e.d(t,{l:()=>i});var a=e(70691),r=e(18479),o=e(36508);let l={frequency:3,tickerName:"three",precision:1};function i(n){let{frequency:t,tickerName:e,precision:i,...s}={...l,...n},{ref:h}=(0,r.C7)(function*(){let n=o.Rv.get("three");yield n.onTick({timeInterval:1/3},()=>{h.current.innerText="".concat(n.averageFps.toFixed(i)," fps")})},[t,e,i]);return(0,a.jsx)("div",{ref:h,...s,children:"-- fps"})}},53733:(n,t,e)=>{"use strict";e.d(t,{PageClient:()=>p});var a=e(70691),r=e(99332),o=e(31423),l=e(53097),i=e(79911),s=e(49797),h=e(7147),c=e(3293),f=e(8144),u=e(80446),m=e(36508);class d extends s.YJl{constructor({count:n=8,color:t=function(){let n=new s.Q1f,t=u.n.new("parkmiller",123456);return()=>n.set(t.int(0x1000000))}()}={}){super(),this.timescale=1,this.name="ShadowHillPlanes";let e=new s.bdM,a=new s.V9B({transparent:!0,side:s.$EB}),r={uTime:{value:0},uShadowColor:{value:new s.Q1f(0)}};a.onBeforeCompile=n=>h.bI.with(n).defines("USE_UV").uniforms(r).varying({vHash:"vec4"}).top(f.H).vertex.mainAfterAll("\n        // Push each layer back a little bit to avoid z-fighting\n        gl_Position.z += -0.0001 * float(gl_InstanceID);\n\n        vHash = vec4(\n          hash(float(gl_InstanceID)),\n          hash(float(gl_InstanceID) * 7.3),\n          hash(float(gl_InstanceID) * 15.7),\n          hash(float(gl_InstanceID) * 23.9)\n        );\n      ").fragment.after("map_fragment","\n        vec2 uv = vUv;\n        float threshold0 = 0.5;\n        float amplitude = 0.1;\n        float threshold1 = threshold0;\n\n        float time = uTime * 0.333;\n        threshold1 += amplitude * sin(uv.x * 1.6783 * (1.0 + vHash.z) + vHash.w * 2.0 * 6.28)\n          * sin(time * 0.13 + vHash.y * 6.28);\n        threshold1 += amplitude * 0.6 * sin(uv.x * 3.739 * (1.0 + vHash.x) + vHash.y * 2.0 * 6.28)\n          * sin(time * 0.1 + vHash.w * 6.28);\n\n        // Small waves\n        threshold1 += amplitude * 0.2 * sin(uv.x * 8.2837 * (1.0 + vHash.y) + vHash.z * 2.0 * 6.28)\n          * sin(time * 0.1172 + vHash.w * 6.28);\n        threshold1 += amplitude * 0.1 * sin(uv.x * 9.7427 * (1.0 + vHash.z) + vHash.x * 2.0 * 6.28)\n          * sin(time * 0.1172 + vHash.w * 6.28);\n\n        float d0 = threshold0 + amplitude - uv.y;\n        float d1 = threshold1 - uv.y;\n        if (d1 > 0.0) {\n          float shadow = 1.0 - (d0 * 1.0 + d1 * 2.0) * 0.75;\n          shadow = clamp(shadow, 0.0, 1.0);\n\n          diffuseColor.rgb = vec3(0.0);\n          diffuseColor.a *= shadow;\n        }\n\n        diffuseColor.rgb *= 1.0 + 0.25 * (0.5 - hash(gl_FragCoord.xy * 0.005 + uTime));\n      ");let o=new s.ZLX(e,a,n),l=m.Rv.get("three");o.onBeforeRender=()=>{r.uTime.value+=l.tick.deltaTime*this.timescale},this.add(o);let i=function(n){let t=new s.Q1f;return"function"==typeof n?e=>t.set(n(e)):Array.isArray(n)?e=>t.set(n[e%n.length]):(t.set(n),()=>t)}(t);for(let t=0;t<n;t++)o.setMatrixAt(t,(0,c.w)({y:(t-(n-1)/2)*.1})),o.setColorAt(t,i(t))}}function x(){return(0,l.dB)("my-scene",function*(n,t){let e=(0,i.mj)(new d,n);e.rotation.z=-Math.PI/4,yield(0,r.s)(t.domElement,{onDown:()=>{e.timescale=10},onUp:()=>{e.timescale=1}})},[]),null}function p(){return(0,a.jsxs)(l.uB,{vertigoControls:{size:1,zoom:2},fullscreenKey:{code:"KeyF",modifiers:"shift"},children:[(0,a.jsxs)("div",{className:"PageClient layer thru p-16 border-[32px] border-[white] flex flex-col items-start",children:[(0,a.jsx)("h1",{className:"text-6xl font-bold",children:"OVVO Layers"}),(0,a.jsx)(o.l,{precision:0,className:"mt-2 px-2 py-1 rounded text-[black] bg-[#fff] text-xs"})]}),(0,a.jsx)(x,{})]})}},65927:(n,t,e)=>{"use strict";e.d(t,{S:()=>a});let a="\n#ifndef GLSL_BASIC\n#define GLSL_BASIC\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\nvec2 clamp01(vec2 x) {\n  return vec2(clamp01(x.x), clamp01(x.y));\n}\n\nvec3 clamp01(vec3 x) {\n  return vec3(clamp01(x.x), clamp01(x.y), clamp01(x.z));\n}\n\nvec4 clamp01(vec4 x) {\n  return vec4(clamp01(x.x), clamp01(x.y), clamp01(x.z), clamp01(x.w));\n}\n\n#endif\n"},66620:(n,t,e)=>{"use strict";e.d(t,{_:()=>o});var a=e(89868),r=e(44138);function o(n,t){var e=(0,r._)(n,t,"update");return(0,a._)(n,e)}},72089:(n,t,e)=>{Promise.resolve().then(e.bind(e,53733))},79105:(n,t,e)=>{"use strict";e.d(t,{K2:()=>l,KP:()=>r,Tj:()=>i,Ts:()=>o,Zu:()=>a});let a=0x7fffffff,r=123456,o=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(Number.isNaN(n))throw Error("NaN is not a valid seed.");let t=n;if(10>Math.abs(t)&&(t*=1e6),t%=a,(t=t<0?t+a:t)>1)return t&a;if(0===t)return r;throw Error("Impossible. ".concat(t))},l=n=>n=Math.imul(n,48271)&a,i=n=>(n-1)/(a-1)},80446:(n,t,e)=>{"use strict";e.d(t,{n:()=>r});var a=e(79105);let r=function n(){let t=Math.random,e=()=>{};function r(n){let t=0;for(let e=0;e<n.length;e++)t=(t<<5)-t+n.charCodeAt(e)|0;return t}function o(){for(var n=arguments.length,e=Array(n),a=0;a<n;a++)e[a]=arguments[a];if(0===e.length)return t();if(1===e.length)return t()*e[0];if(2===e.length)return t()*(e[1]-e[0])+e[0];throw Error("Invalid arguments")}function l(){for(var n=arguments.length,e=Array(n),a=0;a<n;a++)e[a]=arguments[a];if(1===e.length)return Math.floor(t()*e[0]);if(2===e.length)return Math.floor(t()*(e[1]-e[0]))+e[0];throw Error("Invalid arguments")}function i(n){let{weightsAreNormalized:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===n.length)throw Error("Weights array is empty");if(!1===e){let e=n.reduce((n,t)=>n+t,0),a=t()*e,r=0;for(let t=0;t<n.length;t++)if(a<(r+=n[t]))return t;return n.length-1}{let e=t(),a=0;for(let t=0;t<n.length;t++)if(e<(a+=n[t]))return t;return n.length-1}}let s={new:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return n().setRandom(...e)},setRandom:function(){for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];let[i,h=0]=o,c="string"==typeof h?r(h):h;if("parkmiller"===i){let n=a.Ts(c);t=()=>(n=a.K2(n),a.Tj(n)),e=t=>{n=a.Ts(t)}}else{if(void 0!==i&&"function"!=typeof i)throw Error("Invalid random function");t=null!=i?i:Math.random,e=()=>{}}return e(c),s},seed:function(n){return e("string"==typeof n?r(n):null!=n?n:0),s},get random(){return t},chance:function(n){return t()<n},number:o,float:o,f:o,sign:function(){return .5>t()?-1:1},int:l,i:l,hexColor:function(){let n=Math.floor(0xffffff*t());return"#".concat(n.toString(16).padStart(6,"0"))},pickIndex:i,pick:function(n,e){if(0===n.length)throw Error("Array is empty");if(e)return n[i(e)];let a=Math.floor(t()*n.length);return n[a]},createPicker:function(n){let t=n.map(n=>n[0]),e=n.map(n=>n[1]),a=t.reduce((n,t)=>n+t,0);for(let n=0;n<t.length;n++)t[n]/=a;return()=>e[i(t,{weightsAreNormalized:!0})]},direction2:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=t()*Math.PI*2;return n.x=Math.cos(e),n.y=Math.sin(e),n},direction3:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0},e=t(),a=t(),r=2*Math.PI*e,o=Math.acos(1-2*a);return n.x=Math.sin(o)*Math.cos(r),n.y=Math.sin(o)*Math.sin(r),n.z=Math.cos(o),n},quaternion:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0,w:1},e=t(),a=t(),r=t(),o=Math.sqrt(1-e),l=Math.sqrt(e);return n.x=o*Math.sin(2*Math.PI*a),n.y=o*Math.cos(2*Math.PI*a),n.z=l*Math.sin(2*Math.PI*r),n.w=l*Math.cos(2*Math.PI*r),n},shuffleIndexes:function*(n){if(n<=0)throw Error("N must be greater than 0");let e=0,a=Math.floor((2+2*t())*n);for(;1!==function(n,t){for(;0!==t;)[n,t]=[t,n%t];return n}(n,a);){if(++e>1e3)throw Error("Failed to find a suitable a value after 1000 attempts");a=n+Math.floor(t()*n)}let r=Math.floor(t()*n);for(let t=0;t<n;t++)yield(r+t*a)%n}};return s}()}},n=>{var t=t=>n(n.s=t);n.O(0,[5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,146,6726,3445,9332,3414,9717,1763,2143,3097,1319,6852,7358],()=>t(72089)),_N_E=n.O()}]);