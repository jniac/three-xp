(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{16465:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var i=n(49797),o=n(7147);let r={shadowColor:"#808080",luminosity:1,rampPower:1,onBeforeCompile:void 0};class l extends i.V9B{constructor(e){let{rampPower:t,shadowColor:n,luminosity:l,onBeforeCompile:a,...u}={...r,...e},s={uSunPosition:{value:new i.Pq0(.5,.7,.3)},uShadowColor:{value:new i.Q1f(n)},uRampPower:{value:t},uLuminosity:{value:l}};super(u),this.onBeforeCompile=e=>{o.bI.with(e).uniforms(s).varying({vAutoLitWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vAutoLitWorldNormal = mat3(modelMatrix) * normal;\n          #ifdef USE_INSTANCING\n            vAutoLitWorldNormal = mat3(instanceMatrix) * vAutoLitWorldNormal;\n          #endif\n        ").fragment.after("map_fragment","\n          vec3 normal = normalize(vAutoLitWorldNormal);\n          vec3 lightDirection = normalize(uSunPosition);\n          float light = dot(normal, lightDirection) * 0.5 + 0.5;\n          light = pow(light, uRampPower);\n          diffuseColor.rgb *= mix(uShadowColor * uLuminosity, vec3(1.0), light);\n        "),null==a||a(e)},this.sunPosition=s.uSunPosition.value}}},33583:(e,t,n)=>{"use strict";n.d(t,{Client:()=>_});var i=n(70691),o=n(49797),r=n(31763),l=n(16465),a=n(79911),u=n(36508),s=n(67203),c=n(18479),d=n(88575);n(61249);let m=(0,s.createContext)(null),f={className:"",assetsPath:"/"};function v(e){let{children:t,className:n,assetsPath:o}={...f,...e},r=(0,s.useMemo)(()=>new d.XW,[]);r.loader.setPath(o);let{ref:l}=(0,c.IZ)({debounce:!0},function*(e,t){yield r.initialize(e),t.triggerRender(),Object.assign(window,{three:r})},[]);return(0,i.jsx)("div",{ref:l,className:n,style:{position:"absolute",inset:0},children:(0,i.jsx)(m.Provider,{value:r,children:r.initialized&&t})})}function h(e){return function(){let[e,t]=(0,s.useState)(!1);return(0,s.useLayoutEffect)(()=>{t(!0)},[]),e}()&&(0,i.jsx)(v,{...e})}var w=n(95645),p=n.n(w);function x(){return function(e,t){let n=(0,s.useContext)(m);(0,c.useEffects)(async function*(t,i){if(e){let t=e(n,i);if(t&&"function"==typeof t.next)do{let{value:e,done:n}=await t.next();if(n)break;yield e}while(i.mounted)}},null!=t?t:"always")}(function*(e){let t=(0,a.mj)(new o.eaF(new o.WBB,new l.Y),e.scene);yield()=>t.removeFromParent();let n=new r.n;n.initialize(e.renderer.domElement).start(),yield(0,u.xy)("three",t=>{n.update(e.camera,e.aspect,t.deltaTime)})},[]),null}function _(){return(0,i.jsx)("div",{className:"layer thru ".concat(p().Client),children:(0,i.jsx)(h,{children:(0,i.jsx)(x,{})})})}},66620:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(89868),o=n(44138);function r(e,t){var n=(0,o._)(e,t,"update");return(0,i._)(e,n)}},88575:(e,t,n)=>{"use strict";n.d(t,{O0:()=>i.O0,XW:()=>i.XW});var i=n(82143)},95645:e=>{e.exports={Client:"page_client_Client__Sqjc_"}},96144:(e,t,n)=>{Promise.resolve().then(n.bind(n,33583))}},e=>{var t=t=>e(e.s=t);e.O(0,[8939,5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,146,487,3445,9332,3414,9717,1763,2143,1319,6852,7358],()=>t(96144)),_N_E=e.O()}]);