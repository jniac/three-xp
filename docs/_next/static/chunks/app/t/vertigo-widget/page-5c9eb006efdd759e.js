(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6532],{29351:function(t,e,n){Promise.resolve().then(n.bind(n,96633))},96633:function(t,e,n){"use strict";n.d(e,{Client:function(){return u}});var r=n(32617),a=n(37186),o=n(33966),i=n(12042),l=n(78780),s=n(49959);function c(){return(0,o.Ky)(function*(t){(0,l.cY)(new a.Kj0(new a.cJO(1,0),new i.P),{parent:t.scene,x:-4}),(0,l.cY)(new s.lx,{parent:t.scene})},[]),null}function u(){return(0,r.jsx)(o.H7,{children:(0,r.jsxs)(o.KU,{children:[(0,r.jsx)("div",{className:"layer thru p-4",children:(0,r.jsx)("h1",{children:"Vertigo Widget"})}),(0,r.jsx)(c,{})]})})}},49959:function(t,e,n){"use strict";n.d(e,{AB:function(){return f},X5:function(){return a},lx:function(){return g}});var r,a,o=n(2132),i=n(37186),l=n(61668),s=n(86521);function c(t,e){let n=new i.TlE(new Int8Array(t.attributes.position.count).fill(e),1);t.setAttribute("aPartId",n)}function u(t,e,n){let r=new i.b_z(.2,.6000000000000001,t,n,!0).rotateZ(Math.PI).translate(0,.53,0),a=Array.from({length:e},(t,n)=>{let r=n/(e-1);return new i.FM8(.2*r,-.05*(1-r**2))}),o=new i.p7y(a,t).rotateZ(Math.PI).translate(0,.2*3/2+.53,0);return(0,s.n4)([r,o],!1)}function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"low",e="high"===t?(0,s.$1)(new l.k(.3,.3,.3,4,.05)):new i.DvJ(.3,.3,.3);c(e,0);let n="high"===t?u(32,8,5):u(6,2,1);c(n,3);let r=n.clone().rotateX(Math.PI);c(r,4);let a=n.clone().rotateZ(-Math.PI/2);c(a,1);let o=n.clone().rotateZ(Math.PI/2);c(o,2);let m=n.clone().rotateX(Math.PI/2);c(m,5);let f=n.clone().rotateX(-Math.PI/2);return c(f,6),[e,a,o,n,r,m,f]}(r=a||(a={}))[r.BOX=0]="BOX",r[r.POSITIVE_X=1]="POSITIVE_X",r[r.NEGATIVE_X=2]="NEGATIVE_X",r[r.POSITIVE_Y=3]="POSITIVE_Y",r[r.NEGATIVE_Y=4]="NEGATIVE_Y",r[r.POSITIVE_Z=5]="POSITIVE_Z",r[r.NEGATIVE_Z=6]="NEGATIVE_Z";let f={defaultColor:"white",xColor:"#eb1640",yColor:"#00ffb7",zColor:"#3b80e7",hoverColor:"#fffc47"};function p(t){let{defaultColor:e,xColor:n,yColor:r,zColor:a,hoverColor:o}={...f,...t},l=new i.Ilk(e),s=new i.Ilk(n),c=new i.Ilk(r),u=new i.Ilk(a),m=new i.Ilk(o),p={uSunPosition:{value:new i.Pa4(.5,.7,.3)},uLuminosity:{value:.66},uColors:{value:[l,s,l,c,l,u,l]},uHoverColor:{value:m},uOpacity:{value:[1,1,1,1,1,1,1]},uHoverOpacity:{value:[0,0,0,0,0,0,0]}};return new i.jyz({uniforms:p,vertexShader:"\nuniform vec3 uColors[7];\nuniform float uOpacity[7];\nuniform vec3 uHoverColor;\nuniform float uHoverOpacity[7];\n\nattribute float aPartId;\n\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vPosition = position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  vColor = uColors[int(aPartId)];\n  vOpacity = uOpacity[int(aPartId)];\n  vHoverOpacity = uHoverOpacity[int(aPartId)];\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nuniform vec3 uSunPosition;\nuniform float uLuminosity;\nuniform vec3 uHoverColor;\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\nfloat inverseLerp(float a, float b, float x) {\n  return clamp01((x - a) / (b - a));\n}\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  \n  float minLuminosity = max(pow(vHoverOpacity, 1.0 / 3.0) * 0.85, uLuminosity);\n  light = mix(minLuminosity, 1.0, light);\n\n  vec3 color = vColor;\n  color = mix(color, uHoverColor, vHoverOpacity);\n  gl_FragColor = vec4(color * light, vOpacity);\n}\n",transparent:!0})}let h=new i.iMs;class g extends i.ZAu{getHovered(){return this.internal.hovered}getPressed(){return this.internal.pressed}widgetUpdate(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/60,{lowMesh:a,material:l}=this.parts,s=new i.Pa4;n.getWorldDirection(s);let c=this.matrixWorld.elements,u=new i.Pa4(c[0],c[1],c[2]),m=new i.Pa4(c[4],c[5],c[6]),f=new i.Pa4(c[8],c[9],c[10]);{let t=l.uniforms.uOpacity.value,e=Math.abs(s.dot(u)),n=Math.abs(s.dot(m)),a=Math.abs(s.dot(f));t[1]=t[2]=(0,o.Lj)(t[1],e<.98?1.05:-.05,1e-4,r),t[3]=t[4]=(0,o.Lj)(t[3],n<.98?1.05:-.05,1e-4,r),t[5]=t[6]=(0,o.Lj)(t[5],a<.98?1.05:-.05,1e-4,r)}{let t=l.uniforms.uHoverOpacity.value,e=0===this.internal.hovered?1:0,n=1===this.internal.hovered?1:0,a=2===this.internal.hovered?1:0,i=3===this.internal.hovered?1:0,s=4===this.internal.hovered?1:0,c=5===this.internal.hovered?1:0,u=6===this.internal.hovered?1:0;t[0]=(0,o.Lj)(t[0],e,1e-4,r),t[1]=(0,o.Lj)(t[1],n,1e-4,r),t[2]=(0,o.Lj)(t[2],a,1e-4,r),t[3]=(0,o.Lj)(t[3],i,1e-4,r),t[4]=(0,o.Lj)(t[4],s,1e-4,r),t[5]=(0,o.Lj)(t[5],c,1e-4,r),t[6]=(0,o.Lj)(t[6],u,1e-4,r)}h.setFromCamera(t,n);let[p]=h.intersectObject(a,!0).map(t=>{let e=3*t.faceIndex;return a.geometry.groups.findIndex(t=>t.start<=e&&e<t.start+t.count)}).filter(t=>l.uniforms.uOpacity.value[t]>.5);e&&!1===this.internal.pointerDown&&(this.internal.pointerDown=!0,this.internal.pointerDownPosition.copy(t),this.internal.pressed=null!=p?p:null),e&&!1===this.internal.dragging&&this.internal.pointerDownPosition.distanceTo(t)>.01&&(this.internal.dragging=!0),!1===e&&this.internal.pointerDown&&(this.internal.pointerDown=!1,this.internal.dragging=!1,this.internal.pressed=null);let g=this.internal.dragging?null:null!=p?p:null;this.internal.hovered,this.internal.hovered=g}constructor(t){super(),this.internal={pointerPosition:new i.FM8,pointerDownPosition:new i.FM8,pointerDown:!1,dragging:!1,hovered:null,pressed:null};let e=p(null==t?void 0:t.material),n=m("high").map((t,n)=>{let r=new i.Kj0(t,e);return r.name="vertigo-widget-mesh-".concat(n),this.add(r),r}),r=new i.Kj0(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let r=m(...e);return(0,s.n4)(r,!0)}("low"),p(null==t?void 0:t.material));r.material.transparent=!1,r.name="vertigo-widget-low-mesh",r.visible=!1,this.add(r),this.parts={material:e,meshes:n,lowMesh:r}}}},12042:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=n(88780),a=n(23247);let o={luminosity:.5};class i extends r.vBJ{constructor(t){let{luminosity:e,...n}={...o,...t},i={uSunPosition:{value:new r.Pa4(.5,.7,.3)},uLuminosity:{value:e}};super(n),this.onBeforeCompile=t=>a.b.with(t).uniforms(i).varying({vWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vWorldNormal = mat3(modelMatrix) * normal;\n      ").fragment.after("map_fragment","\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        diffuseColor *= light;\n      "),this.sunPosition=i.uSunPosition.value}}},23247:function(t,e,n){"use strict";n.d(e,{b:function(){return d},R:function(){return x}});var r=n(77478),a=n(88780);let o=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var i=n(58100);class l{static from(t,e){if(e instanceof i.Observable){if("number"==typeof e.value)return new l(t,e);throw Error("Observable value must be a number")}let n=typeof e;return"object"===n&&(e.constructor===Object||e instanceof a.xWb)&&"value"in e?new l(t,e):"string"===n?new l(t,{value:new a.Ilk(e)}):new l(t,{value:e})}get value(){return this.target.value}computeDeclaration(){let t=this.name,e=this.target.value,n="";if(e instanceof Float32Array)return"uniform float ".concat(t,"[").concat(e.length,"];");if(Array.isArray(e)&&(n="[".concat(e.length,"]"),e=e[0]),"number"==typeof e)return"uniform float ".concat(t).concat(n,";");if(e.isVector2)return"uniform vec2 ".concat(t).concat(n,";");if(e.isVector3||e.isColor)return"uniform vec3 ".concat(t).concat(n,";");if(e.isVector4||e.isQuaternion)return"uniform vec4 ".concat(t).concat(n,";");if(e.isMatrix3)return"uniform mat3 ".concat(t).concat(n,";");if(e.isMatrix4)return"uniform mat4 ".concat(t).concat(n,";");if(e.isTexture)return e.isCubeTexture?"uniform samplerCube ".concat(t).concat(n,";"):"uniform sampler2D ".concat(t).concat(n,";");throw console.log("unhandled value:",e),Error('unhandled value: "'.concat(null==e?void 0:e.constructor.name,'"'))}constructor(t,e){this.name=t,this.target=e}}function s(){let t=(0,r._)(["","s*",""],["","\\s*",""]);return s=function(){return t},t}let c=null,u=t=>(c=t,d),m="// ShaderForge (injected code) ->",f="// <- ShaderForge",p=t=>"".concat(m,"\n").concat(t.trim(),"\n").concat(f),h=t=>{let e=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=RegExp(String.raw(s(),e(f),e(m)),"g");return t.replaceAll(n,"")};class g{getPattern(t){let{throwError:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="#include <".concat(t,">"),r=this.type;if(e&&!1===c[r].includes(n))throw Error('"'.concat(n,'" is not present in the shader template program.'));return{pattern:n,type:r}}replace(t,e){if(t instanceof RegExp){let{type:n}=this;c[n].match(t),c[n]=c[n].replace(t,p(e))}else{let{type:n,pattern:r}=this.getPattern(t),a=p(e);c[n]=c[n].replace(r,a)}return d}inject(t,e,n){let{type:r,pattern:a}=this.getPattern(e),o="after"===t?"".concat(a,"\n").concat(p(n)):"".concat(p(n),"\n").concat(a);return c[r]=c[r].replace(a,o),d}injectTokenComments(){for(let t of o){let{type:e,pattern:n}=this.getPattern(t,{throwError:!1});c[e]=c[e].replace(n,"\n        ".concat(n,"\n        // ShaderForge TOKEN: ").concat(t,"\n      "))}return d}header(t){let e=this.type;return c[e]="".concat(t,"\n").concat(c[e]),d}before(t,e){return this.inject("before",t,e)}after(t,e){return this.inject("after",t,e)}top(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return c[this.type]=c[this.type].replace("void main() {","\n      ".concat(p(e.join("\n\n")),"\n      void main() {\n    ")),d}mainBeforeAll(t){return c[this.type]=c[this.type].replace("void main() {","void main() {\n        ".concat(p(t))),d}mainAfterAll(t){return c[this.type]=c[this.type].replace(/}\s*$/,"\n      ".concat(p(t),"\n    }")),d}uniforms(t){if("string"==typeof t)this.top(t);else{let e=[];for(let[n,r]of Object.entries(t)){let t=l.from(n,r);e.push(t.computeDeclaration())}this.top(e.join("\n")),function(t){for(let[e,n]of Object.entries(t)){let t=l.from(e,n);if(e in c.uniforms){if(t.value!==c.uniforms[e].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else c.uniforms[e]=t}}(t)}return d}clean(){return c[this.type]=h(c[this.type]),d}printFinalCode(){return console.log(c[this.type].replace(/#include <(.*)>/g,(t,e)=>{let n=a.WdD[e];if(!n)throw Error('Shader chunk "'.concat(e,'" not found'));return n})),d}constructor(t){this.type=t}}let v=new g("fragmentShader"),_=new g("vertexShader"),d=Object.assign(function(t){return t&&u(t),d},{shaderName:function(t){return c.shaderName="".concat(t," (ShaderForge)"),d},defines:function(t){return c.defines?Object.assign(c.defines,t):c.defines=t,d},uniforms:function(t){return _.uniforms(t),v.uniforms(t),d},varying:function(t){let e="";if("string"==typeof t)e=t;else{let n=[];for(let[e,r]of Object.entries(t))n.push("varying ".concat(r," ").concat(e,";"));e=n.join("\n")}return _.top(e),v.top(e),d},top:function(t){return _.top(t),v.top(t),d},vertex:_,fragment:v,header:function(t){return v.header(t),_.header(t),d},clean:function(){return v.clean(),_.clean(),d},with:u,wrap:(t,e)=>(t.onBeforeCompile=t=>{c=t},t)}),y=new a.Ilk;function x(t){let{r:e,g:n,b:r}=y.set(t);return"vec3(".concat(e.toFixed(3),", ").concat(n.toFixed(3),", ").concat(r.toFixed(3),")")}},41737:function(t,e,n){"use strict";n.d(e,{N:function(){return i}});var r=n(88780),a=n(32219);new r.Pa4(0,0,0),new r.USm(0,0,0,"XYZ"),new r.Pa4(1,1,1);let o={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,visible:void 0,name:void 0,parent:void 0};function i(t,e){let{x:n,y:i,z:l,position:s=new r.Pa4(n,i,l),rotationX:c,rotationY:u,rotationZ:m,rotationOrder:f,rotationUnit:p,rotation:h,scaleX:g,scaleY:v,scaleZ:_,scaleScalar:d,scale:y=new r.Pa4(g,v,_).multiplyScalar(d),visible:x,name:w,parent:b}={...o,...e};return(0,a.Q7)(s,t.position),(0,a.Gg)(null!=h?h:[c,u,m,f,p],t.rotation),(0,a.Q7)(y,t.scale),void 0!==x&&(t.visible=x),void 0!==w&&(t.name=w),void 0!==b&&b!==t.parent&&(null===b?t.removeFromParent():b.add(t)),t}},78780:function(t,e,n){"use strict";n.d(e,{H$:function(){return l},bB:function(){return i},cY:function(){return o}});var r=n(26211),a=n(41737);function o(t,e,n){return e&&((0,r.nK)(e)?e.add(t):(0,a.N)(t,e)),null==n||n(t),t}let i=o;function l(t,e){return function(t,e){let n=t;for(;n.parent;){if(n.parent===e)return!0;n=n.parent}return!1}(e,t)}},61668:function(t,e,n){"use strict";n.d(e,{k:function(){return i}});var r=n(37186);let a=new r.Pa4;function o(t,e,n,r,o,i){let l=2*Math.PI*o/4,s=Math.max(i-2*o,0);a.copy(e),a[r]=0,a.normalize();let c=.5*l/(l+s),u=1-a.angleTo(t)/(Math.PI/4);return 1===Math.sign(a[n])?u*c:s/(l+s)+c+c*(1-u)}class i extends r.DvJ{constructor(t=1,e=1,n=1,a=2,i=.1){if(a=2*a+1,i=Math.min(t/2,e/2,n/2,i),super(1,1,1,a,a,a),1===a)return;let l=this.toNonIndexed();this.index=null,this.attributes.position=l.attributes.position,this.attributes.normal=l.attributes.normal,this.attributes.uv=l.attributes.uv;let s=new r.Pa4,c=new r.Pa4,u=new r.Pa4(t,e,n).divideScalar(2).subScalar(i),m=this.attributes.position.array,f=this.attributes.normal.array,p=this.attributes.uv.array,h=m.length/6,g=new r.Pa4,v=.5/a;for(let r=0,a=0;r<m.length;r+=3,a+=2)switch(s.fromArray(m,r),c.copy(s),c.x-=Math.sign(c.x)*v,c.y-=Math.sign(c.y)*v,c.z-=Math.sign(c.z)*v,c.normalize(),m[r+0]=u.x*Math.sign(s.x)+c.x*i,m[r+1]=u.y*Math.sign(s.y)+c.y*i,m[r+2]=u.z*Math.sign(s.z)+c.z*i,f[r+0]=c.x,f[r+1]=c.y,f[r+2]=c.z,Math.floor(r/h)){case 0:g.set(1,0,0),p[a+0]=o(g,c,"z","y",i,n),p[a+1]=1-o(g,c,"y","z",i,e);break;case 1:g.set(-1,0,0),p[a+0]=1-o(g,c,"z","y",i,n),p[a+1]=1-o(g,c,"y","z",i,e);break;case 2:g.set(0,1,0),p[a+0]=1-o(g,c,"x","z",i,t),p[a+1]=o(g,c,"z","x",i,n);break;case 3:g.set(0,-1,0),p[a+0]=1-o(g,c,"x","z",i,t),p[a+1]=1-o(g,c,"z","x",i,n);break;case 4:g.set(0,0,1),p[a+0]=1-o(g,c,"x","y",i,t),p[a+1]=1-o(g,c,"y","x",i,e);break;case 5:g.set(0,0,-1),p[a+0]=o(g,c,"x","y",i,t),p[a+1]=1-o(g,c,"y","x",i,e)}}}}},function(t){t.O(0,[7987,411,7512,5406,749,6521,812,3420,1540,167,9258,5284,1618,5694,2840,1744],function(){return t(t.s=29351)}),_N_E=t.O()}]);