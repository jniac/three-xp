(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2713],{17490:(t,e,r)=>{"use strict";r.d(e,{PageClient:()=>c});var n=r(70691),i=r(72612),o=r(79285),a=r(71936),l=r(80446),s=r(21984);let u=[-50,150],h={width:600,height:400,strokeWidth:2};function f(t){let{variable:e,...r}=t,{width:i,height:a,strokeWidth:l}={...h,...r},s=e.gaussianSmoothSamples(300,{sampleHistoryWidth:.2});return(0,n.jsx)("polyline",{points:s.map((t,e,r)=>{let n=(0,o.remap)(e,0,r.length-1,i,0),l=(0,o.remap)(t,-50,150,a,0);return"".concat(n,",").concat(l)}).join(" "),stroke:"orange",strokeWidth:1,fill:"none"})}function c(){let t=new a.k({name:"var1",historySize:8});return l.n.setRandom("parkmiller",456789),t.createHistory(t=>t<.25?0:100*l.n.random()),(0,n.jsxs)("div",{className:"p-16 flex flex-col gap-8 overflow-y-auto h-screen",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Gaussian sample demo"}),(0,n.jsx)("p",{className:"max-w-prose",children:"but it looks weird for larger history width sampling... to be investigated."}),(0,n.jsxs)(s.T,{variable:t,yRange:u,width:600,height:400,curveMode:s.b.GaussianLine,children:[(0,i.loopArray)(8,t=>{let e=(0,o.remap)(t.i,0,7,0,600);return(0,n.jsx)("line",{x1:e,y1:0,x2:e,y2:400,stroke:"gray",strokeWidth:.5,strokeDasharray:"2 2"},t.i)}),(0,n.jsx)("line",{x1:0,y1:200,x2:600,y2:200,stroke:"red",strokeWidth:1,strokeDasharray:"4 4"}),(0,n.jsx)(f,{variable:t})]})]})}},21984:(t,e,r)=>{"use strict";r.d(e,{T:()=>h,b:()=>l});var n=r(70691),i=r(67203),o=r(79285),a=r(49797),l=function(t){return t[t.Line=1]="Line",t[t.GaussianLine=2]="GaussianLine",t[t.Fill=4]="Fill",t[t.GaussianFill=8]="GaussianFill",t}({});let s={width:600,height:200,yRange:"auto",strokeWidth:2,curveMode:1,colors:["#56aaff","#ff56b6","#fffc56"]};function u(t){var e;let{variable:r,yRange:i,width:l,height:u,strokeWidth:h,curveMode:f,colors:c}={...s,...t},p=Array.isArray(r)?r[0]:r,d="auto"===i?(()=>{let t=p.historyInfo();return[t.min,t.max]})():i,g=10&f?p.gaussianSmoothSamples(100):null,y=null!=(e=null==g?void 0:g.map((t,e,r)=>{let n=(0,o.remap)(e,0,r.length-1,l,0),i=(0,o.remap)(t,d[0],d[1],u,0);return"".concat(n,",").concat(i)}))?e:null,v=Array.isArray(c)?c[0]:c;return(0,n.jsxs)(n.Fragment,{children:[8&f&&(0,n.jsx)("polygon",{fill:"#".concat(new a.Q1f(v).getHexString()),points:[...y,"".concat(0,",").concat(u),"".concat(l,",").concat(u)].join(" ")}),2&f&&(0,n.jsx)("polyline",{fill:"none",stroke:"#".concat(new a.Q1f(v).getHexString()),strokeWidth:h,points:y.join(" ")}),1&f&&(0,n.jsx)("path",{d:p.toSvgPathData({width:l,height:u,yRange:d}),fill:"none",stroke:"#".concat(new a.Q1f(v).getHexString()),strokeWidth:h})]})}function h(t){let{children:e,...r}=t,{variable:o,yRange:a,width:l,height:h,strokeWidth:f}={...s,...r},[c,p]=(0,i.useState)(a),d=Array.isArray(o)?o:[o];return(0,n.jsx)("div",{onClick:()=>{"auto"!==a&&p(t=>"auto"===t?a:"auto")},children:(0,n.jsxs)("svg",{width:l,height:h,style:{backgroundColor:"#111"},children:[d.map((t,e)=>{var i;return(0,n.jsxs)("g",{children:[(0,n.jsx)(u,{...r,yRange:c}),t.derivative&&(0,n.jsx)("path",{d:t.derivative.toSvgPathData({width:l,height:h,yRange:c}),fill:"none",stroke:"#ff56b6",strokeWidth:f}),(null==(i=t.derivative)?void 0:i.derivative)&&(0,n.jsx)("path",{d:t.derivative.derivative.toSvgPathData({width:l,height:h,yRange:c}),fill:"none",stroke:"#fffc56",strokeWidth:f,opacity:.1})]},e)}),e,(0,n.jsx)("text",{x:10,y:24,fill:"white",fontSize:16,children:d.map(t=>t.props.name).join(", ")}),(0,n.jsxs)("text",{x:10,y:41,fill:"white",fontSize:11,opacity:.2,children:[d[0].count,":",d[0].props.historySize," (",d.map(t=>t.get().toFixed(1)).join(", "),")"]}),"auto"!==a&&(0,n.jsxs)("text",{x:10,y:56,fill:"white",fontSize:11,opacity:.2,children:["(click to ","auto"===c?"fix":"auto-adjust"," Y range)"]})]})})}},60356:(t,e,r)=>{Promise.resolve().then(r.bind(r,17490))},71936:(t,e,r)=>{"use strict";r.d(e,{k:()=>i});let n={name:"unnamed",initialValue:0,historySize:100,derivativeCount:0};class i{get name(){return this.props.name}get count(){return this.state.count}get actualCount(){return Math.min(this.state.count,this.props.historySize)}reset(t){var e;return this.state.index=0,this.state.count=1,this.historyNumber.fill(t),null==(e=this.derivative)||e.reset(0),this}push(t){var e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(r<=0)return console.warn("deltaTime must be positive. Ignoring push."),this;let{historySize:n}=this.props,{index:i}=this.state;return this.historyNumber[i]=t,this.state.index=(i+1)%n,this.state.count++,null==(e=this.derivative)||e.push((t-this.get(1))/r,r),this}createHistory(t){let{historySize:e}=this.props;this.reset(t(-1/(e-1)));for(let r=0;r<e;r++){let n=r/(e-1);this.push(t(n),1/(e-1))}return this}get(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{historySize:e}=this.props;t<0&&(t=0),t>=e&&(t=e-1);let r=this.state.index-1-t;return r<0&&(r+=e),this.historyNumber[r]}linearSample(t){let e=t-Math.floor(t),r=Math.floor(t);return this.get(r)*(1-e)+this.get(r+1)*e}linearSamples(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=Array(t);for(let r=0;r<t;r++){let n=r/(t-1);e[r]=this.linearSample(n*(this.props.historySize-1))}return e}gaussianSmoothSample(t){let{stdDev:e=1,sampleCount:r=10,sampleHistoryWidth:n=.1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n*this.props.historySize*.5,o=0,a=0;for(let n=0;n<r;n++){let l=i*(n/(r-1)*2-1),s=t-l,u=this.linearSample(s),h=Math.exp(-(l*l*.5)/(e*e));o+=u*h,a+=h}return o/a}gaussianSmoothSamples(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1?arguments[1]:void 0,r=Array(t);for(let n=0;n<t;n++){let i=n/(t-1);r[n]=this.gaussianSmoothSample(i*(this.props.historySize-1),e)}return r}*history(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.historySize,{wrapMode:e="end"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{historySize:r}=this.props,{count:n}=this.state;t=Math.min(t,r);for(let r=0;r<t&&(!(r>=n)||"end"!==e);r++)yield this.get(r)}historyInfo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.historySize,{wrapMode:e="end"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=1/0,n=-1/0,i=0,o=0;for(let a of this.history(t,{wrapMode:e}))o++,i+=a,a<r&&(r=a),a>n&&(n=a);return{actualCount:o,min:r,max:n,sum:i,average:i/o}}toSvgPathData(){let{offsetX:t=0,offsetY:e=0,width:r=100,height:n=100,yRange:i="auto"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[o,a]=(()=>{if("auto"===i){let t=this.historyInfo();return[t.min,t.max]}return i})();if(0==a-o)return"";let{historySize:l}=this.props,{count:s}=this.state,u=Math.min(l,s);if(u<2)return"";let h=t=>t.toFixed(2).replace(/\.?0+$/,""),f=[];for(let i=0;i<u;i++){let l=i/(u-1),s=(this.get(u-1-i)-o)/(a-o),c=t+l*r,p=e+(1-s)*n,d=0===i?"M":"L";isNaN(p)||isFinite(p),f.push("".concat(d).concat(h(c),",").concat(h(p)))}return f.join(" ")}constructor(t,e){var r,o;this.state={index:0,count:1},this.derivative=null,this.antiderivative=null;let a=null!=(o=null!=(r=null==t?void 0:t.name)?r:(null==e?void 0:e.props.name)&&"".concat(e.props.name,"'"))?o:"unnamed";if(this.props={...n,...t,name:a},this.props.historySize<1)throw Error("historySize must be at least 1");this.historyNumber=new Float32Array(this.props.historySize),this.reset(this.props.initialValue),this.props.derivativeCount>0&&(this.derivative=new i({historySize:this.props.historySize,derivativeCount:this.props.derivativeCount-1},this))}}},72612:(t,e,r)=>{"use strict";function*n(t){let e=0,r={get i(){return e},get t(){return e/t},get p(){return e/(t-1)},get size(){return t},clone(){return{...this}}};for(e=0;e<t;e++)yield r}function i(t,e){let r=[];for(let i of n(t)){let t=i.clone();r.push(e?e(t):t)}return r}function*o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=0,i=0;2===e.length?(n=e[0],i=e[1]):Array.isArray(e[0])?(n=e[0][0],i=e[0][1]):(n=e[0].x,i=e[0].y);let o=0,a=0,l=0,s={get i(){return o},get x(){return a},get y(){return l},get tx(){return a/n},get ty(){return l/i},get px(){return a/(n-1)},get py(){return l/(i-1)},get sizeX(){return n},get sizeY(){return i},clone(){return{...this}}};for(l=0;l<i;l++)for(a=0;a<n;a++)yield s,o++}function a(){let t;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let i=0,a=0;"number"==typeof r[0]?(i=r[0],a=r[1],t=r[2]):(Array.isArray(r[0])?(i=r[0][0],a=r[0][1]):(i=r[0].x,a=r[0].y),t=r[1]);let l=[];for(let e of o(i,a)){let r=e.clone();l.push(t?t(r):r)}return l}function*l(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=0,i=0,o=0;3===e.length?(n=e[0],i=e[1],o=e[2]):Array.isArray(e[0])?(n=e[0][0],i=e[0][1],o=e[0][2]):(n=e[0].x,i=e[0].y,o=e[0].z);let a=0,l=0,s=0,u=0,h={get i(){return a},get x(){return l},get y(){return s},get z(){return u},get tx(){return l/n},get ty(){return s/i},get tz(){return u/o},get px(){return l/(n-1)},get py(){return s/(i-1)},get pz(){return u/(o-1)},clone(){return{...this}}};for(u=0;u<o;u++)for(s=0;s<i;s++)for(l=0;l<n;l++)yield h,a++}function s(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=[];for(let t of l(...e))n.push(t.clone());return n}r.r(e),r.d(e,{loop:()=>n,loop2:()=>o,loop2Array:()=>a,loop3:()=>l,loop3Array:()=>s,loopArray:()=>i})},79105:(t,e,r)=>{"use strict";r.d(e,{K2:()=>a,KP:()=>i,Tj:()=>l,Ts:()=>o,Zu:()=>n});let n=0x7fffffff,i=123456,o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(Number.isNaN(t))throw Error("NaN is not a valid seed.");let e=t;if(10>Math.abs(e)&&(e*=1e6),e%=n,(e=e<0?e+n:e)>1)return e&n;if(0===e)return i;throw Error("Impossible. ".concat(e))},a=t=>t=Math.imul(t,48271)&n,l=t=>(t-1)/(n-1)},79285:(t,e,r)=>{"use strict";function n(t){return Math.max(0,Math.min(1,t))}function i(t,e,r){return t<e?e:t>r?r:t}function o(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(t-e)<=r}function a(t,e){return t>=0?Math.pow(t,e):-Math.pow(-t,e)}function l(t,e){return t<-e?-e:t>e?e:t}function s(t,e,r){return t+(e-t)*n(r)}function u(t,e,r){return t+(e-t)*r}function h(t,e,r){return n((r-t)/(e-t))}function f(t,e,r){return(r-t)/(e-t)}function c(t,e,r){let i=n((r-t)/(e-t));return i*i*(3-2*i)}function p(t,e,r){return t*Math.pow(e/t,n(r))}function d(t,e,r){return t*Math.pow(e/t,r)}function g(t,e,r){return n(Math.log(r/t)/Math.log(e/t))}function y(t,e,r){return Math.log(r/t)/Math.log(e/t)}function v(t,e,r,n,i){return n+(i-n)*h(e,r,t)}function m(t,e,r,n,i){return n+(t-e)/(r-e)*(i-n)}function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(t/e)*e}function M(t){return Math.pow(2,Math.round(Math.log2(t)))}function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.floor(t/e)*e}function S(t){return Math.pow(2,Math.floor(Math.log2(t)))}function z(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.ceil(t/e)*e}function k(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function A(t){return i(Math.floor(256*t),0,255)}function j(t,e){return t*e/(t+e)}function b(t,e){return t<0?-j(-t,e):j(t,e)}function N(t){return .5+.5*Math.cos(t*Math.PI)}function P(t){return .5+.5*Math.sin(t*Math.PI)}function I(t,e){let r=Math.floor(t/e);return[r,t-e*r]}function E(t,e){return(t%=e)<0?t+e:t}function C(t,e){return(t%=e)<-e/2?t+e:t>e/2?t-e:t}function L(t,e,r){let n=(e-t)%r,i=Math.sign(n);return i*n>r/2?n-i*r:n}function T(t,e,r,n,i){let o=0,a=0;return t<e?e+(o=r-e)*(a=t-e)/(o+a):t>n?n+(o=i-n)*(a=t-n)/(o+a):t}function W(t,e){let r=Math.floor(t/e);return[t-r*e,r]}function F(t,e,r){let n=Math.floor(t/(e*r)),i=t-n*e*r,o=Math.floor(i/e);return[i-o*e,o,n]}function D(t,e){return Math.sqrt(t*t+e*e)}function R(t,e,r){return Math.sqrt(t*t+e*e+r*r)}function q(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(2===e.length){let[t,r]=e;return"z"in t?R(t.x-r.x,t.y-r.y,t.z-r.z):D(t.x-r.x,t.y-r.y)}let[n,i,o]=e;return void 0!==o?R(n.x,n.y,n.z):D(n,i)}function G(t){if("z"in t){let e=R(t.x,t.y,t.z);return t.x/=e,t.y/=e,t.z/=e,t}let e=D(t.x,t.y);return t.x/=e,t.y/=e,t}r.r(e),r.d(e,{almostEqual:()=>o,ceil:()=>z,ceilPowerOfTwo:()=>k,clamp:()=>i,clamp01:()=>n,cos01:()=>N,distance:()=>q,distance2:()=>D,distance3:()=>R,euclideanDivision:()=>I,exponentialLerp:()=>p,exponentialLerpUnclamped:()=>d,floor:()=>w,floorPowerOfTwo:()=>S,index2:()=>W,index3:()=>F,inverseExponentialLerp:()=>g,inverseExponentialLerpUnclamped:()=>y,inverseLerp:()=>h,inverseLerpUnclamped:()=>f,lerp:()=>s,lerpUnclamped:()=>u,limited:()=>j,limitedClamp:()=>T,middleModulo:()=>C,moduloShortestSignedDistance:()=>L,normalize:()=>G,positiveModulo:()=>E,remap:()=>v,remapUnclamped:()=>m,round:()=>x,roundPowerOfTwo:()=>M,saturate:()=>n,signedClamp:()=>l,signedLimited:()=>b,sin01:()=>P,smoothstep:()=>c,spow:()=>a,toff:()=>A})},80446:(t,e,r)=>{"use strict";r.d(e,{n:()=>i});var n=r(79105);let i=function t(){let e=Math.random,r=()=>{};function i(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r)|0;return e}function o(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)return e();if(1===r.length)return e()*r[0];if(2===r.length)return e()*(r[1]-r[0])+r[0];throw Error("Invalid arguments")}function a(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(1===r.length)return Math.floor(e()*r[0]);if(2===r.length)return Math.floor(e()*(r[1]-r[0]))+r[0];throw Error("Invalid arguments")}function l(t){let{weightsAreNormalized:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===t.length)throw Error("Weights array is empty");if(!1===r){let r=t.reduce((t,e)=>t+e,0),n=e()*r,i=0;for(let e=0;e<t.length;e++)if(n<(i+=t[e]))return e;return t.length-1}{let r=e(),n=0;for(let e=0;e<t.length;e++)if(r<(n+=t[e]))return e;return t.length-1}}let s={new:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t().setRandom(...r)},setRandom:function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];let[l,u=0]=o,h="string"==typeof u?i(u):u;if("parkmiller"===l){let t=n.Ts(h);e=()=>(t=n.K2(t),n.Tj(t)),r=e=>{t=n.Ts(e)}}else{if(void 0!==l&&"function"!=typeof l)throw Error("Invalid random function");e=null!=l?l:Math.random,r=()=>{}}return r(h),s},seed:function(t){return r("string"==typeof t?i(t):null!=t?t:0),s},get random(){return e},chance:function(t){return e()<t},number:o,float:o,f:o,sign:function(){return .5>e()?-1:1},int:a,i:a,hexColor:function(){let t=Math.floor(0xffffff*e());return"#".concat(t.toString(16).padStart(6,"0"))},pickIndex:l,pick:function(t,r){if(0===t.length)throw Error("Array is empty");if(r)return t[l(r)];let n=Math.floor(e()*t.length);return t[n]},createPicker:function(t){let e=t.map(t=>t[0]),r=t.map(t=>t[1]),n=e.reduce((t,e)=>t+e,0);for(let t=0;t<e.length;t++)e[t]/=n;return()=>r[l(e,{weightsAreNormalized:!0})]},direction2:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},r=e()*Math.PI*2;return t.x=Math.cos(r),t.y=Math.sin(r),t},direction3:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0},r=e(),n=e(),i=2*Math.PI*r,o=Math.acos(1-2*n);return t.x=Math.sin(o)*Math.cos(i),t.y=Math.sin(o)*Math.sin(i),t.z=Math.cos(o),t},quaternion:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0,w:1},r=e(),n=e(),i=e(),o=Math.sqrt(1-r),a=Math.sqrt(r);return t.x=o*Math.sin(2*Math.PI*n),t.y=o*Math.cos(2*Math.PI*n),t.z=a*Math.sin(2*Math.PI*i),t.w=a*Math.cos(2*Math.PI*i),t},shuffleIndexes:function*(t){if(t<=0)throw Error("N must be greater than 0");let r=0,n=Math.floor((2+2*e())*t);for(;1!==function(t,e){for(;0!==e;)[t,e]=[e,t%e];return t}(t,n);){if(++r>1e3)throw Error("Failed to find a suitable a value after 1000 attempts");n=t+Math.floor(e()*t)}let i=Math.floor(e()*t);for(let e=0;e<t;e++)yield(i+e*n)%t}};return s}()}},t=>{var e=e=>t(t.s=e);t.O(0,[5611,1319,6852,7358],()=>e(60356)),_N_E=t.O()}]);