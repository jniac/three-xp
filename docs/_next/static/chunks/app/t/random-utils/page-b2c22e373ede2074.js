(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3949],{16465:(t,e,r)=>{"use strict";r.d(e,{Y:()=>l});var n=r(49797),o=r(7147);let a={shadowColor:"#808080",luminosity:1,rampPower:1,onBeforeCompile:void 0};class l extends n.V9B{constructor(t){let{rampPower:e,shadowColor:r,luminosity:l,onBeforeCompile:i,...u}={...a,...t},s={uSunPosition:{value:new n.Pq0(.5,.7,.3)},uShadowColor:{value:new n.Q1f(r)},uRampPower:{value:e},uLuminosity:{value:l}};super(u),this.onBeforeCompile=t=>{o.bI.with(t).uniforms(s).varying({vWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vWorldNormal = mat3(modelMatrix) * normal;\n          #ifdef USE_INSTANCING\n            vWorldNormal = mat3(instanceMatrix) * vWorldNormal;\n          #endif\n        ").fragment.after("map_fragment","\n          vec3 normal = normalize(vWorldNormal);\n          vec3 lightDirection = normalize(uSunPosition);\n          float light = dot(normal, lightDirection) * 0.5 + 0.5;\n          light = pow(light, uRampPower);\n          diffuseColor.rgb *= mix(uShadowColor * uLuminosity, vec3(1.0), light);\n        "),null==i||i(t)},this.sunPosition=s.uSunPosition.value}}},34011:(t,e,r)=>{"use strict";r.d(e,{k:()=>s});var n=r(49797),o=r(38921);let a={axis:"x",length:1,radialSegments:12,radius:.01,coneRatio:.1,radiusScale:1,vertexColor:!0,baseCap:"flat",color:"white",align:0},l=new n.Q1f;function i(t){let{axis:e,length:r,radius:i,radialSegments:u,coneRatio:s,radiusScale:f,vertexColor:c,baseCap:h,color:d,align:g}={...a,...t},y=i*f,m=r*s,p=new n.qFE(3*y,m,u),v=new n.Ho_(y,y,1,u,1,!0),w=r-m,x=r-.5*m;p.rotateZ(-Math.PI/2).translate(x,0,0),v.scale(1,w,1).rotateZ(-Math.PI/2).translate(.5*w,0,0);let M="none"===h?new n.LoY:"flat"===h?new n.tcD(y,u).rotateY(-Math.PI/2):new n.Gu$(y,u,3,0,2*Math.PI,0,.5*Math.PI).rotateZ(Math.PI/2).rotateX(Math.PI/2),P=(0,o.pP)([p,v,M]);switch(0!==g&&P.translate(-r*g,0,0),e){case"y":P.rotateZ(Math.PI/2);break;case"z":P.rotateY(-Math.PI/2)}if(c){let t=P.attributes.position.count,e=new n.THS(new Float32Array(3*t),3);P.setAttribute("color",e),l.set(d);for(let r=0;r<t;r++)e.setXYZ(r,l.r,l.g,l.b)}return P}n.LoY;let u={xColor:"#ff3333",yColor:"#33cc66",zColor:"#3366ff"};class s extends n.LoY{static get defaultOptions(){return{...u}}constructor(t){super();let{xColor:e,yColor:r,zColor:n,...a}={...u,...t},l=i({...a,axis:"x",color:e}),s=i({...a,axis:"y",color:r}),f=i({...a,axis:"z",color:n}),c=(0,o.pP)([l,s,f]);this.copy(c),c.dispose()}}},34242:(t,e,r)=>{"use strict";r.d(e,{Client:()=>x});var n=r(70691),o=r(49797),a=r(31763),l=r(16465),i=r(79911),u=r(36508),s=r(34011),f=r(72612),c=r(80446),h=r(67203),d=r(18479),g=r(88575);r(61249);let y=(0,h.createContext)(null),m={className:"",assetsPath:"/"};function p(t){let{children:e,className:r,assetsPath:o}={...m,...t},a=(0,h.useMemo)(()=>new g.XW,[]);a.loader.setPath(o);let{ref:l}=(0,d.useLayoutEffects)({debounce:!0},function*(t,e){yield a.initialize(t),e.triggerRender(),Object.assign(window,{three:a})},[]);return(0,n.jsx)("div",{ref:l,className:r,style:{position:"absolute",inset:0},children:(0,n.jsx)(y.Provider,{value:a,children:a.initialized&&e})})}function v(t){return function(){let[t,e]=(0,h.useState)(!1);return(0,h.useLayoutEffect)(()=>{e(!0)},[]),t}()&&(0,n.jsx)(p,{...t})}function w(){return function(t,e){let r=(0,h.useContext)(y);(0,d.useEffects)(async function*(e,n){if(t){let e=t(r,n);if(e&&"function"==typeof e.next)do{let{value:t,done:r}=await e.next();if(r)break;yield t}while(n.mounted)}},null!=e?e:"always")}(function*(t){let e=new s.k;for(let r of(0,f.loop2Array)(5,5)){let n=(0,i.mj)(new o.eaF(e,new l.Y({vertexColors:!0})),t.scene);n.position.set(r.x-2,r.y-2,0),n.rotation.setFromQuaternion(c.n.quaternion(new o.PTz)),n.scale.setScalar(.5),yield()=>n.removeFromParent()}let r=new a.n;r.initialize(t.renderer.domElement).start(),yield(0,u.xy)("three",e=>{r.update(t.camera,t.aspect,e.deltaTime)})},[]),null}function x(){return(0,n.jsx)("div",{className:"layer thru",children:(0,n.jsx)(v,{children:(0,n.jsx)(w,{})})})}},40921:(t,e,r)=>{Promise.resolve().then(r.bind(r,34242))},66620:(t,e,r)=>{"use strict";r.d(e,{_:()=>a});var n=r(89868),o=r(44138);function a(t,e){var r=(0,o._)(t,e,"update");return(0,n._)(t,r)}},72612:(t,e,r)=>{"use strict";function*n(t){let e=0,r={get i(){return e},get t(){return e/t},get p(){return e/(t-1)},get size(){return t},clone(){return{...this}}};for(e=0;e<t;e++)yield r}function o(t,e){let r=[];for(let o of n(t)){let t=o.clone();r.push(e?e(t):t)}return r}function*a(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=0,o=0;2===e.length?(n=e[0],o=e[1]):Array.isArray(e[0])?(n=e[0][0],o=e[0][1]):(n=e[0].x,o=e[0].y);let a=0,l=0,i=0,u={get i(){return a},get x(){return l},get y(){return i},get tx(){return l/n},get ty(){return i/o},get px(){return l/(n-1)},get py(){return i/(o-1)},get sizeX(){return n},get sizeY(){return o},clone(){return{...this}}};for(i=0;i<o;i++)for(l=0;l<n;l++)yield u,a++}function l(){let t;for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let o=0,l=0;"number"==typeof r[0]?(o=r[0],l=r[1],t=r[2]):(Array.isArray(r[0])?(o=r[0][0],l=r[0][1]):(o=r[0].x,l=r[0].y),t=r[1]);let i=[];for(let e of a(o,l)){let r=e.clone();i.push(t?t(r):r)}return i}function*i(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=0,o=0,a=0;3===e.length?(n=e[0],o=e[1],a=e[2]):Array.isArray(e[0])?(n=e[0][0],o=e[0][1],a=e[0][2]):(n=e[0].x,o=e[0].y,a=e[0].z);let l=0,i=0,u=0,s=0,f={get i(){return l},get x(){return i},get y(){return u},get z(){return s},get tx(){return i/n},get ty(){return u/o},get tz(){return s/a},get px(){return i/(n-1)},get py(){return u/(o-1)},get pz(){return s/(a-1)},clone(){return{...this}}};for(s=0;s<a;s++)for(u=0;u<o;u++)for(i=0;i<n;i++)yield f,l++}function u(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=[];for(let t of i(...e))n.push(t.clone());return n}r.r(e),r.d(e,{loop:()=>n,loop2:()=>a,loop2Array:()=>l,loop3:()=>i,loop3Array:()=>u,loopArray:()=>o})},79105:(t,e,r)=>{"use strict";r.d(e,{K2:()=>l,KP:()=>o,Tj:()=>i,Ts:()=>a,Zu:()=>n});let n=0x7fffffff,o=123456,a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(Number.isNaN(t))throw Error("NaN is not a valid seed.");let e=t;if(10>Math.abs(e)&&(e*=1e6),e%=n,(e=e<0?e+n:e)>1)return e&n;if(0===e)return o;throw Error("Impossible. ".concat(e))},l=t=>t=Math.imul(t,48271)&n,i=t=>(t-1)/(n-1)},80446:(t,e,r)=>{"use strict";r.d(e,{n:()=>o});var n=r(79105);let o=function t(){let e=Math.random,r=()=>{};function o(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r)|0;return e}function a(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)return e();if(1===r.length)return e()*r[0];if(2===r.length)return e()*(r[1]-r[0])+r[0];throw Error("Invalid arguments")}function l(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(1===r.length)return Math.floor(e()*r[0]);if(2===r.length)return Math.floor(e()*(r[1]-r[0]))+r[0];throw Error("Invalid arguments")}function i(t){let{weightsAreNormalized:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===t.length)throw Error("Weights array is empty");if(!1===r){let r=t.reduce((t,e)=>t+e,0),n=e()*r,o=0;for(let e=0;e<t.length;e++)if(n<(o+=t[e]))return e;return t.length-1}{let r=e(),n=0;for(let e=0;e<t.length;e++)if(r<(n+=t[e]))return e;return t.length-1}}let u={new:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t().setRandom(...r)},setRandom:function(){for(var t=arguments.length,a=Array(t),l=0;l<t;l++)a[l]=arguments[l];let[i,s=0]=a,f="string"==typeof s?o(s):s;if("parkmiller"===i){let t=n.Ts(f);e=()=>(t=n.K2(t),n.Tj(t)),r=e=>{t=n.Ts(e)}}else{if(void 0!==i&&"function"!=typeof i)throw Error("Invalid random function");e=null!=i?i:Math.random,r=()=>{}}return r(f),u},seed:function(t){return r("string"==typeof t?o(t):null!=t?t:0),u},get random(){return e},chance:function(t){return e()<t},number:a,float:a,f:a,sign:function(){return .5>e()?-1:1},int:l,i:l,hexColor:function(){let t=Math.floor(0xffffff*e());return"#".concat(t.toString(16).padStart(6,"0"))},pickIndex:i,pick:function(t,r){if(0===t.length)throw Error("Array is empty");if(r)return t[i(r)];let n=Math.floor(e()*t.length);return t[n]},createPicker:function(t){let e=t.map(t=>t[0]),r=t.map(t=>t[1]),n=e.reduce((t,e)=>t+e,0);for(let t=0;t<e.length;t++)e[t]/=n;return()=>r[i(e,{weightsAreNormalized:!0})]},direction2:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},r=e()*Math.PI*2;return t.x=Math.cos(r),t.y=Math.sin(r),t},direction3:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0},r=e(),n=e(),o=2*Math.PI*r,a=Math.acos(1-2*n);return t.x=Math.sin(a)*Math.cos(o),t.y=Math.sin(a)*Math.sin(o),t.z=Math.cos(a),t},quaternion:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0,w:1},r=e(),n=e(),o=e(),a=Math.sqrt(1-r),l=Math.sqrt(r);return t.x=a*Math.sin(2*Math.PI*n),t.y=a*Math.cos(2*Math.PI*n),t.z=l*Math.sin(2*Math.PI*o),t.w=l*Math.cos(2*Math.PI*o),t},shuffleIndexes:function*(t){if(t<=0)throw Error("N must be greater than 0");let r=0,n=Math.floor((2+2*e())*t);for(;1!==function(t,e){for(;0!==e;)[t,e]=[e,t%e];return t}(t,n);){if(++r>1e3)throw Error("Failed to find a suitable a value after 1000 attempts");n=t+Math.floor(e()*t)}let o=Math.floor(e()*t);for(let e=0;e<t;e++)yield(o+e*n)%t}};return u}()},88575:(t,e,r)=>{"use strict";r.d(e,{O0:()=>n.O0,XW:()=>n.XW});var n=r(82143)}},t=>{var e=e=>t(t.s=e);t.O(0,[5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,146,6726,3445,9332,3414,9717,1763,2143,1319,6852,7358],()=>e(40921)),_N_E=t.O()}]);