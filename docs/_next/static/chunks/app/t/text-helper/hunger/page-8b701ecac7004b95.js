(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{4003:(t,e,n)=>{"use strict";n.d(e,{w:()=>r.w});var r=n(3461)},17099:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var r=n(79105);let a=t=>t,i={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function l(){let t=(0,r.K2)((0,r.K2)((0,r.Ts)(r.KP)));function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.KP;return"string"==typeof e&&(e=e.split("").reduce((t,e)=>7*t+e.charCodeAt(0),0)),t=(0,r.K2)((0,r.K2)((0,r.Ts)(e))),c}function n(){return t=(0,r.K2)(t),(0,r.Tj)(t)}function l(t){switch(t.length){default:return[0,1,a];case 1:return[0,t[0],a];case 2:return[t[0],t[1],a];case 3:return[t[0],t[1],t[2]]}}function s(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[a,i,s]=l(e);return a+(i-a)*s(n())}function o(){for(var t,e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];let[l,s,{weightsAreNormalized:o,indexOffset:u,forbiddenItems:c}]=function(t){let[e,n=null,r]=t,a={...i,...r};if(Array.isArray(e))return[e,n,a];if("object"==typeof e)return[Object.values(e),n?Object.values(n):null,a];throw Error("pick: unsupported options type")}(r);if(c.length>0){let e=new Set;for(let t of c){let n=l.indexOf(t);n>=0&&e.add(n)}if(l=l.filter((t,n)=>!e.has(n)),s=null!=(t=null==s?void 0:s.filter((t,n)=>!e.has(n)))?t:null,0===l.length)throw Error("pick: all items are forbidden")}if(null===s){let t=Math.floor(n()*l.length);return u&&(t+=u,(t%=l.length)<0&&(t+=l.length)),l[t]}if(!o){let t=s.reduce((t,e)=>t+e,0);s=s.map(e=>e/t)}let f=n(),h=0;for(let t=0;t<l.length;t++)if(f<(h+=s[t]))return l[t];throw Error("among: unreachable")}function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),a=n(),i=Math.sqrt(-2*Math.log(r)),l=2*Math.PI*a;return[t+e*i*Math.cos(l),t+e*i*Math.sin(l)]}let c={seed:e,seedMax:function(){return r.Zu},reset:function(){return e(r.KP),c},next:function(){return t=(0,r.K2)(t),c},getState:function(){return t},setState:function(e){return t=e&r.Zu,c},random:n,between:s,around:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[i=1,l=a]=e,s=2*n();return(s>1?1:-1)*l(s>1?s-1:s)*i},int:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let[a,i,s]=l(e);return a+Math.floor(s(n())*(i-a))},chance:function(t){return n()<t},shuffle:function(t){let{mutate:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&Array.isArray(t)?t:[...t],a=r.length;for(let t=0;t<a;t++){let e=Math.floor(a*n()),i=r[t];r[t]=r[e],r[e]=i}return r},pick:o,createPicker:function(t){let e=t.map(t=>{let[e]=t;return e}),n=t.map(t=>{let[e,n]=t;return n}),r=n.reduce((t,e)=>t+e,0);for(let[t,e]of n.entries())n[t]=e/r;return()=>o(e,n,{weightsAreNormalized:!0})},vector:function(t,e){let[n=0,r=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max];for(let e of Object.keys(t))t[e]=s(n,r);return t},unitVector2:function(t){let e=2*Math.PI*n();return t.x=Math.cos(e),t.y=Math.sin(e),t},unitVector3:function(t){let e=n(),r=n(),a=2*Math.PI*e,i=Math.acos(1-2*r);return t.x=Math.sin(i)*Math.cos(a),t.y=Math.sin(i)*Math.sin(a),t.z=Math.cos(i),t},normalVector:function(t){let e=Object.keys(t),n=e.length,r=Math.sqrt(n);for(let a=0;a<n;a+=2){let[i,l]=u();t[e[a]]=i/r,a+1<n&&(t[e[a+1]]=l/r)}return t},unitVector:function(t){let e=Object.keys(t),n=e.length,r=0;for(let a=0;a<n;a+=2){let[i,l]=u();t[e[a]]=i,r+=i*i,a+1<n&&(t[e[a+1]]=l,r+=l*l)}r=Math.sqrt(r);for(let a=0;a<n;a++)t[e[a]]/=r;return t},boxMuller:u,quaternion:function(t){let e=n(),r=n(),a=n(),i=Math.sqrt(1-e),l=Math.sqrt(e);return t.x=i*Math.sin(2*Math.PI*r),t.y=i*Math.cos(2*Math.PI*r),t.z=l*Math.sin(2*Math.PI*a),t.w=l*Math.cos(2*Math.PI*a),t},insideCircle:function(t,e){let r=2*n()*Math.PI,a=Math.sqrt(n())*t;return e.x=a*Math.cos(r),e.y=a*Math.sin(r),e}};return c}let s=class{constructor(t){Object.assign(this,l().seed(t))}};Object.assign(s,l())},35375:(t,e,n)=>{"use strict";n.d(e,{$:()=>a});let r="/three-xp/assets/",a={development:!1,assetsPath:r,assets:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(r).concat(t)}}},37441:(t,e,n)=>{Promise.resolve().then(n.bind(n,89651))},79105:(t,e,n)=>{"use strict";n.d(e,{K2:()=>l,KP:()=>a,Tj:()=>s,Ts:()=>i,Zu:()=>r});let r=0x7fffffff,a=123456,i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;if(Number.isNaN(t))throw Error("NaN is not a valid seed.");let e=t;if(10>Math.abs(e)&&(e*=1e6),e%=r,(e=e<0?e+r:e)>1)return e&r;if(0===e)return a;throw Error("Impossible. ".concat(e))},l=t=>t=Math.imul(t,48271)&r,s=t=>(t-1)/(r-1)},88493:(t,e,n)=>{"use strict";n.d(e,{uB:()=>f,yk:()=>o});var r=n(70691),a=n(67203),i=n(18479),l=n(88575);n(61249);let s=(0,a.createContext)(null);function o(t,e){let n=(0,a.useContext)(s);return(0,i.useEffects)(async function*(e,r){if(t){let e=t(n,r);if(e&&"function"==typeof e.next)do{let{value:t,done:n}=await e.next();if(n)break;yield t}while(r.mounted)}},null!=e?e:"always"),n}let u={className:"",assetsPath:"/"};function c(t){let{children:e,className:n,assetsPath:o}={...u,...t},c=(0,a.useMemo)(()=>new l.XW,[]);c.loader.setPath(o);let{ref:f}=(0,i.IZ)({debounce:!0},function*(t,e){yield c.initialize(t.firstElementChild),e.triggerRender(),Object.assign(window,{three:c})},[]);return(0,r.jsx)("div",{ref:f,className:n,style:{position:"absolute",inset:0},children:(0,r.jsxs)(s.Provider,{value:c,children:[(0,r.jsx)("div",{style:{position:"absolute",inset:"0"}}),(0,r.jsx)("div",{style:{position:"absolute",inset:"0"},className:"thru",children:c.initialized&&e})]})})}function f(t){return function(){let[t,e]=(0,a.useState)(!1);return(0,a.useLayoutEffect)(()=>{e(!0)},[]),t}()&&(0,r.jsx)(c,{...t})}},88575:(t,e,n)=>{"use strict";n.d(e,{O0:()=>r.O0,XW:()=>r.XW});var r=n(82143)},89651:(t,e,n)=>{"use strict";n.d(e,{Client:()=>g});var r=n(70691),a=n(88493),i=n(49797),l=n(31763),s=n(4003),o=n(79911),u=n(36508),c=n(3293),f=n(17099),h=n(11577),d=n(35375);async function m(t){let e=new h.zg(new h.pp(t)),n=await e.getEntries(),r=await n[0].getData(new h.$i);return await e.close(),r}async function y(){let t=await fetch(d.$.assets("misc/knut-hamsun-hunger.bin.zip")),e=await t.arrayBuffer(),n=await m(new Uint8Array(e));return s.w.Data.decode(n)}async function*w(t){let e=new l.n({size:100}).initialize(t.renderer.domElement).start();yield(0,u.xy)("three",n=>{e.update(t.camera,t.aspect,n.deltaTime)});let n=await y();document.querySelector("#instance-count").textContent=n.metadata.textCount.toString();let r=new s.w({textCount:n.metadata.textCount,lineCount:n.metadata.lineCount,lineLength:n.metadata.lineLength,textSize:1.2});r.setData(n);let a=new i.Pq0;for(let t=0,e=n.metadata.textCount;t<e;t++)f.c.unitVector3(a),a.multiplyScalar(30+5*f.c.boxMuller()[0]),r.setMatrixAt(t,(0,c.w)({position:a})),r.setColorAt(t,(0,c._)(0xffffff*f.c.random()));(0,o.mj)(r,t.scene),(0,o.mj)(new i.eaF(new i.WBB,new i.V9B({wireframe:!0})),t.scene),yield()=>t.scene.clear()}function M(){return(0,a.yk)(w,[]),null}function g(){return(0,r.jsx)("div",{className:"layer thru",children:(0,r.jsxs)(a.uB,{children:[(0,r.jsxs)("div",{className:"layer thru p-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Knut Hamsum - Hunger Demo"}),(0,r.jsxs)("p",{children:["63,862 words \xa0 (",(0,r.jsx)("span",{id:"instance-count",children:"X"}),"\xa0instances)"]})]}),(0,r.jsx)(M,{})]})})}}},t=>{var e=e=>t(t.s=e);t.O(0,[5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,5430,146,6726,3445,9332,3414,9717,1763,2143,1319,6852,7358],()=>e(37441)),_N_E=t.O()}]);