(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3937],{1e3:(e,t,i)=>{"use strict";function n(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}i.d(t,{_:()=>n})},14043:()=>{},15940:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(29443);function s(e,t){(0,n._)(e,t),t.add(e)}},23127:(e,t,i)=>{"use strict";i.d(t,{_:()=>l});var n=i(89868),s=i(47878),r=i(1e3);function l(e,t,i){return(0,s._)(e,t),(0,r._)(i,"update"),(0,n._)(e,i)}},24223:(e,t,i)=>{"use strict";function n(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[n,s]=1===t.length?[window,t[0]]:t,r=()=>{s()};return n.addEventListener("mousemove",r,{passive:!0}),n.addEventListener("mousedown",r,{passive:!0}),n.addEventListener("mouseup",r,{passive:!0}),n.addEventListener("touchstart",r,{passive:!0}),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("wheel",r,{passive:!0}),n.addEventListener("keydown",r,{passive:!0}),n.addEventListener("keyup",r,{passive:!0}),window.addEventListener("resize",r,{passive:!0}),{destroy:()=>{n.removeEventListener("mousemove",r),n.removeEventListener("mousedown",r),n.removeEventListener("mouseup",r),n.removeEventListener("touchstart",r),n.removeEventListener("touchmove",r),n.removeEventListener("wheel",r),n.removeEventListener("keydown",r),n.removeEventListener("keyup",r),window.removeEventListener("resize",r)}}}i.d(t,{O:()=>n})},28535:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var n=i(75687),s=i(44138);function r(e,t){var i=(0,s._)(e,t,"get");return(0,n._)(e,i)}},29443:(e,t,i)=>{"use strict";function n(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}i.d(t,{_:()=>n})},44138:(e,t,i)=>{"use strict";function n(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}i.d(t,{_:()=>n})},47878:(e,t,i)=>{"use strict";function n(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}i.d(t,{_:()=>n})},48647:(e,t,i)=>{"use strict";i.d(t,{I0:()=>s,Tj:()=>n});let n={yellow:"#ffcc00",blue:"#00ccff",magenta:"#cc00ff",paleGreen:"#00ffcc",vibrantBlue:"#1c55ff",pink:"#ffccff",white:"#ffffff"},s=Object.values(n)},53494:(e,t,i)=>{Promise.resolve().then(i.bind(i,86946))},57368:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(44138);function s(e,t,i){var s=(0,n._)(e,t,"set");if(s.set)s.set.call(e,i);else{if(!s.writable)throw TypeError("attempted to set read only private field");s.value=i}return i}},66066:(e,t,i)=>{"use strict";function n(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}i.d(t,{_:()=>n})},71323:(e,t,i)=>{"use strict";i.d(t,{O:()=>o});var n=i(70691),s=i(18479),r=i(24223),l=i(19069),a=i(36508),c=i(48647);function o(e){let{root:t,size:i=[800,600],title:o,description:d,directionArrow:p,computeLayout:u=e=>e.computeLayout(),colorRule:f=e=>c.I0[e.depth()%c.I0.length],onStart:h,tickDisabled:x=!1,onTick:w}=e,{ref:z}=(0,s.useEffects)(function*(e){let[n,s]=i,c=function(e){let{width:t=800,height:i=600,scale:n=.75}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.querySelector("canvas"),r=window.devicePixelRatio;s.width=t*r,s.height=i*r,s.style.width="".concat(t*n,"px"),s.style.height="".concat(i*n,"px"),s.style.border="1px solid #444";let a=s.getContext("2d");a.scale(r,r);let c=function(e){var t;let{x:i=0,y:n=0,width:s=1,height:r=1}=e,{arrow:c,stroke:d,lineWidth:p,fill:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.fillStyle=null!=(t=null!=d?d:u)?t:"",a.beginPath(),a.arc(i,n,3,0,2*Math.PI),a.fill(),(s>0||r>0)&&(a.strokeStyle=null!=d?d:"",a.lineWidth=null!=p?p:2,a.fillStyle=null!=u?u:"",a.beginPath(),a.rect(i,n,s,r),u&&a.fill(),d&&a.stroke(),c&&o(c===l.OP.Horizontal,{x:i,y:n,width:s,height:r})),a.globalCompositeOperation="destination-over"},o=(e,t)=>{let{x:i=0,y:n=0,width:s=1,height:r=1}=t;if(e){let e=i+s-5,t=n+r/2;a.beginPath(),a.moveTo(e-8,t-8),a.lineTo(e,t),a.lineTo(e-8,t+8),a.stroke()}else{let e=i+s/2,t=n+r-5;a.beginPath(),a.moveTo(e-8,t-8),a.lineTo(e,t),a.lineTo(e+8,t-8),a.stroke()}};return{canvas:s,ctx:a,ctxSpace:(e,t)=>{var i,n;c(e.rect,t),a.font="16px sans-serif",a.textBaseline="top",a.fillStyle=null!=(n=null!=(i=null==t?void 0:t.stroke)?i:null==t?void 0:t.fill)?n:"red",null!==e.aspect&&a.fillText("A",e.rect.x+4,e.rect.y+4)},ctxClear:()=>{a.clearRect(0,0,t,i)},ctxRect:c}}(e,{width:n,height:s}),o=Array.isArray(t)?t:[t],d=()=>{for(let t of(c.ctxClear(),o))for(let i of(u(t),t.allDescendants({includeSelf:!0}))){var e;if(!1===i.enabled)continue;let t=null!=(e=i.userData.color)?e:f(i),n=p?i.direction:void 0;c.ctxSpace(i,{stroke:t,arrow:n})}};d(),null==h||h(o),w&&!x&&(yield(0,r.O)(a.Rv.get("three").set({inactivityWaitDurationMinimum:20}).requestActivation),yield(0,a.xy)("three",e=>{w(o,e),d()}))},"always");return(0,n.jsxs)("div",{ref:z,className:"flex flex-col items-center mt-32",children:[(0,n.jsx)("div",{children:(0,n.jsx)("canvas",{})}),(0,n.jsx)("div",{className:"mt-4 flex flex-col items-center gap-2",children:o}),d&&(0,n.jsx)("div",{className:"text-sm opacity-70 text-center",children:d})]})}},71978:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});var n=i(67203);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,i]=(0,n.useState)(e);return(0,n.useEffect)(()=>{i(window.location.hash)},[]),[t,function(e){console.log("setHash",{newHash:e}),window.location.hash=null!=e?e:"",window.history.replaceState(null,"",null!=e?e:""),i(null!=e?e:"")}]}},75687:(e,t,i)=>{"use strict";function n(e,t){return t.get?t.get.call(e):t.value}i.d(t,{_:()=>n})},76999:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(29443);function s(e,t,i){(0,n._)(e,t),t.set(e,i)}},77674:(e,t,i)=>{"use strict";i.d(t,{_:()=>l});var n=i(75687),s=i(47878),r=i(1e3);function l(e,t,i){return(0,s._)(e,t),(0,r._)(i,"get"),(0,n._)(e,i)}},86946:(e,t,i)=>{"use strict";i.d(t,{PageClient:()=>S});var n=i(70691),s=i(19069),r=i(48647),l=i(71323),a=i(71978),c=i(98054),o=i(87524),d=i(56905);class p{setSize(e,t){if(this.sizeComputed)throw Error("Implementation Error: Size already computed for node s".concat(this.id));this.sx=e,this.sy=t,this.sizeComputed=!0}depth(){let e=0,t=this.parent;for(;null!==t;)e++,t=t.parent;return e}isLastChild(){if(null===this.parent)return!0;let e=this.parent.children;return e[e.length-1]===this}*allDescendants(){for(let e of(yield this,this.children))yield*e.allDescendants()}*allAncestors(){let e=this.parent;for(;null!==e;)yield e,e=e.parent}toTreeString(){return function(e){let t=[],i=0;for(let n of e.allDescendants()){let e=n.allAncestors().map(e=>null===e.parent||e.isLastChild()?"   ":"│  ").toArray().reverse().join(""),s=0===n.depth()?"->":!1===n.isLastChild()?"├─":"└─",r="".concat(e).concat(s," ").concat(u(n));t.push(r),i++}return t.unshift("Tree: (".concat(i,")")),t.join("\n")}(this)}toString(){return u(this)}constructor(e,t=null){var i;this.uid=p.nextUid++,this.id=p.nextId++,this.px=0,this.py=0,this.sx=0,this.sy=0,this.pr=0,this.pl=0,this.pt=0,this.pb=0,this.gap=0,this.inner_sx=0,this.inner_sy=0,this.tgt_free=0,this.parent=null,this.sizeComputed=!1,this.childrenSizesComputed=!1,this.space=e,this.parent=t,this.is_h=e.direction===d.OP.Horizontal;let n=null==(i=null==t?void 0:t.is_h)||i;this.fractionalInTangentSpace=n?f(e.sizeX.type,e.sizeXFitChildren):f(e.sizeY.type,e.sizeYFitChildren),this.fractionalInNormalSpace=n?f(e.sizeY.type,e.sizeYFitChildren):f(e.sizeX.type,e.sizeXFitChildren),this.children=e.children.filter(e=>e.enabled).map(e=>new p(e,this))}}function u(e){let t=e=>e.toFixed(2).replace(/\.?0+$/,""),i=e.children.length>0?"(".concat(e.children.length,") "):"",n="r(".concat(t(e.px),", ").concat(t(e.py),", ").concat(t(e.sx),", ").concat(t(e.sy),")"),s="tgt_free(".concat(t(e.tgt_free),")"),r="inner(".concat(t(e.inner_sx),", ").concat(t(e.inner_sy),")");return"s".concat(e.id," ").concat(i).concat(n," ").concat(s," ").concat(r)}function f(e,t){return e===o.LN.Fraction||e===o.LN.Auto&&!1===t}function h(e){e.pr=e.space.padding[1].compute(e.sx,e.sy),e.pl=e.space.padding[3].compute(e.sx,e.sy),e.pt=e.space.padding[0].compute(e.sy,e.sx),e.pb=e.space.padding[2].compute(e.sy,e.sx),e.inner_sx=e.sx-e.pl-e.pr,e.inner_sy=e.sy-e.pt-e.pb,e.gap=e.is_h?e.space.gap.compute(e.sx,e.sy):e.space.gap.compute(e.sy,e.sx)}function*x(e){for(let t of e.children)!1===t.fractionalInTangentSpace&&(yield t)}function*w(e){for(let t of e.children)!0===t.fractionalInTangentSpace&&(yield t)}function z(e){let t=[e];for(;t.length>0;){let e=t.shift();if(e.childrenSizesComputed)continue;h(e);let i=e.inner_sx,n=e.inner_sy,s=e.is_h?i:n;if(e.is_h){for(let t of x(e)){if(!1===t.sizeComputed){let e=t.space.sizeX.compute(i,n),s=t.space.sizeY.compute(n,i);t.setSize(e,s)}s-=t.sx}s-=e.gap*Math.max(0,e.children.length-1);let t=0;for(let i of w(e))t+=i.space.sizeX.value;let r=Math.max(0,s);for(let l of w(e)){let e=r*(l.space.sizeX.value/t),a=null!==l.space.aspect?e/l.space.aspect:l.space.sizeY.compute(n,i);l.setSize(e,a),s=0}}else{for(let t of x(e)){if(!1===t.sizeComputed){let e=t.space.sizeX.compute(i,n),s=t.space.sizeY.compute(n,i);t.setSize(e,s)}s-=t.sy}s-=e.gap*Math.max(0,e.children.length-1);let t=0;for(let i of w(e))t+=i.space.sizeY.value;let r=Math.max(0,s);for(let l of w(e)){let e=r*(l.space.sizeY.value/t),a=null!==l.space.aspect?e*l.space.aspect:l.space.sizeX.compute(i,n);l.setSize(a,e),s=0}}e.tgt_free=s,e.childrenSizesComputed=!0,t.push(...e.children)}}function g(e){p.nextId=0;let t=new p(e);t.px=e.offsetX.value,t.py=e.offsetY.value,t.sx=t.space.sizeX.compute(0,0),t.sy=t.space.sizeY.compute(0,0),h(t);for(let e of function* e(t){for(let i of t.children)yield*e(i);(t.is_h?t.space.sizeXFitChildren:t.space.sizeYFitChildren)&&(yield t)}(t))!function(e){for(let t of e.children){if(!1===t.sizeComputed){let e=t.space.sizeX.compute(0,0),i=t.space.sizeY.compute(0,0);t.setSize(e,i)}z(t)}h(e);let{is_h:t}=e;if(t){let t=0,i=0;for(let n of e.children)t+=n.sx,n.sy>i&&(i=n.sy);let n=(t+=e.gap*Math.max(0,e.children.length-1))+e.pl+e.pr,s=i+e.pt+e.pb;e.setSize(n,s),h(e)}else{let t=0,i=0;for(let n of e.children)i+=n.sy,n.sx>t&&(t=n.sx);i+=e.gap*Math.max(0,e.children.length-1);let n=t+e.pl+e.pr,s=i+e.pt+e.pb;e.setSize(n,s),h(e)}e.childrenSizesComputed=!0}(e);z(t),function(e){let t=[e];for(;t.length>0;){let e=t.shift(),s=e.px+e.pl,r=e.py+e.pt;for(let l of e.children){var i,n;let a=null!=(i=l.space.alignSelfX)?i:e.space.alignChildrenX,c=null!=(n=l.space.alignSelfY)?n:e.space.alignChildrenX;e.is_h?(l.px=s+e.tgt_free*a,l.py=r+(e.inner_sy-l.sy)*c,s+=l.sx+e.gap):(l.px=s+(e.inner_sx-l.sx)*a,l.py=r+e.tgt_free*c,r+=l.sy+e.gap),t.push(l)}}}(t);let i=[t];for(;i.length>0;){let e=i.shift();e.space.rect.set(e.px,e.py,e.sx,e.sy),i.push(...e.children)}return t}function m(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:c.Y,directionArrow:!0,root:[new s.$x({size:[600,200],offset:[100,100],spacing:10}).add(new s.$x({size:100}),new s.$x({size:50}),new s.$x({size:50})),new s.$x({size:[600,200],offset:[100,320],spacing:10}).add(new s.$x({aspect:2}),new s.$x({size:"2fr"}),new s.$x({aspect:.5}))],computeLayout:e=>g(e),title:(0,n.jsx)("h2",{children:"Basic"})})}function y(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:c.Y,directionArrow:!0,root:new s.$x({size:[700,500],offset:[50,50],spacing:10,direction:"vertical"}).add(new s.$x({spacing:10}).add(new s.$x({size:[100,50]}),new s.$x({aspect:1}),new s.$x({size:"3fr"}),new s.$x({size:50}),new s.$x({sizeX:50})),new s.$x({spacing:10}).add(new s.$x({aspect:1,alignSelf:1}),new s.$x({aspect:1}),new s.$x({aspect:.5,direction:"vertical",spacing:10}).populate(6),new s.$x({aspect:.5,direction:"vertical",spacing:10}).populate(6),new s.$x({aspect:1}),new s.$x({aspect:1,alignSelfY:0}))),computeLayout:e=>g(e),title:(0,n.jsx)("h2",{children:"(D1) Aspect"})})}function $(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:c.Y,directionArrow:!0,root:new s.$x({size:[700,500],offset:[50,50],spacing:10,direction:"vertical"}).add(new s.$x({spacing:10}).add(new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:[100,50]}),new s.$x({size:[50,100]}),new s.$x({size:[100,50]})),new s.$x({aspect:1}),new s.$x({sizeY:"20%"}),new s.$x({spacing:10,size:"fit-children",direction:"vertical"}).add(new s.$x({size:[100,50]}),new s.$x({size:[50,50]}),new s.$x({size:[100,50]}))),new s.$x({spacing:10,direction:"vertical"}).add(new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:100}),new s.$x({size:100}),new s.$x({size:100})))),computeLayout:e=>g(e),title:(0,n.jsx)("h2",{children:'(D2) "fit-children"'}),description:'flat spaces with size "fit-children"'})}function _(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:c.Y,directionArrow:!0,root:new s.$x({size:[700,500],offset:[50,50],spacing:10}).add(new s.$x({spacing:10,enabled:!1}).add(new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:50}),new s.$x({size:50}),new s.$x({size:50}))),new s.$x({spacing:10}).add(new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:50}),new s.$x({size:[50,100]}),new s.$x({size:50})),new s.$x({userData:{color:r.Tj.yellow,comment:"must be shrunk: no available space for expansion"}}),new s.$x({size:50}),new s.$x({spacing:10,size:"fit-children",direction:"vertical"}).add(new s.$x({size:50}),new s.$x({size:[100,50]}),new s.$x({size:50}))))),computeLayout:e=>g(e),title:(0,n.jsx)("h2",{children:'(D2) "fit-children"'}),description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Seems good:"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"disabled spaces are ignored"}),(0,n.jsx)("li",{children:'nested "fit-children" spaces work'})]})]})})}function S(){let[e,t]=(0,a.Q)(),i=parseInt(e.replace("#demo-","")||"-1"),s=[m,y,$,_].filter((e,t)=>-1===i||i===t);return(0,n.jsxs)("div",{className:"FlexLayoutDemo p-16 h-screen overflow-auto",children:[(0,n.jsx)("h1",{className:"text-3xl text-center font-bold",children:"computeLayout3()"}),s.map((e,s)=>(0,n.jsx)("div",{className:"my-8",onClick:()=>t(-1===i?"#demo-".concat(s):null),children:(0,n.jsx)(e,{})},s))]})}p.nextId=0,p.nextUid=0,i(14043)},89868:(e,t,i)=>{"use strict";function n(e,t){if(t.set){if(!t.get)throw TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(v){t.set.call(e,v)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw TypeError("attempted to set read only private field");return t}i.d(t,{_:()=>n})},98054:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(19069),s=i(48647);function r(e){var t;if(e.isRoot())return s.Tj.yellow;let i=(null==(t=e.parent)?void 0:t.direction)!==n.OP.Horizontal?e.sizeY.type:e.sizeX.type;return(e.direction===n.OP.Horizontal?e.sizeXFitChildren:e.sizeYFitChildren)?s.Tj.paleGreen:i===n.LN.Fraction||i===n.LN.Auto?s.Tj.blue:s.Tj.magenta}}},e=>{var t=t=>e(e.s=t);e.O(0,[1818,146,487,1450,1319,6852,7358],()=>t(53494)),_N_E=e.O()}]);