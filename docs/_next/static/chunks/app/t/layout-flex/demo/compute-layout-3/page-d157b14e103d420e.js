(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3937],{1e3:(e,t,i)=>{"use strict";function n(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}i.d(t,{_:()=>n})},14043:()=>{},15940:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(29443);function s(e,t){(0,n._)(e,t),t.add(e)}},23127:(e,t,i)=>{"use strict";i.d(t,{_:()=>l});var n=i(89868),s=i(47878),r=i(1e3);function l(e,t,i){return(0,s._)(e,t),(0,r._)(i,"update"),(0,n._)(e,i)}},24223:(e,t,i)=>{"use strict";function n(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[n,s]=1===t.length?[window,t[0]]:t,r=()=>{s()};return n.addEventListener("mousemove",r,{passive:!0}),n.addEventListener("mousedown",r,{passive:!0}),n.addEventListener("mouseup",r,{passive:!0}),n.addEventListener("touchstart",r,{passive:!0}),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("wheel",r,{passive:!0}),n.addEventListener("keydown",r,{passive:!0}),n.addEventListener("keyup",r,{passive:!0}),window.addEventListener("resize",r,{passive:!0}),{destroy:()=>{n.removeEventListener("mousemove",r),n.removeEventListener("mousedown",r),n.removeEventListener("mouseup",r),n.removeEventListener("touchstart",r),n.removeEventListener("touchmove",r),n.removeEventListener("wheel",r),n.removeEventListener("keydown",r),n.removeEventListener("keyup",r),window.removeEventListener("resize",r)}}}i.d(t,{O:()=>n})},28535:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var n=i(75687),s=i(44138);function r(e,t){var i=(0,s._)(e,t,"get");return(0,n._)(e,i)}},29443:(e,t,i)=>{"use strict";function n(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}i.d(t,{_:()=>n})},44138:(e,t,i)=>{"use strict";function n(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}i.d(t,{_:()=>n})},47878:(e,t,i)=>{"use strict";function n(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}i.d(t,{_:()=>n})},53494:(e,t,i)=>{Promise.resolve().then(i.bind(i,54986))},54986:(e,t,i)=>{"use strict";i.d(t,{PageClient:()=>g});var n=i(70691),s=i(19069),r=i(48647),l=i(71323),o=i(71978),a=i(98054),c=i(11739),d=i(80446);function u(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:a.Y,drawDirection:!0,root:[new s.$x({size:[600,200],offset:[100,100],spacing:10}).add(new s.$x({size:100}),new s.$x({size:50}),new s.$x({size:50})),new s.$x({size:[600,200],offset:[100,320],spacing:10}).add(new s.$x({aspect:2}),new s.$x({size:"2fr"}),new s.$x({aspect:.5}))],computeLayout:e=>(0,c.t)(e),title:(0,n.jsx)("h2",{children:"Basic"})})}function f(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:a.Y,drawDirection:!0,root:new s.$x({size:[700,500],offset:[50,50],spacing:10,direction:"vertical"}).add(new s.$x({spacing:10}).add(new s.$x({size:[100,50]}),new s.$x({aspect:1}),new s.$x({size:"3fr"}),new s.$x({size:50}),new s.$x({sizeX:50})),new s.$x({spacing:10}).add(new s.$x({aspect:1,alignSelf:1}),new s.$x({aspect:1}),new s.$x({aspect:.5,direction:"vertical",spacing:10}).populate(6),new s.$x({aspect:.5,direction:"vertical",spacing:10}).populate(6),new s.$x({aspect:1}),new s.$x({aspect:1,alignSelfY:0}))),computeLayout:e=>(0,c.t)(e),title:(0,n.jsx)("h2",{children:"(D1) Aspect"})})}function p(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:a.Y,drawDirection:!0,root:new s.$x({size:[700,500],offset:[50,50],spacing:10,direction:"vertical"}).add(new s.$x({spacing:10}).add(new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:[100,50]}),new s.$x({size:[50,100]}),new s.$x({size:[100,50]})),new s.$x({aspect:1}),new s.$x({sizeY:"20%"}),new s.$x({spacing:10,size:"fit-children",direction:"vertical"}).add(new s.$x({size:[100,50]}),new s.$x({size:[50,50]}),new s.$x({size:[100,50]}))),new s.$x({spacing:10,direction:"vertical"}).add(new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:100}),new s.$x({size:100}),new s.$x({size:100})))),computeLayout:e=>(0,c.t)(e),title:(0,n.jsx)("h2",{children:'(D2) "fit-children"'}),description:'flat spaces with size "fit-children"'})}function x(){return(0,n.jsx)(l.O,{size:[800,600],colorRule:a.Y,drawDirection:!0,root:new s.$x({size:[700,500],offset:[50,50],spacing:10}).add(new s.$x({spacing:10,enabled:!1}).add(new s.$x({spacing:10,size:"fit-children"}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:50}),new s.$x({size:50}),new s.$x({size:50}))),new s.$x({spacing:10}).add(new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({spacing:10,size:"fit-children",alignSelf:0}),new s.$x({spacing:10,size:"fit-children"}).add(new s.$x({size:50}),new s.$x({size:[50,100]}),new s.$x({size:50})),new s.$x({userData:{color:r.Tj.yellow,comment:"must be shrunk: no available space for expansion"}}),new s.$x({size:50}),new s.$x({spacing:10,size:"fit-children",direction:"vertical"}).add(new s.$x({size:50}),new s.$x({size:[100,50]}),new s.$x({size:50}))))),computeLayout:e=>(0,c.t)(e),title:(0,n.jsx)("h2",{children:'(D2) "fit-children"'}),description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Seems good:"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"disabled spaces are ignored"}),(0,n.jsx)("li",{children:'nested "fit-children" spaces work'})]})]})})}function w(e){let[t,i]=e,n=new s.$x({offset:[50,50],size:[t-100,i-100],spacing:4});(0,c.t)(n);let r=1,l=[n];for(;r<1e5&&l.length>0;){let e=l.shift();if(e.rect.area<500)continue;let t=e.rect.aspect>=1;e.set({direction:t}),r+=3,e.populate(3,{spacing:4});for(let t=0;t<3;t++){let i=d.n.pick([1,1,3,5,10]);e.children[t].sizeX.value=i,e.children[t].sizeY.value=i}(0,c.t)(e,e.rect),10>e.depth()&&l.push(...e.children)}return console.log("".concat(n.descendantsCount()," nodes (descendantsCount)")),console.log("".concat(n.leavesCount()," leaves (leavesCount)")),console.time("final layout"),(0,c.t)(n),console.timeEnd("final layout"),n}function h(){return(0,n.jsx)(l.O,{size:[1200,1200],drawMode:l.v.LeavesFill,root:w,computeLayout:e=>(0,c.t)(e),title:(0,n.jsx)("h2",{children:"(D4) Stress"})})}function g(){let[e,t]=(0,o.Q)("demo-4"),i=parseInt(e.replace("#demo-","")||"-1"),s=[u,f,p,x,h].filter((e,t)=>-1===i||i===t);return(0,n.jsxs)("div",{className:"FlexLayoutDemo p-16 h-screen overflow-auto",children:[(0,n.jsx)("h1",{className:"text-3xl text-center font-bold",children:"computeLayout3()"}),s.map((e,s)=>(0,n.jsx)("div",{className:"my-8",onClick:()=>t(-1===i?"#demo-".concat(s):null),children:(0,n.jsx)(e,{})},s))]})}i(14043)},57368:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(44138);function s(e,t,i){var s=(0,n._)(e,t,"set");if(s.set)s.set.call(e,i);else{if(!s.writable)throw TypeError("attempted to set read only private field");s.value=i}return i}},66066:(e,t,i)=>{"use strict";function n(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}i.d(t,{_:()=>n})},71323:(e,t,i)=>{"use strict";i.d(t,{O:()=>d,v:()=>c});var n=i(70691),s=i(18479),r=i(24223),l=i(19069),o=i(36508),a=i(48647),c=function(e){return e[e.AllOutline=0]="AllOutline",e[e.LeavesFill=1]="LeavesFill",e}({});function d(e){let{root:t,size:i=[800,600],title:c,description:d,drawMode:u=0,drawDirection:f,drawOrigin:p,computeLayout:x=e=>e.computeLayout(),colorRule:w=e=>a.I0[e.depth()%a.I0.length],onStart:h,tickDisabled:g=!1,onTick:m}=e,{ref:z}=(0,s.useEffects)(function*(e){let n,[s,a]=i,c=function(e){let{width:t=800,height:i=600,scale:n=.75}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.querySelector("canvas"),r=window.devicePixelRatio;s.width=t*r,s.height=i*r,s.style.width="".concat(t*n,"px"),s.style.height="".concat(i*n,"px"),s.style.border="1px solid #444";let o=s.getContext("2d");o.scale(r,r);let a=function(e){var t,i;let{x:n=0,y:s=0,width:r=1,height:a=1}=e,{arrow:d,origin:u,stroke:f,lineWidth:p,fill:x}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"center"===u?(o.fillStyle=null!=(t=null!=f?f:x)?t:"",o.beginPath(),o.arc(n+r/2,s+a/2,3,0,2*Math.PI),o.fill()):"top-left"===u&&(o.fillStyle=null!=(i=null!=f?f:x)?i:"",o.beginPath(),o.arc(n,s,3,0,2*Math.PI),o.fill()),(r>0||a>0)&&(o.strokeStyle=null!=f?f:"",o.lineWidth=null!=p?p:2,o.fillStyle=null!=x?x:"",o.beginPath(),o.rect(n,s,r,a),x&&o.fill(),f&&o.stroke(),d&&c(d===l.OP.Horizontal,{x:n,y:s,width:r,height:a})),o.globalCompositeOperation="destination-over"},c=(e,t)=>{let{x:i=0,y:n=0,width:s=1,height:r=1}=t;if(e){let e=i+s-5,t=n+r/2;o.beginPath(),o.moveTo(e-8,t-8),o.lineTo(e,t),o.lineTo(e-8,t+8),o.stroke()}else{let e=i+s/2,t=n+r-5;o.beginPath(),o.moveTo(e-8,t-8),o.lineTo(e,t),o.lineTo(e+8,t-8),o.stroke()}};return{canvas:s,ctx:o,ctxSpace:(e,t)=>{var i,n;a(e.rect,t),o.font="16px sans-serif",o.textBaseline="top",o.fillStyle=null!=(n=null!=(i=null==t?void 0:t.stroke)?i:null==t?void 0:t.fill)?n:"red",null!==e.aspect&&o.fillText("A",e.rect.x+4,e.rect.y+4)},ctxClear:()=>{o.clearRect(0,0,t,i)},ctxRect:a}}(e,{width:s,height:a}),d=("function"==typeof(n=t)&&(n=n(i)),Array.isArray(n)?n:[n]),z=()=>{for(let i of(c.ctxClear(),d)){var e,t;if(x(i),1===u)for(let t of i.allLeaves()){if(!1===t.enabled)continue;let i=null!=(e=t.userData.color)?e:w(t);c.ctxSpace(t,{fill:i})}for(let e of i.allDescendants({includeSelf:!0})){if(!1===e.enabled)continue;let i=null!=(t=e.userData.color)?t:w(e),n=f?e.direction:void 0;c.ctxSpace(e,{stroke:i,arrow:n,origin:p?"top-left":void 0})}}};z(),null==h||h(d),m&&!g&&(yield(0,r.O)(o.Rv.get("three").set({inactivityWaitDurationMinimum:20}).requestActivation),yield(0,o.xy)("three",e=>{m(d,e),z()}))},"always");return(0,n.jsxs)("div",{ref:z,className:"flex flex-col items-center mt-32",children:[(0,n.jsx)("div",{children:(0,n.jsx)("canvas",{})}),(0,n.jsx)("div",{className:"mt-4 flex flex-col items-center gap-2",children:c}),d&&(0,n.jsx)("div",{className:"text-sm opacity-70 text-center",children:d})]})}},71978:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});var n=i(67203);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,i]=(0,n.useState)(e);return(0,n.useEffect)(()=>{i(window.location.hash)},[]),[t,function(e){console.log("setHash",{newHash:e}),window.location.hash=null!=e?e:"",window.history.replaceState(null,"",null!=e?e:""),i(null!=e?e:"")}]}},75687:(e,t,i)=>{"use strict";function n(e,t){return t.get?t.get.call(e):t.value}i.d(t,{_:()=>n})},76999:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(29443);function s(e,t,i){(0,n._)(e,t),t.set(e,i)}},77674:(e,t,i)=>{"use strict";i.d(t,{_:()=>l});var n=i(75687),s=i(47878),r=i(1e3);function l(e,t,i){return(0,s._)(e,t),(0,r._)(i,"get"),(0,n._)(e,i)}},79105:(e,t,i)=>{"use strict";i.d(t,{K2:()=>l,KP:()=>s,Tj:()=>o,Ts:()=>r,Zu:()=>n});let n=0x7fffffff,s=123456,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=n,(t=t<0?t+n:t)>1)return t&n;if(0===t)return s;throw Error("Impossible. ".concat(t))},l=e=>e=Math.imul(e,48271)&n,o=e=>(e-1)/(n-1)},89868:(e,t,i)=>{"use strict";function n(e,t){if(t.set){if(!t.get)throw TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(v){t.set.call(e,v)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw TypeError("attempted to set read only private field");return t}i.d(t,{_:()=>n})},98054:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(19069),s=i(48647);function r(e){var t;if(e.isRoot())return s.Tj.yellow;let i=(null==(t=e.parent)?void 0:t.direction)!==n.OP.Horizontal?e.sizeY.type:e.sizeX.type;return(e.direction===n.OP.Horizontal?e.sizeXFitChildren:e.sizeYFitChildren)?s.Tj.paleGreen:i===n.LN.Fraction||i===n.LN.Auto?s.Tj.blue:s.Tj.magenta}}},e=>{var t=t=>e(e.s=t);e.O(0,[1818,146,487,1450,8442,1319,6852,7358],()=>t(53494)),_N_E=e.O()}]);