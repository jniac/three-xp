(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{5109:(e,t,i)=>{Promise.resolve().then(i.bind(i,52753))},15931:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});var n=i(49797),o=i(93432);let r={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0};class s extends n.DXC{set(e){let{color:t,opacity:i,size:s,step:l,frame:a,plane:d}={...r,...e},c=(0,o.wX)(s),h=(0,o.wX)(null!=l?l:c),u=[],p=(e,t)=>u.push(new n.Pq0(e,t,0));a&&(p(-c.x/2,c.y/2),p(c.x/2,c.y/2),p(c.x/2,c.y/2),p(c.x/2,-c.y/2),p(c.x/2,-c.y/2),p(-c.x/2,-c.y/2),p(-c.x/2,-c.y/2),p(-c.x/2,c.y/2));let v=Math.ceil(-c.x/2/h.x)*h.x;v===-c.x/2&&(v+=h.x);do p(v,-c.y/2),p(v,c.y/2),v+=h.x;while(v<c.x/2);let x=Math.ceil(-c.y/2/h.y)*h.y;x===-c.y/2&&(x+=h.y);do p(-c.x/2,x),p(c.x/2,x),x+=h.y;while(x<c.y/2);switch(this.geometry.setFromPoints(u),d){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.material.color.set(t),this.material.opacity=i,this.material.transparent=i<1,this}constructor(e){super(),this.set(null!=e?e:r)}}},52753:(e,t,i)=>{"use strict";i.d(t,{PageClient:()=>k});var n=i(70691),o=i(49797),r=i(53097),s=i(15931),l=i(28535),a=i(76999),d=i(57368),c=i(5832),h=i(33589),u=new WeakMap;class p extends o.Nv2{dispose(){!(0,l._)(this,u)&&(super.dispose(),(0,d._)(this,u,!0),this.video&&(this.video.pause(),this.video.src="",this.video.parentNode&&this.video.parentNode.removeChild(this.video),this.video=null))}static fromUrl(e){let{loop:t=!0,autoplay:i=!0,muted:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=document.createElement("video");return o.src=e,o.loop=t,o.autoplay=i,o.muted=n,o.playsInline=!0,o.crossOrigin="anonymous",o.play(),new p(o)}constructor(e){super(e),(0,a._)(this,u,{writable:!0,value:void 0}),this.video=e,(0,d._)(this,u,!1)}}let v={video:["mp4","webm"],srgb:["jpg","jpeg","png","webp"],linear:["hdr","exr"]},x=e=>v.srgb.includes(e),m=e=>v.linear.includes(e),w=e=>v.video.includes(e),y=e=>x(e)||m(e);var g=new WeakMap,_=new WeakMap;class b{loadTexture(e,t){var i,n,r;let s,a,u=new URL(e,window.location.href).pathname.split("/").pop()||"unknown",v=null==(i=u.match(/[^.]+$/))?void 0:i[0];if(void 0===v)throw Error("No extension found in url: ".concat(e));if(w(v)){let t=(0,h.F)(p.fromUrl(e));return t.video.onloadedmetadata=()=>{t.image.width=t.video.videoWidth,t.image.height=t.video.videoHeight,t.resolve()},t.name=u,t}let x=(m(v)?(0,d._)(this,_,null!=(n=(0,l._)(this,_))?n:new c.Y):(0,d._)(this,g,null!=(r=(0,l._)(this,g))?r:new o.Tap)).load(e,e=>{var i;e.name=u,e.colorSpace=null!=(i=null==t?void 0:t.colorSpace)?i:m(v)?o.Zr2:o.er$,b(),s(e)},void 0,()=>{b();let t=Error("Cannot load texture (NOT FOUND?): ".concat(e));a(t)}),y=new Promise((e,t)=>{s=e,a=t});Object.assign(x,{then:y.then.bind(y),catch:y.catch.bind(y),finally:y.finally.bind(y)});let b=()=>{delete x.then,delete x.catch,delete x.finally};return x}load(e){var t;let i=null==(t=e.match(/[^.]+$/))?void 0:t[0];if(void 0===i)throw Error("No extension found in url: ".concat(e));if(y(i))return this.loadTexture(e);throw Error("Unsupported extension: ".concat(e))}constructor(){(0,a._)(this,g,{writable:!0,value:void 0}),(0,a._)(this,_,{writable:!0,value:void 0}),(0,d._)(this,g,null),(0,d._)(this,_,null)}}let f=new b;var N=i(79911);function j(){return(0,r.dB)("my-scene",function*(e){(0,N.mj)(new s.P,e),(0,N.mj)(new o.eaF(new o.iNn(1,1,.2),new o.V9B({map:f.loadTexture("/assets/textures/color-debug.png")})),e),(0,N.mj)(new o.eaF(new o.iNn(1,1,.2),new o.V9B({map:f.loadTexture("/assets/textures/Card-Verso-MB-Test.jpg")})),{parent:e,position:[1.2,0,0]}),document.body.style.backgroundColor="#222222"}),null}function k(){return(0,n.jsxs)(r.uB,{vertigoControls:{},children:[(0,n.jsxs)("div",{className:"PageClient p-16",children:[(0,n.jsx)("h1",{className:"mb-4 text-3xl font-bold",children:"Color test"}),(0,n.jsx)("p",{children:"Looks like the textures are correctly interpreted."})]}),(0,n.jsx)(j,{})]})}},66620:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var n=i(89868),o=i(44138);function r(e,t){var i=(0,o._)(e,t,"update");return(0,n._)(e,i)}}},e=>{var t=t=>e(e.s=t);e.O(0,[5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,146,6726,3445,9332,3414,9717,1763,2143,3097,1319,6852,7358],()=>t(5109)),_N_E=e.O()}]);