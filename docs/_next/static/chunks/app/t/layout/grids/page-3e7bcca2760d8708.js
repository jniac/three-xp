(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{1e3:(e,t,r)=>{"use strict";function n(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}r.d(t,{_:()=>n})},15940:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(29443);function i(e,t){(0,n._)(e,t),t.add(e)}},17099:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(79105);let i=e=>e,a={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function l(){let e=(0,n.K2)((0,n.K2)((0,n.Ts)(n.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,n.K2)((0,n.K2)((0,n.Ts)(t))),f}function r(){return e=(0,n.K2)(e),(0,n.Tj)(e)}function l(e){switch(e.length){default:return[0,1,i];case 1:return[0,e[0],i];case 2:return[e[0],e[1],i];case 3:return[e[0],e[1],e[2]]}}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,a,s]=l(t);return i+(a-i)*s(r())}function o(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let[l,s,{weightsAreNormalized:o,indexOffset:c,forbiddenItems:f}]=function(e){let[t,r=null,n]=e,i={...a,...n};if(Array.isArray(t))return[t,r,i];if("object"==typeof t)return[Object.values(t),r?Object.values(r):null,i];throw Error("pick: unsupported options type")}(n);if(f.length>0){let t=new Set;for(let e of f){let r=l.indexOf(e);r>=0&&t.add(r)}if(l=l.filter((e,r)=>!t.has(r)),s=null!=(e=null==s?void 0:s.filter((e,r)=>!t.has(r)))?e:null,0===l.length)throw Error("pick: all items are forbidden")}if(null===s){let e=Math.floor(r()*l.length);return c&&(e+=c,(e%=l.length)<0&&(e+=l.length)),l[e]}if(!o){let e=s.reduce((e,t)=>e+t,0);s=s.map(t=>t/e)}let d=r(),u=0;for(let e=0;e<l.length;e++)if(d<(u+=s[e]))return l[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(),i=r(),a=Math.sqrt(-2*Math.log(n)),l=2*Math.PI*i;return[e+t*a*Math.cos(l),e+t*a*Math.sin(l)]}let f={seed:t,seedMax:function(){return n.Zu},reset:function(){return t(n.KP),f},next:function(){return e=(0,n.K2)(e),f},getState:function(){return e},setState:function(t){return e=t&n.Zu,f},random:r,between:s,around:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[a=1,l=i]=t,s=2*r();return(s>1?1:-1)*l(s>1?s-1:s)*a},int:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,a,s]=l(t);return i+Math.floor(s(r())*(a-i))},chance:function(e){return r()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&Array.isArray(e)?e:[...e],i=n.length;for(let e=0;e<i;e++){let t=Math.floor(i*r()),a=n[e];n[e]=n[t],n[t]=a}return n},pick:o,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),r=e.map(e=>{let[t,r]=e;return r}),n=r.reduce((e,t)=>e+t,0);for(let[e,t]of r.entries())r[e]=t/n;return()=>o(t,r,{weightsAreNormalized:!0})},vector:function(e,t){let[r=0,n=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=s(r,n);return e},unitVector2:function(e){let t=2*Math.PI*r();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=r(),n=r(),i=2*Math.PI*t,a=Math.acos(1-2*n);return e.x=Math.sin(a)*Math.cos(i),e.y=Math.sin(a)*Math.sin(i),e.z=Math.cos(a),e},normalVector:function(e){let t=Object.keys(e),r=t.length,n=Math.sqrt(r);for(let i=0;i<r;i+=2){let[a,l]=c();e[t[i]]=a/n,i+1<r&&(e[t[i+1]]=l/n)}return e},unitVector:function(e){let t=Object.keys(e),r=t.length,n=0;for(let i=0;i<r;i+=2){let[a,l]=c();e[t[i]]=a,n+=a*a,i+1<r&&(e[t[i+1]]=l,n+=l*l)}n=Math.sqrt(n);for(let i=0;i<r;i++)e[t[i]]/=n;return e},boxMuller:c,quaternion:function(e){let t=r(),n=r(),i=r(),a=Math.sqrt(1-t),l=Math.sqrt(t);return e.x=a*Math.sin(2*Math.PI*n),e.y=a*Math.cos(2*Math.PI*n),e.z=l*Math.sin(2*Math.PI*i),e.w=l*Math.cos(2*Math.PI*i),e},insideCircle:function(e,t){let n=2*r()*Math.PI,i=Math.sqrt(r())*e;return t.x=i*Math.cos(n),t.y=i*Math.sin(n),t}};return f}let s=class{constructor(e){Object.assign(this,l().seed(e))}};Object.assign(s,l())},23127:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(89868),i=r(47878),a=r(1e3);function l(e,t,r){return(0,i._)(e,t),(0,a._)(r,"update"),(0,n._)(e,r)}},23645:(e,t,r)=>{Promise.resolve().then(r.bind(r,95119))},28535:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(75687),i=r(44138);function a(e,t){var r=(0,i._)(e,t,"get");return(0,n._)(e,r)}},29443:(e,t,r)=>{"use strict";function n(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}r.d(t,{_:()=>n})},36575:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(67203);let i=0;function a(e){let[,t]=(0,n.useState)(i);return(0,n.useEffect)(()=>{let{destroy:r}=e.onChange(()=>t(++i));return r},[e.observableId]),e.value}},44138:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r.d(t,{_:()=>n})},47878:(e,t,r)=>{"use strict";function n(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}r.d(t,{_:()=>n})},57368:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(44138);function i(e,t,r){var i=(0,n._)(e,t,"set");if(i.set)i.set.call(e,r);else{if(!i.writable)throw TypeError("attempted to set read only private field");i.value=r}return r}},62538:e=>{e.exports={Client:"client_Client__85ovf"}},66066:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r}r.d(t,{_:()=>n})},75687:(e,t,r)=>{"use strict";function n(e,t){return t.get?t.get.call(e):t.value}r.d(t,{_:()=>n})},76999:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(29443);function i(e,t,r){(0,n._)(e,t),t.set(e,r)}},77674:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(75687),i=r(47878),a=r(1e3);function l(e,t,r){return(0,i._)(e,t),(0,a._)(r,"get"),(0,n._)(e,r)}},79105:(e,t,r)=>{"use strict";r.d(t,{K2:()=>l,KP:()=>i,Tj:()=>s,Ts:()=>a,Zu:()=>n});let n=0x7fffffff,i=123456,a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=n,(t=t<0?t+n:t)>1)return t&n;if(0===t)return i;throw Error("Impossible. ".concat(t))},l=e=>e=Math.imul(e,48271)&n,s=e=>(e-1)/(n-1)},89868:(e,t,r)=>{"use strict";function n(e,t){if(t.set){if(!t.get)throw TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(v){t.set.call(e,v)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw TypeError("attempted to set read only private field");return t}r.d(t,{_:()=>n})},95119:(e,t,r)=>{"use strict";r.d(t,{Client:()=>D});var n=r(70691),i=r(24223),a=r(18479),l=r(36508),s=r(42206);let o={yellow:"#ffcc00",magenta:"#cc00ff",paleGreen:"#00ffcc",blue:"#00ccff",vibrantBlue:"#1c55ff",pink:"#ffccff",white:"#ffffff"};function c(){let{ref:e}=(0,a.useEffects)(function*(e){let t=e.querySelector("canvas"),r=new s.$x({direction:s.OP.Horizontal,offset:[100,100],size:[600,400],padding:10,gap:10,userData:{color:o.yellow}});r.add(new s.$x({direction:s.OP.Vertical,size:[".25rel","1rel"],spacing:10,userData:{color:o.vibrantBlue}}),new s.$x({direction:s.OP.Vertical,size:[".25rel","1rel"],spacing:10,userData:{color:o.vibrantBlue}}),new s.$x({direction:s.OP.Vertical,size:[".25rel","1rel"],spacing:10,userData:{color:o.vibrantBlue}}));for(let e=0;e<3;e++)r.get(0).add(new s.$x({size:"".concat(e+1,"fr"),spacing:10,userData:{color:o.paleGreen}}));r.computeLayout();let n=window.devicePixelRatio;t.width=800*n,t.height=600*n,t.style.width="800px",t.style.height="600px";let i=t.getContext("2d");for(let e of r.allDescendants({includeSelf:!0})){var a;i.lineWidth=2*n,i.strokeStyle=null!=(a=e.userData.color)?a:"#fff",i.strokeRect(...e.rect.tupple(n))}},[]);return(0,n.jsxs)("div",{ref:e,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,n.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,n.jsx)("div",{className:"text-center"})]})}var f=r(56905);class d{paint(e){let{ctx:t,pixelRatio:r}=this;t.clearRect(0,0,t.canvas.width,t.canvas.height),e.computeLayout();let n=e=>{let t=0;for(let r of e.allAncestors({includeSelf:!0}))t+=r.positioning===f.EU.Detached?100:1;return t};for(let i of[...e.allDescendants({includeSelf:!1})].filter(e=>!e.userData.skipPaint).sort((e,t)=>n(e)-n(t))){let e=i.rect.clone().multiplyScalar(r),n=function(e){let t;for(;!t&&e;){if(void 0!==(t=e.userData.color))return t;e=e.parent}return"#ffffff"}(i);i.userData.plain?(t.strokeStyle="",t.fillStyle=n,t.fillRect(e.x,e.y,e.width,e.height)):(t.lineWidth=2*r,t.strokeStyle=n,t.fillStyle="rgba(0, 0, 0, .5)",t.fillRect(e.x,e.y,e.width,e.height),t.strokeRect(e.x,e.y,e.width,e.height))}}constructor(e,{pixelRatio:t=window.devicePixelRatio,width:r=800,height:n=600}={}){e.width=r*t,e.height=n*t,e.style.width="".concat(r,"px"),e.style.height="".concat(n,"px"),this.ctx=e.getContext("2d"),this.pixelRatio=t,this.width=r,this.height=n}}function u(){let e=[10,30,90,0],t=[10,80],{ref:r}=(0,a.useEffects)(function*(r){let n=new d(r.querySelector("canvas")),i=new s.$x({direction:s.OP.Horizontal,size:[n.width,n.height],spacing:10,alignChildren:1}).add(new s.$x({userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}})))))),new s.$x({userData:{color:o.paleGreen}}).add(new s.$x({margin:t,userData:{color:o.paleGreen}})),new s.$x({padding:10,userData:{color:o.magenta}}).add(new s.$x({margin:[0,60],marginRight:0,userData:{color:o.magenta}}),new s.$x({margin:[0,60],marginLeft:0,userData:{color:o.magenta}})));yield(0,l.xy)("layout",e=>{var t;null==(t=i.get(2))||t.set({padding:10+40*e.sin01Time({frequency:.2})}),n.paint(i)})},[]);return(0,n.jsxs)("div",{ref:r,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,n.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{children:"css-like margins:"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{style:{color:o.yellow},children:["4 values (",e.join(", "),") (top, right, bottom, left)"]}),(0,n.jsxs)("li",{style:{color:o.paleGreen},children:["2 values (",t.join(", "),") (vertical, horizontal)"]}),(0,n.jsxs)("li",{style:{color:o.magenta},children:["specific overrides: ",(0,n.jsx)("code",{children:"marginLeft"}),' overrides "2 values" declaration']})]})]})]})}function h(){let e=e=>{switch(e){case 40:return o.magenta;case 120:return o.paleGreen;default:return o.yellow}},{ref:t}=(0,a.useEffects)(function*(t){var r,n;let i=new d(t.querySelector("canvas"));function a(t){return{userData:{color:e(t)},margin:t}}let l=new s.$x({direction:s.OP.Horizontal,size:[i.width,i.height],spacing:10,alignChildren:1}).add(new s.$x({spacing:10,userData:{color:"#fff2"}}).add(new s.$x({...a(0)}),new s.$x({...a(0)}),new s.$x({...a(40)}),new s.$x({...a(40)}),new s.$x({...a(120)}),new s.$x({...a(0)})));null==(r=l.get(0,2))||r.add(new s.$x({positioning:f.EU.Detached,alignSelf:0,size:[38,38],offset:[-39,-39],userData:{color:"#fff2",plain:!0}})),null==(n=l.get(0,4))||n.add(new s.$x({positioning:f.EU.Detached,alignSelf:0,size:[118,118],offset:[-119,-119],userData:{color:"#fff2",plain:!0}})),i.paint(l)},[]);return(0,n.jsxs)("div",{ref:t,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,n.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{children:'Margins "collapse" when they are adjacent to each other or to the edge (padding) of the container.'}),(0,n.jsx)("p",{style:{color:e(0)},children:"margin: 0"}),(0,n.jsx)("p",{style:{color:e(40)},children:"margin: 40"}),(0,n.jsx)("p",{style:{color:e(120)},children:"margin: 120"})]})]})}var p=r(67203),x=r(36575),g=r(85795);let w=[{direction:s.OP.Horizontal,aspect:1},{direction:s.OP.Vertical,aspect:2},{direction:s.OP.Vertical,aspect:8},{direction:s.OP.Vertical,aspect:.5},{direction:s.OP.Horizontal,aspect:.5},{direction:s.OP.Horizontal,aspect:1/4}];function y(){let e=(0,p.useMemo)(()=>new g.ObservableNumber(0),[]),{ref:t}=(0,a.useEffects)(function*(t){let r=new d(t.querySelector("canvas")),{direction:n,aspect:i}=w[e.value],a=new s.$x({direction:n,size:[r.width,r.height],spacing:10,alignChildren:1}).add(new s.$x({alignChildren:.5,aspect:i,spacing:10,userData:{color:o.yellow}}).add(new s.$x({size:["50%","50%"]}),new s.$x({size:["10%","10%"]})),new s.$x({aspect:i,spacing:10,userData:{color:o.paleGreen}}).add(new s.$x,new s.$x),new s.$x({aspect:i,userData:{color:o.magenta}}));yield e.onChange(e=>{let{direction:t,aspect:r}=w[e];for(let e of(a.set({direction:t}),a.children))e.set({aspect:r})}),yield(0,l.xy)("layout",e=>{a.set({alignChildren:e.cos01Time({frequency:.1})}),a.get(2).set({alignSelf:e.cos01Time({frequency:.3})}),r.paint(a)})},[]),r=()=>{e.value=(e.value+1)%w.length};return(0,n.jsxs)("div",{ref:t,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,n.jsx)("canvas",{style:{border:"solid 2px #fff1",cursor:"pointer"},onClick:r}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("button",{className:"border border-white rounded px-2 py-1",onClick:r,children:[(0,n.jsxs)("span",{children:["Direction: ",s.OP[w[(0,x.A)(e)].direction],","]}),"\xa0",(0,n.jsxs)("span",{children:["Aspect: ",w[(0,x.A)(e)].aspect]})]})}),(0,n.jsxs)("p",{style:{color:o.magenta},children:[(0,n.jsx)("code",{children:"alignSelf"})," allows the children to override the parent's ",(0,n.jsx)("code",{children:"alignChildren"}),"."]})]})]})}var m=r(17099);function j(){let{ref:e}=(0,a.useEffects)(function*(e){let t=new d(e.querySelector("canvas"));m.c.reset();let r=new s.$x({direction:s.OP.Horizontal,size:[t.width,t.height],spacing:10,userData:{color:o.blue}}).add(new s.$x({direction:s.OP.Vertical,size:"1part",spacing:10,userData:{color:o.paleGreen}}).populate(5,{spacing:10}),new s.$x({direction:s.OP.Vertical,size:"2sh",userData:{color:o.magenta},spacing:10}),new s.$x({direction:s.OP.Vertical,size:"1part",spacing:10}).add(new s.$x().setSize("40"),new s.$x().setSize("1part"),new s.$x().setSize("40"),new s.$x().setSize("1part").setSpacing(10).add(new s.$x({direction:"vertical",size:"1part"}),new s.$x({direction:"vertical",size:"1part"}),new s.$x({direction:"vertical",size:"1part"})),new s.$x().setSize("40")),new s.$x().setPositioning("detached").setUserData({skipPaint:!0}).setPadding(20).setSize("1rel").add(new s.$x({positioning:s.EU.Detached,offset:["0rel","1rel"],size:".7sm"})));r.get(0,3).populate(3),r.get(1).add(new s.$x({positioning:s.EU.Detached,direction:s.OP.Vertical,size:90,spacing:10}).populate(4),new s.$x({positioning:s.EU.Detached,alignSelf:0,offset:[0,0],size:70,spacing:10}).populate(3),new s.$x({positioning:s.EU.Detached,alignSelf:[0,1],size:30,spacing:10}).populate(1),new s.$x({positioning:s.EU.Detached,alignSelf:1,size:50,spacing:10}).populate(2));let n=new s.$x({positioning:s.EU.Detached,size:30}).populate(3).addTo(r.get(0,3));for(let e of r.allDescendants({includeSelf:!0}))e.positioning===s.EU.Detached&&e.set({userData:{color:o.yellow}});r.computeLayout(),yield(0,l.xy)("layout",e=>{r.get([0]).sizeX.value=e.lerpCos01Time(2,1,{frequency:1/6}),r.get([1]).sizeX.value=e.lerpCos01Time(0,4,{frequency:1/6}),n.set({alignSelf:e.sin01Time({frequency:1/3})}),t.paint(r)})},[]);return(0,n.jsxs)("div",{ref:e,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,n.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsxs)("p",{children:["When positioning is set to ",(0,n.jsx)("code",{style:{color:o.yellow},children:"detached"}),", spaces are not affected by their parent's size."]})})]})}function $(){let{ref:e}=(0,a.useEffects)(function*(e){let t=e.querySelector("canvas"),r=new s.$x({direction:"vertical",size:[800,600],gap:12}).add(new s.$x({name:"header",size:["1rel",64],gap:12}),new s.$x({size:["1rel",10]}),new s.$x({name:"bottom",size:["1rel","1fr"],gap:12}).add(new s.$x({name:"left",size:["1fr","1rel"]}),new s.$x({size:[10,"1rel"]}),new s.$x({size:["1fr","1rel"]})));r.computeLayout();let n=window.devicePixelRatio;t.width=800*n,t.height=600*n,t.style.width="800px",t.style.height="600px";let i=t.getContext("2d"),a=function(e){let t=0,r=e.length;return()=>e[t++%r]}(Object.values(o));for(let e of r.allLeaves()){var l;i.lineWidth=2*n,i.strokeStyle=null!=(l=e.userData.color)?l:a(),i.strokeRect(...e.rect.tupple(n))}},[]);return(0,n.jsxs)("div",{ref:e,className:"flex flex-col items-center gap-4",style:{flex:"0 0 800px"},children:[(0,n.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsxs)("p",{children:["\n            A test of layouting spaces inside a fraction unit. Everything is ok. I was\n            looking for a bug that was coming from another part of the code.\n          ",(0,n.jsx)("br",{}),"The test is still there, not very useful now, but can't be reused for something else."]})})]})}var z=r(62538),b=r.n(z);function D(){let{ref:e}=(0,a.useEffects)(function*(e){let[t,...r]=e.children;t.style.flex="0 0 ".concat((r.length-1)*800,"px");let n=l.Rv.get("layout").set({minActiveDuration:4});yield(0,i.O)(n.requestActivation)},[]);return(0,n.jsxs)("div",{ref:e,className:"".concat(b().Client," page overflow-scroll"),children:[(0,n.jsx)("div",{}),(0,n.jsx)(c,{}),(0,n.jsx)(u,{}),(0,n.jsx)(h,{}),(0,n.jsx)(y,{}),(0,n.jsx)(j,{}),(0,n.jsx)($,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8939,146,487,3445,2206,1319,6852,7358],()=>t(23645)),_N_E=e.O()}]);