(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{1e3:(e,t,i)=>{"use strict";function r(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}i.d(t,{_:()=>r})},15940:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});var r=i(29443);function n(e,t){(0,r._)(e,t),t.add(e)}},17099:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var r=i(79105);let n=e=>e,l={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function a(){let e=(0,r.K2)((0,r.K2)((0,r.Ts)(r.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,r.K2)((0,r.K2)((0,r.Ts)(t))),h}function i(){return e=(0,r.K2)(e),(0,r.Tj)(e)}function a(e){switch(e.length){default:return[0,1,n];case 1:return[0,e[0],n];case 2:return[e[0],e[1],n];case 3:return[e[0],e[1],e[2]]}}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,l,s]=a(t);return n+(l-n)*s(i())}function o(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let[a,s,{weightsAreNormalized:o,indexOffset:c,forbiddenItems:h}]=function(e){let[t,i=null,r]=e,n={...l,...r};if(Array.isArray(t))return[t,i,n];if("object"==typeof t)return[Object.values(t),i?Object.values(i):null,n];throw Error("pick: unsupported options type")}(r);if(h.length>0){let t=new Set;for(let e of h){let i=a.indexOf(e);i>=0&&t.add(i)}if(a=a.filter((e,i)=>!t.has(i)),s=null!=(e=null==s?void 0:s.filter((e,i)=>!t.has(i)))?e:null,0===a.length)throw Error("pick: all items are forbidden")}if(null===s){let e=Math.floor(i()*a.length);return c&&(e+=c,(e%=a.length)<0&&(e+=a.length)),a[e]}if(!o){let e=s.reduce((e,t)=>e+t,0);s=s.map(t=>t/e)}let f=i(),u=0;for(let e=0;e<a.length;e++)if(f<(u+=s[e]))return a[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=i(),n=i(),l=Math.sqrt(-2*Math.log(r)),a=2*Math.PI*n;return[e+t*l*Math.cos(a),e+t*l*Math.sin(a)]}let h={seed:t,seedMax:function(){return r.Zu},reset:function(){return t(r.KP),h},next:function(){return e=(0,r.K2)(e),h},getState:function(){return e},setState:function(t){return e=t&r.Zu,h},random:i,between:s,around:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[l=1,a=n]=t,s=2*i();return(s>1?1:-1)*a(s>1?s-1:s)*l},int:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,l,s]=a(t);return n+Math.floor(s(i())*(l-n))},chance:function(e){return i()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t&&Array.isArray(e)?e:[...e],n=r.length;for(let e=0;e<n;e++){let t=Math.floor(n*i()),l=r[e];r[e]=r[t],r[t]=l}return r},pick:o,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),i=e.map(e=>{let[t,i]=e;return i}),r=i.reduce((e,t)=>e+t,0);for(let[e,t]of i.entries())i[e]=t/r;return()=>o(t,i,{weightsAreNormalized:!0})},vector:function(e,t){let[i=0,r=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=s(i,r);return e},unitVector2:function(e){let t=2*Math.PI*i();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=i(),r=i(),n=2*Math.PI*t,l=Math.acos(1-2*r);return e.x=Math.sin(l)*Math.cos(n),e.y=Math.sin(l)*Math.sin(n),e.z=Math.cos(l),e},normalVector:function(e){let t=Object.keys(e),i=t.length,r=Math.sqrt(i);for(let n=0;n<i;n+=2){let[l,a]=c();e[t[n]]=l/r,n+1<i&&(e[t[n+1]]=a/r)}return e},unitVector:function(e){let t=Object.keys(e),i=t.length,r=0;for(let n=0;n<i;n+=2){let[l,a]=c();e[t[n]]=l,r+=l*l,n+1<i&&(e[t[n+1]]=a,r+=a*a)}r=Math.sqrt(r);for(let n=0;n<i;n++)e[t[n]]/=r;return e},boxMuller:c,quaternion:function(e){let t=i(),r=i(),n=i(),l=Math.sqrt(1-t),a=Math.sqrt(t);return e.x=l*Math.sin(2*Math.PI*r),e.y=l*Math.cos(2*Math.PI*r),e.z=a*Math.sin(2*Math.PI*n),e.w=a*Math.cos(2*Math.PI*n),e},insideCircle:function(e,t){let r=2*i()*Math.PI,n=Math.sqrt(i())*e;return t.x=n*Math.cos(r),t.y=n*Math.sin(r),t}};return h}let s=class{constructor(e){Object.assign(this,a().seed(e))}};Object.assign(s,a())},23127:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var r=i(89868),n=i(47878),l=i(1e3);function a(e,t,i){return(0,n._)(e,t),(0,l._)(i,"update"),(0,r._)(e,i)}},23645:(e,t,i)=>{Promise.resolve().then(i.bind(i,95119))},28535:(e,t,i)=>{"use strict";i.d(t,{_:()=>l});var r=i(75687),n=i(44138);function l(e,t){var i=(0,n._)(e,t,"get");return(0,r._)(e,i)}},29443:(e,t,i)=>{"use strict";function r(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}i.d(t,{_:()=>r})},36575:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(67203);let n=0;function l(e){let[,t]=(0,r.useState)(n);return(0,r.useEffect)(()=>{let{destroy:i}=e.onChange(()=>t(++n));return i},[e.observableId]),e.value}},42206:(e,t,i)=>{"use strict";i.d(t,{OP:()=>d.OP,EU:()=>d.EU,LN:()=>o,$x:()=>b}),function(e){e[e.Auto=0]="Auto",e[e.Absolute=1]="Absolute",e[e.Relative=2]="Relative",e[e.OppositeRelative=3]="OppositeRelative",e[e.SmallerRelative=4]="SmallerRelative",e[e.LargerRelative=5]="LargerRelative",e[e.Fraction=6]="Fraction"}(o||(o={}));let r={abs:o.Absolute,rel:o.Relative,opp:o.OppositeRelative,sm:o.SmallerRelative,lg:o.LargerRelative,fr:o.Fraction},n={"%":o.Relative,part:o.Fraction,sh:o.Fraction},l={...r,...n},a=Object.fromEntries(Object.entries(l).map(e=>{let[t,i]=e;return[i,t]}));class s{static parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s;return t.parse(e),t}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.type;this.value=e,this.type=t}compute(e,t){switch(this.type){case o.Absolute:return this.value;case o.Relative:return this.value*e;case o.OppositeRelative:return this.value*t;case o.SmallerRelative:return this.value*Math.min(e,t);case o.LargerRelative:return this.value*Math.max(e,t);case o.Auto:case o.Fraction:return e}}parse(e){return!function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s;if("auto"===e)return i.value=1,i.type=o.Auto;if("number"==typeof e)return i.value=e,i.type=o.Absolute;if("string"!=typeof e)throw console.log("received:",e),Error("Invalid scalar declaration");let r=e.match(/([\d\.]+)([a-z%]+)?$/);if(!r)throw console.log("received:",e),Error("Invalid scalar declaration");let[n,a,c]=r,h=Number.parseFloat(a),f=null!=(t=l[c])?t:o.Absolute;if(Number.isNaN(h))throw Error("Invalid scalar declaration");"%"===c&&(h/=100),i.value=h,i.type=f}(e,this),this}toString(){return"".concat(this.value).concat(a[this.type])}constructor(e=0,t=o.Absolute){this.value=e,this.type=t}}var o,c=i(44694),h=i(20487),f=i(43107),u=i(69975),d=i(56905);let p=new u.Y,g=[];function x(e,t,i,r,n){let l=0,a=0;if(r===d.OP.Horizontal&&(e.sizeX.type===o.Auto||e.sizeX.type===o.Fraction)&&(i=Math.max(0,i-Math.max(0,n.top-p.top)-Math.max(0,n.bottom-p.bottom))),r===d.OP.Vertical&&(e.sizeY.type===o.Auto||e.sizeY.type===o.Fraction)&&(t=Math.max(0,t-Math.max(0,n.left-p.left)-Math.max(0,n.right-p.right))),null!==e.aspect){let n=!1;if(e.sizeX.type===o.Auto)n=e.sizeY.type!==o.Auto||r===d.OP.Horizontal;else if(e.sizeY.type===o.Auto)n=!1;else throw Error('When aspect ratio is defined, at least one of the sizeX or sizeY must be "auto"');n?a=(l=e.sizeX.compute(t,i))/e.aspect:l=(a=e.sizeY.compute(i,t))*e.aspect}else l=e.sizeX.compute(t,i),a=e.sizeY.compute(i,t);e.rect.width=e.extraSizeX.compute(l,a),e.rect.height=e.extraSizeY.compute(a,l)}let w=new h.M_;function m(e,t,i){if(Array.isArray(e)){let[r,n]=e;return t.parse(r),i.parse(n),[t,i]}return"object"==typeof e?(t.parse(e.x),i.parse(e.y)):(t.parse(e),i.parse(e)),[t,i]}function y(e){if(!1===Array.isArray(e))return[e,e,e,e];if(1===e.length)return[e[0],e[0],e[0],e[0]];if(2===e.length)return[e[0],e[1],e[0],e[1]];if(4===e.length)return e;throw Error("Invalid number of arguments")}function z(e){return"*"===e?()=>!0:"string"==typeof e?t=>t.name===e:e instanceof RegExp?t=>e.test(t.name):e}class b{set(e){if(void 0!==e.name&&(this.name=e.name),void 0!==e.direction&&(this.direction=(0,d.T$)(e.direction)),void 0!==e.positioning&&(this.positioning=(0,d.$P)(e.positioning)),void 0!==e.offset&&m(e.offset,this.offsetX,this.offsetY),void 0!==e.offsetX&&this.offsetX.parse(e.offsetX),void 0!==e.offsetY&&this.offsetY.parse(e.offsetY),void 0!==e.size&&m(e.size,this.sizeX,this.sizeY),void 0!==e.sizeX&&this.sizeX.parse(e.sizeX),void 0!==e.sizeY&&this.sizeY.parse(e.sizeY),void 0!==e.aspect&&(this.aspect=e.aspect),void 0!==e.alignChildren){let{x:t,y:i}=(0,c.wX)(e.alignChildren);this.alignChildrenX=t,this.alignChildrenY=i}if(void 0!==e.alignChildrenX&&(this.alignChildrenX=e.alignChildrenX),void 0!==e.alignChildrenY&&(this.alignChildrenY=e.alignChildrenY),void 0!==e.alignSelf){let{x:t,y:i}=(0,c.wX)(e.alignSelf);this.alignSelfX=t,this.alignSelfY=i}if(void 0!==e.alignSelfX&&(this.alignSelfX=e.alignSelfX),void 0!==e.alignSelfY&&(this.alignSelfY=e.alignSelfY),void 0!==e.padding){let[t,i,r,n]=y(e.padding);this.padding[0].parse(t),this.padding[1].parse(i),this.padding[2].parse(r),this.padding[3].parse(n)}if(void 0!==e.paddingTop&&this.padding[0].parse(e.paddingTop),void 0!==e.paddingRight&&this.padding[1].parse(e.paddingRight),void 0!==e.paddingBottom&&this.padding[2].parse(e.paddingBottom),void 0!==e.paddingLeft&&this.padding[3].parse(e.paddingLeft),void 0!==e.margin){let[t,i,r,n]=y(e.margin);this.margin[0].parse(t),this.margin[1].parse(i),this.margin[2].parse(r),this.margin[3].parse(n)}if(void 0!==e.marginTop&&this.margin[0].parse(e.marginTop),void 0!==e.marginRight&&this.margin[1].parse(e.marginRight),void 0!==e.marginBottom&&this.margin[2].parse(e.marginBottom),void 0!==e.marginLeft&&this.margin[3].parse(e.marginLeft),void 0!==e.gap&&this.gap.parse(e.gap),void 0!==e.spacing){let[t,i,r,n,l]=function(e){if(!1===Array.isArray(e))return[e,e,e,e,e];let[t,...i]=e;return[t,...y(i)]}(e.spacing);this.gap.parse(t),this.padding[0].parse(i),this.padding[1].parse(r),this.padding[2].parse(n),this.padding[3].parse(l)}return void 0!==e.userData&&Object.assign(this.userData,e.userData),this}setDirection(e){return this.direction=(0,d.T$)(e),this}setPositioning(e){return this.positioning=(0,d.$P)(e),this}setOffset(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t[0]&&"object"==typeof t[0]){let{x:e,y:i=e}=t[0];this.offsetX.parse(e),this.offsetY.parse(i)}else{let[e,i=e]=t;this.offsetX.parse(e),this.offsetY.parse(i)}return this}setSize(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t[0]&&"object"==typeof t[0]){let{x:e,y:i=e}=t[0];this.sizeX.parse(e),this.sizeY.parse(i)}else{let[e,i=e]=t;this.sizeX.parse(e),this.sizeY.parse(i)}return this}setSizeX(e){return this.sizeX.parse(e),this}setWidth(e){return this.setSizeX(e)}setSizeY(e){return this.sizeY.parse(e),this}setHeight(e){return this.setSizeY(e)}setOffsetSizeAsAbsoluteRect(e){return this.offsetX.set(e.x,o.Absolute),this.offsetY.set(e.y,o.Absolute),this.sizeX.set(e.width,o.Absolute),this.sizeY.set(e.height,o.Absolute),this}setAlign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.alignChildrenX=e,this.alignChildrenY=t,this}setUserData(e){return Object.assign(this.userData,e),this}setPadding(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];1===t.length&&Array.isArray(t[0])&&(t=t[0]);let[r,n,l,a]=y(t);return this.padding[0].parse(r),this.padding[1].parse(n),this.padding[2].parse(l),this.padding[3].parse(a),this}setGap(e){return this.gap.parse(e),this}setSpacing(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[r,...n]=t;return this.setGap(r),n.length>0?this.setPadding.apply(this,n):this.setPadding(r),this}isRoot(){return null===this.parent}isLeaf(){return 0===this.children.length}depth(){let e=0,t=this;for(;t;)t=t.parent,e++;return e}*allDescendants(){let{includeSelf:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t of(e&&(yield this),this.children))yield*t.allDescendants({includeSelf:!0})}descendantsCount(){let{includeSelf:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0;for(let i of this.allDescendants({includeSelf:e}))t++;return t}*allAncestors(){let{includeSelf:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e?this:this.parent;for(;t;)yield t,t=t.parent}*allLeaves(){let{includeSelf:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t of this.allDescendants({includeSelf:e}))0===t.children.length&&(yield t)}leavesCount(){let{includeSelf:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0;for(let i of this.allLeaves({includeSelf:e}))t++;return t}path(){let e=[],t=this;for(;t.parent;)e.push(t.parent.children.indexOf(t)),t=t.parent;return e.reverse()}get(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let r=t[0]&&"object"==typeof t[0]&&Symbol.iterator in t[0]?t[0]:t,n=this;for(let e of r)if(e<0&&(e=n.children.length+e),!(n=n.children[e]))return null;return n}find(e){let{includeSelf:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let i of(e=z(e),this.allDescendants({includeSelf:t})))if(e(i))return i;return null}*findAll(e){let{includeSelf:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let i of(e=z(e),this.allDescendants({includeSelf:t})))e(i)&&(yield i)}pointCast(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[r,n]=1===t.length?[t[0].x,t[0].y]:t;for(let e of this.allLeaves())if(e.rect.containsXY(r,n))return e;return null}getRoot(){let e=this;for(;e.parent;)e=e.parent;return e}add(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(let e of t)e.removeFromParent(),e.parent=this,this.children.push(e);return this}populate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(1===t.length&&"object"==typeof t[0]){let{count:e,...i}=t[0];return this.populate(e,i)}let[r,n]=t;for(let e=0;e<r;e++)this.add(new b(n));return this}addTo(e){return e.add(this),this}prepend(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(let e of t)e.removeFromParent(),this.children.unshift(e),e.parent=this;return this}prependTo(e){return e.prepend(this),this}removeFromParent(){return this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent=null),this}remove(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(let e of t)e.parent===this&&e.removeFromParent();return this}sort(e){return this.children.sort(e),this}tangentSize(){var e,t;return(null!=(t=null==(e=this.parent)?void 0:e.direction)?t:this.direction)===d.OP.Horizontal?this.sizeX:this.sizeY}normalSize(){return this.direction===d.OP.Horizontal?this.sizeX:this.sizeY}getUvRect(e){let{out:t=new h.M_,flipY:i}=e;return t.copy(this.rect).relativeTo(this.getRoot().rect),i&&(t.y=1-t.y-t.height),t}parse(e){let t;if(!e)return;let i=/(\w+)(?:\(([^)]+)\))?/g,r=[];for(;null!==(t=i.exec(e));){let e=t[1],i=t[2]?t[2].split(",").map(e=>e.trim()):[];r.push({token:e,args:i})}for(let{token:t,args:i}of r)switch(t){case"horizontal":this.direction=d.OP.Horizontal;break;case"vertical":this.direction=d.OP.Vertical;break;case"size":{let[e,t=e]=i;this.sizeX.parse(e),this.sizeY.parse(t);break}default:throw console.log(e,r),Error('Unknow type: "'.concat(t,'"'))}}computeLayout(){this.isRoot()&&function(e){let{offsetX:t,offsetY:i,sizeX:r,sizeY:n}=e;for(let e of[t,i,r,n])if(e.type!==o.Absolute)throw Error("Root space must have absolute offset and size");e.rect.set(t.value,i.value,r.value,n.value)}(this);let e=[this];for(;e.length>0;){let t=e.shift();!function(e){let{direction:t,alignChildrenX:i,alignChildrenY:r}=e,[n,l]=(0,f.mn)(e.children,e=>+!e.enabled);if(l)for(let e of l)for(let t of e.allDescendants({includeSelf:!0}))t.rect.set(0,0,0,0);if(void 0===n)return;var a,s,c,h,m,y,z=e;let{width:b,height:A}=z.rect;for(let e of z.padding)if(e.type===o.Fraction)throw Error("Share padding is not allowed");p.setTRBL(z.padding[0].compute(A,b),z.padding[1].compute(b,A),z.padding[2].compute(A,b),z.padding[3].compute(b,A));let{x:j,y:S,width:D,height:P}=w.copy(e.rect).shrink(p),$=e.gap.compute(D,P),[O,M,X,Y,E]=n.reduce((e,i)=>{if(i.positioning===d.EU.Detached)e[0].push(i);else{e[1].push(i);let r=t===d.OP.Horizontal?i.sizeX:i.sizeY;r.type!==o.Fraction&&r.type!==o.Auto?e[2].push(i):(e[3].push(i),e[4]+=r.value)}return e},[[],[],[],[],0]);for(;g.length<e.children.length;)g.push(new u.Y);let{width:R,height:_}=e.rect;for(let t=0;t<e.children.length;t++){let i=e.children[t];g[t].setTRBL(i.margin[0].compute(_,R),i.margin[1].compute(R,_),i.margin[2].compute(_,R),i.margin[3].compute(R,_))}let C=Array.from({length:M.length+1}),T=0,N=0;if(t===d.OP.Horizontal){T+=N=Math.max(g[0].left,p.left),C[0]=N;for(let e=1,t=M.length;e<t;e++)T+=N=Math.max(g[e-1].right,g[e].left,$),C[e]=N;M.length>0&&(T+=N=Math.max(g[M.length-1].right,p.right),C[M.length]=N)}else{T+=N=Math.max(g[0].top,p.top),C[0]=N;for(let e=1,t=M.length;e<t;e++)T+=N=Math.max(g[e-1].bottom,g[e].top,$),C[e]=N;M.length>0&&(T+=N=Math.max(g[M.length-1].bottom,p.bottom),C[M.length]=N)}for(let e of O){x(e,D,P,t,g[0]);let n=D-e.rect.width,l=P-e.rect.height;e.rect.x=j+n*(null!=(a=e.alignSelfX)?a:i)+e.offsetX.compute(D,P),e.rect.y=S+l*(null!=(s=e.alignSelfY)?s:r)+e.offsetY.compute(P,D)}let k=0;if(t===d.OP.Horizontal)for(let e=0,i=X.length;e<i;e++){let i=X[e];x(i,D,P,t,g[e]),k+=i.rect.width}else for(let e=0,i=X.length;e<i;e++){let i=X[e];x(i,D,P,t,g[e]),k+=i.rect.height}let H=(t===d.OP.Horizontal?e.rect.width:e.rect.height)-k-T,F=H>0?H/E:0;if(t===d.OP.Horizontal)for(let e=0,i=Y.length;e<i;e++){let i=Y[e];x(i,F*i.sizeX.value,P,t,g[e])}else for(let e=0,i=Y.length;e<i;e++){let i=Y[e];x(i,D,F*i.sizeY.value,t,g[e])}let L=0;if(t===d.OP.Horizontal)for(let t of(L=e.rect.width-T,M))L-=t.rect.width;else for(let t of(L=e.rect.height-T,M))L-=t.rect.height;if(t===d.OP.Horizontal){let t=e.rect.x+C[0]+L*i;for(let e=0,i=M.length;e<i;e++){let i=M[e],n=i.offsetX.compute(i.rect.width,i.rect.height),l=i.offsetY.compute(i.rect.height,i.rect.width);if(i.rect.x=n+t,i.sizeY.type===o.Fraction||i.sizeY.type===o.Auto){let t=Math.max(0,g[e].top-p.top),n=Math.max(0,g[e].bottom-p.bottom);i.rect.y=l+w.y+t+(w.height-i.rect.height-t-n)*(null!=(c=i.alignSelfY)?c:r)}else i.rect.y=l+w.y+(w.height-i.rect.height)*(null!=(h=i.alignSelfY)?h:r);t+=i.rect.width+C[e+1]}}else{let t=e.rect.y+C[0]+L*r;for(let e=0,r=M.length;e<r;e++){let r=M[e],n=r.offsetX.compute(r.rect.width,r.rect.height),l=r.offsetY.compute(r.rect.height,r.rect.width);if(r.sizeX.type===o.Fraction||r.sizeX.type===o.Auto){let t=Math.max(0,g[e].left-p.left),l=Math.max(0,g[e].right-p.right);r.rect.x=n+w.x+t+(w.width-r.rect.width-t-l)*(null!=(m=r.alignSelfX)?m:i)}else r.rect.x=n+w.x+(w.width-r.rect.width)*(null!=(y=r.alignSelfX)?y:i);r.rect.y=l+t,t+=r.rect.height+C[e+1]}}}(t),e.push(...t.children)}return this}get root(){throw Error("Space.root is deprecated. Use Space.getRoot() instead.")}constructor(...e){if(this.enabled=!0,this.name="",this.parent=null,this.children=[],this.direction=d.OP.Horizontal,this.positioning=d.EU.Flow,this.aspect=null,this.offsetX=new s(0,o.Absolute),this.offsetY=new s(0,o.Absolute),this.sizeX=new s(1,o.Auto),this.sizeY=new s(1,o.Auto),this.extraSizeX=new s(1,o.Relative),this.extraSizeY=new s(1,o.Relative),this.padding=[new s(0,o.Absolute),new s(0,o.Absolute),new s(0,o.Absolute),new s(0,o.Absolute)],this.margin=[new s(0,o.Absolute),new s(0,o.Absolute),new s(0,o.Absolute),new s(0,o.Absolute)],this.gap=new s(0,o.Absolute),this.alignChildrenX=.5,this.alignChildrenY=.5,this.alignSelfX=null,this.alignSelfY=null,this.rect=new h.M_,this.userData={},1===e.length){let t=e[0];"object"==typeof t?this.set(t):this.direction=t}else 2===e.length&&(this.name=e[0],this.set(e[1]))}}},43107:(e,t,i)=>{"use strict";function r(e,t){for(let i of e)if(t(i))return!0;return!1}function n(e,t){for(let i of e)if(!t(i))return!1;return!0}function l(e,t,i){let r=[];function n(e){let t=[];return r[e]=t,t}if(void 0!==i)for(let e=0;e<i;e++)n(e);for(let i of e){var l;let e=t(i);(null!=(l=r[e])?l:n(e)).push(i)}return r}function*a(e){let t;for(let i of e)void 0!==t&&(yield[t,i]),t=i}function s(e,t){let i,r=-1/0;for(let n of e){let e=t(n);e>r&&(r=e,i=n)}return i}function o(e){let t=new Set;return i=>{let r=e(i);return!t.has(r)&&(t.add(r),!0)}}function c(e){return(t,i)=>{if(null!==t&&"object"!=typeof t)throw Error("Accumulator must be an object");let r=null===t?{}:t,n=e(i);return r[n]||(r[n]=[]),r[n].push(i),r}}i.d(t,{Ju:()=>a,Si:()=>n,VY:()=>c,mn:()=>l,pD:()=>o,vj:()=>s,zN:()=>r})},44138:(e,t,i)=>{"use strict";function r(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}i.d(t,{_:()=>r})},47878:(e,t,i)=>{"use strict";function r(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}i.d(t,{_:()=>r})},56905:(e,t,i)=>{"use strict";var r,n,l;function a(e){if(e in l)return e;if("string"==typeof e)return"flow"===e?l.Flow:l.Detached;throw Error("Invalid positioning value: ".concat(e))}function s(e){if(e in n)return e;if("string"==typeof e)return"horizontal"===e?n.Horizontal:n.Vertical;throw Error("Invalid direction value: ".concat(e))}i.d(t,{$P:()=>a,EU:()=>l,OP:()=>n,T$:()=>s}),function(e){e[e.Flow=0]="Flow",e[e.Detached=1]="Detached",e[e.Horizontal=2]="Horizontal",e[e.Vertical=3]="Vertical"}(r||(r={})),function(e){e[e.Horizontal=2]="Horizontal",e[e.Vertical=3]="Vertical"}(n||(n={})),function(e){e[e.Flow=0]="Flow",e[e.Detached=1]="Detached"}(l||(l={}))},57368:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});var r=i(44138);function n(e,t,i){var n=(0,r._)(e,t,"set");if(n.set)n.set.call(e,i);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=i}return i}},62538:e=>{e.exports={Client:"client_Client__85ovf"}},66066:(e,t,i)=>{"use strict";function r(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}i.d(t,{_:()=>r})},75687:(e,t,i)=>{"use strict";function r(e,t){return t.get?t.get.call(e):t.value}i.d(t,{_:()=>r})},76999:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});var r=i(29443);function n(e,t,i){(0,r._)(e,t),t.set(e,i)}},77674:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var r=i(75687),n=i(47878),l=i(1e3);function a(e,t,i){return(0,n._)(e,t),(0,l._)(i,"get"),(0,r._)(e,i)}},79105:(e,t,i)=>{"use strict";i.d(t,{K2:()=>a,KP:()=>n,Tj:()=>s,Ts:()=>l,Zu:()=>r});let r=0x7fffffff,n=123456,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=r,(t=t<0?t+r:t)>1)return t&r;if(0===t)return n;throw Error("Impossible. ".concat(t))},a=e=>e=Math.imul(e,48271)&r,s=e=>(e-1)/(r-1)},89868:(e,t,i)=>{"use strict";function r(e,t){if(t.set){if(!t.get)throw TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(v){t.set.call(e,v)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw TypeError("attempted to set read only private field");return t}i.d(t,{_:()=>r})},95119:(e,t,i)=>{"use strict";i.d(t,{Client:()=>S});var r=i(70691),n=i(24223),l=i(18479),a=i(36508),s=i(42206);let o={yellow:"#ffcc00",magenta:"#cc00ff",paleGreen:"#00ffcc",blue:"#00ccff",vibrantBlue:"#1c55ff",pink:"#ffccff",white:"#ffffff"};function c(){let{ref:e}=(0,l.useEffects)(function*(e){let t=e.querySelector("canvas"),i=new s.$x({direction:s.OP.Horizontal,offset:[100,100],size:[600,400],padding:10,gap:10,userData:{color:o.yellow}});i.add(new s.$x({direction:s.OP.Vertical,size:[".25rel","1rel"],spacing:10,userData:{color:o.vibrantBlue}}),new s.$x({direction:s.OP.Vertical,size:[".25rel","1rel"],spacing:10,userData:{color:o.vibrantBlue}}),new s.$x({direction:s.OP.Vertical,size:[".25rel","1rel"],spacing:10,userData:{color:o.vibrantBlue}}));for(let e=0;e<3;e++)i.get(0).add(new s.$x({size:"".concat(e+1,"fr"),spacing:10,userData:{color:o.paleGreen}}));i.computeLayout();let r=window.devicePixelRatio;t.width=800*r,t.height=600*r,t.style.width="800px",t.style.height="600px";let n=t.getContext("2d");for(let e of i.allDescendants({includeSelf:!0})){var l;n.lineWidth=2*r,n.strokeStyle=null!=(l=e.userData.color)?l:"#fff",n.strokeRect(...e.rect.tupple(r))}},[]);return(0,r.jsxs)("div",{ref:e,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,r.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,r.jsx)("div",{className:"text-center"})]})}var h=i(56905);class f{paint(e){let{ctx:t,pixelRatio:i}=this;t.clearRect(0,0,t.canvas.width,t.canvas.height),e.computeLayout();let r=e=>{let t=0;for(let i of e.allAncestors({includeSelf:!0}))t+=i.positioning===h.EU.Detached?100:1;return t};for(let n of[...e.allDescendants({includeSelf:!1})].filter(e=>!e.userData.skipPaint).sort((e,t)=>r(e)-r(t))){let e=n.rect.clone().multiplyScalar(i),r=function(e){let t;for(;!t&&e;){if(void 0!==(t=e.userData.color))return t;e=e.parent}return"#ffffff"}(n);n.userData.plain?(t.strokeStyle="",t.fillStyle=r,t.fillRect(e.x,e.y,e.width,e.height)):(t.lineWidth=2*i,t.strokeStyle=r,t.fillStyle="rgba(0, 0, 0, .5)",t.fillRect(e.x,e.y,e.width,e.height),t.strokeRect(e.x,e.y,e.width,e.height))}}constructor(e,{pixelRatio:t=window.devicePixelRatio,width:i=800,height:r=600}={}){e.width=i*t,e.height=r*t,e.style.width="".concat(i,"px"),e.style.height="".concat(r,"px"),this.ctx=e.getContext("2d"),this.pixelRatio=t,this.width=i,this.height=r}}function u(){let e=[10,30,90,0],t=[10,80],{ref:i}=(0,l.useEffects)(function*(i){let r=new f(i.querySelector("canvas")),n=new s.$x({direction:s.OP.Horizontal,size:[r.width,r.height],spacing:10,alignChildren:1}).add(new s.$x({userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}}).add(new s.$x({margin:e,userData:{color:o.yellow}})))))),new s.$x({userData:{color:o.paleGreen}}).add(new s.$x({margin:t,userData:{color:o.paleGreen}})),new s.$x({padding:10,userData:{color:o.magenta}}).add(new s.$x({margin:[0,60],marginRight:0,userData:{color:o.magenta}}),new s.$x({margin:[0,60],marginLeft:0,userData:{color:o.magenta}})));yield(0,a.xy)("layout",e=>{var t;null==(t=n.get(2))||t.set({padding:10+40*e.sin01Time({frequency:.2})}),r.paint(n)})},[]);return(0,r.jsxs)("div",{ref:i,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,r.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{children:"css-like margins:"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{style:{color:o.yellow},children:["4 values (",e.join(", "),") (top, right, bottom, left)"]}),(0,r.jsxs)("li",{style:{color:o.paleGreen},children:["2 values (",t.join(", "),") (vertical, horizontal)"]}),(0,r.jsxs)("li",{style:{color:o.magenta},children:["specific overrides: ",(0,r.jsx)("code",{children:"marginLeft"}),' overrides "2 values" declaration']})]})]})]})}function d(){let e=e=>{switch(e){case 40:return o.magenta;case 120:return o.paleGreen;default:return o.yellow}},{ref:t}=(0,l.useEffects)(function*(t){var i,r;let n=new f(t.querySelector("canvas"));function l(t){return{userData:{color:e(t)},margin:t}}let a=new s.$x({direction:s.OP.Horizontal,size:[n.width,n.height],spacing:10,alignChildren:1}).add(new s.$x({spacing:10,userData:{color:"#fff2"}}).add(new s.$x({...l(0)}),new s.$x({...l(0)}),new s.$x({...l(40)}),new s.$x({...l(40)}),new s.$x({...l(120)}),new s.$x({...l(0)})));null==(i=a.get(0,2))||i.add(new s.$x({positioning:h.EU.Detached,alignSelf:0,size:[38,38],offset:[-39,-39],userData:{color:"#fff2",plain:!0}})),null==(r=a.get(0,4))||r.add(new s.$x({positioning:h.EU.Detached,alignSelf:0,size:[118,118],offset:[-119,-119],userData:{color:"#fff2",plain:!0}})),n.paint(a)},[]);return(0,r.jsxs)("div",{ref:t,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,r.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{children:'Margins "collapse" when they are adjacent to each other or to the edge (padding) of the container.'}),(0,r.jsx)("p",{style:{color:e(0)},children:"margin: 0"}),(0,r.jsx)("p",{style:{color:e(40)},children:"margin: 40"}),(0,r.jsx)("p",{style:{color:e(120)},children:"margin: 120"})]})]})}var p=i(67203),g=i(36575),x=i(85795);let w=[{direction:s.OP.Horizontal,aspect:1},{direction:s.OP.Vertical,aspect:2},{direction:s.OP.Vertical,aspect:8},{direction:s.OP.Vertical,aspect:.5},{direction:s.OP.Horizontal,aspect:.5},{direction:s.OP.Horizontal,aspect:1/4}];function m(){let e=(0,p.useMemo)(()=>new x.ObservableNumber(0),[]),{ref:t}=(0,l.useEffects)(function*(t){let i=new f(t.querySelector("canvas")),{direction:r,aspect:n}=w[e.value],l=new s.$x({direction:r,size:[i.width,i.height],spacing:10,alignChildren:1}).add(new s.$x({alignChildren:.5,aspect:n,spacing:10,userData:{color:o.yellow}}).add(new s.$x({size:["50%","50%"]}),new s.$x({size:["10%","10%"]})),new s.$x({aspect:n,spacing:10,userData:{color:o.paleGreen}}).add(new s.$x,new s.$x),new s.$x({aspect:n,userData:{color:o.magenta}}));yield e.onChange(e=>{let{direction:t,aspect:i}=w[e];for(let e of(l.set({direction:t}),l.children))e.set({aspect:i})}),yield(0,a.xy)("layout",e=>{l.set({alignChildren:e.cos01Time({frequency:.1})}),l.get(2).set({alignSelf:e.cos01Time({frequency:.3})}),i.paint(l)})},[]),i=()=>{e.value=(e.value+1)%w.length};return(0,r.jsxs)("div",{ref:t,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,r.jsx)("canvas",{style:{border:"solid 2px #fff1",cursor:"pointer"},onClick:i}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("button",{className:"border border-white rounded px-2 py-1",onClick:i,children:[(0,r.jsxs)("span",{children:["Direction: ",s.OP[w[(0,g.A)(e)].direction],","]}),"\xa0",(0,r.jsxs)("span",{children:["Aspect: ",w[(0,g.A)(e)].aspect]})]})}),(0,r.jsxs)("p",{style:{color:o.magenta},children:[(0,r.jsx)("code",{children:"alignSelf"})," allows the children to override the parent's ",(0,r.jsx)("code",{children:"alignChildren"}),"."]})]})]})}var y=i(17099);function z(){let{ref:e}=(0,l.useEffects)(function*(e){let t=new f(e.querySelector("canvas"));y.c.reset();let i=new s.$x({direction:s.OP.Horizontal,size:[t.width,t.height],spacing:10,userData:{color:o.blue}}).add(new s.$x({direction:s.OP.Vertical,size:"1part",spacing:10,userData:{color:o.paleGreen}}).populate(5,{spacing:10}),new s.$x({direction:s.OP.Vertical,size:"2sh",userData:{color:o.magenta},spacing:10}),new s.$x({direction:s.OP.Vertical,size:"1part",spacing:10}).add(new s.$x().setSize("40"),new s.$x().setSize("1part"),new s.$x().setSize("40"),new s.$x().setSize("1part").setSpacing(10).add(new s.$x({direction:"vertical",size:"1part"}),new s.$x({direction:"vertical",size:"1part"}),new s.$x({direction:"vertical",size:"1part"})),new s.$x().setSize("40")),new s.$x().setPositioning("detached").setUserData({skipPaint:!0}).setPadding(20).setSize("1rel").add(new s.$x({positioning:s.EU.Detached,offset:["0rel","1rel"],size:".7sm"})));i.get(0,3).populate(3),i.get(1).add(new s.$x({positioning:s.EU.Detached,direction:s.OP.Vertical,size:90,spacing:10}).populate(4),new s.$x({positioning:s.EU.Detached,alignSelf:0,offset:[0,0],size:70,spacing:10}).populate(3),new s.$x({positioning:s.EU.Detached,alignSelf:[0,1],size:30,spacing:10}).populate(1),new s.$x({positioning:s.EU.Detached,alignSelf:1,size:50,spacing:10}).populate(2));let r=new s.$x({positioning:s.EU.Detached,size:30}).populate(3).addTo(i.get(0,3));for(let e of i.allDescendants({includeSelf:!0}))e.positioning===s.EU.Detached&&e.set({userData:{color:o.yellow}});i.computeLayout(),yield(0,a.xy)("layout",e=>{i.get([0]).sizeX.value=e.lerpCos01Time(2,1,{frequency:1/6}),i.get([1]).sizeX.value=e.lerpCos01Time(0,4,{frequency:1/6}),r.set({alignSelf:e.sin01Time({frequency:1/3})}),t.paint(i)})},[]);return(0,r.jsxs)("div",{ref:e,className:"flex flex-col justify-center gap-4",style:{flex:"0 0 800px"},children:[(0,r.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{children:["When positioning is set to ",(0,r.jsx)("code",{style:{color:o.yellow},children:"detached"}),", spaces are not affected by their parent's size."]})})]})}function b(){let{ref:e}=(0,l.useEffects)(function*(e){let t=e.querySelector("canvas"),i=new s.$x({direction:"vertical",size:[800,600],gap:12}).add(new s.$x({name:"header",size:["1rel",64],gap:12}),new s.$x({size:["1rel",10]}),new s.$x({name:"bottom",size:["1rel","1fr"],gap:12}).add(new s.$x({name:"left",size:["1fr","1rel"]}),new s.$x({size:[10,"1rel"]}),new s.$x({size:["1fr","1rel"]})));i.computeLayout();let r=window.devicePixelRatio;t.width=800*r,t.height=600*r,t.style.width="800px",t.style.height="600px";let n=t.getContext("2d"),l=function(e){let t=0,i=e.length;return()=>e[t++%i]}(Object.values(o));for(let e of i.allLeaves()){var a;n.lineWidth=2*r,n.strokeStyle=null!=(a=e.userData.color)?a:l(),n.strokeRect(...e.rect.tupple(r))}},[]);return(0,r.jsxs)("div",{ref:e,className:"flex flex-col items-center gap-4",style:{flex:"0 0 800px"},children:[(0,r.jsx)("canvas",{style:{border:"solid 2px #fff1"}}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{children:["\n            A test of layouting spaces inside a fraction unit. Everything is ok. I was\n            looking for a bug that was coming from another part of the code.\n          ",(0,r.jsx)("br",{}),"The test is still there, not very useful now, but can't be reused for something else."]})})]})}var A=i(62538),j=i.n(A);function S(){let{ref:e}=(0,l.useEffects)(function*(e){let[t,...i]=e.children;t.style.flex="0 0 ".concat((i.length-1)*800,"px");let r=a.Rv.get("layout").set({minActiveDuration:4});yield(0,n.O)(r.requestActivation)},[]);return(0,r.jsxs)("div",{ref:e,className:"".concat(j().Client," page overflow-scroll"),children:[(0,r.jsx)("div",{}),(0,r.jsx)(c,{}),(0,r.jsx)(u,{}),(0,r.jsx)(d,{}),(0,r.jsx)(m,{}),(0,r.jsx)(z,{}),(0,r.jsx)(b,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8939,146,487,3445,1319,6852,7358],()=>t(23645)),_N_E=e.O()}]);