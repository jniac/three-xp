(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4425],{888:(e,t,r)=>{"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{_:()=>n})},1e3:(e,t,r)=>{"use strict";function n(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}r.d(t,{_:()=>n})},7147:(e,t,r)=>{"use strict";r.d(t,{bI:()=>b,eR:()=>I});var n=r(888),i=r(30158);let o=["common","uv_pars_vertex","displacementmap_pars_vertex","color_pars_vertex","fog_pars_vertex","normal_pars_vertex","morphtarget_pars_vertex","skinning_pars_vertex","shadowmap_pars_vertex","logdepthbuf_pars_vertex","clipping_planes_pars_vertex","uv_vertex","color_vertex","morphcolor_vertex","beginnormal_vertex","morphnormal_vertex","skinbase_vertex","skinnormal_vertex","defaultnormal_vertex","normal_vertex","begin_vertex","morphtarget_vertex","skinning_vertex","displacementmap_vertex","project_vertex","logdepthbuf_vertex","clipping_planes_vertex","worldpos_vertex","shadowmap_vertex","fog_vertex","common","packing","dithering_pars_fragment","color_pars_fragment","uv_pars_fragment","map_pars_fragment","alphamap_pars_fragment","alphatest_pars_fragment","alphahash_pars_fragment","aomap_pars_fragment","lightmap_pars_fragment","emissivemap_pars_fragment","iridescence_fragment","cube_uv_reflection_fragment","envmap_common_pars_fragment","envmap_physical_pars_fragment","fog_pars_fragment","lights_pars_begin","normal_pars_fragment","lights_physical_pars_fragment","transmission_pars_fragment","shadowmap_pars_fragment","bumpmap_pars_fragment","normalmap_pars_fragment","clearcoat_pars_fragment","iridescence_pars_fragment","roughnessmap_pars_fragment","metalnessmap_pars_fragment","logdepthbuf_pars_fragment","clipping_planes_pars_fragment","clipping_planes_fragment","logdepthbuf_fragment","map_fragment","color_fragment","alphamap_fragment","alphatest_fragment","alphahash_fragment","roughnessmap_fragment","metalnessmap_fragment","normal_fragment_begin","normal_fragment_maps","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","emissivemap_fragment","lights_physical_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","aomap_fragment","transmission_fragment","opaque_fragment","tonemapping_fragment","colorspace_fragment","fog_fragment","premultiplied_alpha_fragment","dithering_fragment"];var a=r(49797),l=r(85795);class s{static from(e,t){if(t instanceof l.Observable){if("number"==typeof t.value)return new s(e,t);throw Error("Observable value must be a number")}let r=typeof t;return"object"===r&&(t.constructor===Object||t instanceof a.nc$)&&"value"in t?new s(e,t):"string"===r?new s(e,{value:new a.Q1f(t)}):new s(e,{value:t})}get value(){return this.target.value}computeDeclaration(){let e=this.name,t=this.target.value,r="";if(t instanceof Float32Array)return"uniform float ".concat(e,"[").concat(t.length,"];");if(Array.isArray(t)&&(r="[".concat(t.length,"]"),t=t[0]),"number"==typeof t)return"uniform float ".concat(e).concat(r,";");if(t.isVector2)return"uniform vec2 ".concat(e).concat(r,";");if(t.isVector3||t.isColor)return"uniform vec3 ".concat(e).concat(r,";");if(t.isVector4||t.isQuaternion)return"uniform vec4 ".concat(e).concat(r,";");if(t.isMatrix3)return"uniform mat3 ".concat(e).concat(r,";");if(t.isMatrix4)return"uniform mat4 ".concat(e).concat(r,";");if(t.isTexture)if(t.isCubeTexture)return"uniform samplerCube ".concat(e).concat(r,";");else return"uniform sampler2D ".concat(e).concat(r,";");throw console.log("unhandled value:",t),Error('unhandled value: "'.concat(null==t?void 0:t.constructor.name,'"'))}constructor(e,t){this.name=e,this.target=t}}function c(){let e=(0,n._)(["","s*",""],["","\\s*",""]);return c=function(){return e},e}let u=null,f=e=>(u=e,b),d="// ShaderForge (injected code) ->",p="// <- ShaderForge",h=e=>"".concat(d,"\n").concat(e.trim(),"\n").concat(p),m=e=>{let t=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=RegExp(String.raw(c(),t(p),t(d)),"g");return e.replaceAll(r,"")};class g{getPattern(e){let{throwError:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="#include <".concat(e,">"),n=this.type;if(t&&!1===u[n].includes(r))throw Error('"'.concat(r,'" is not present in the shader template program.'));return{pattern:r,type:n}}replace(e,t){if(e instanceof RegExp){let{type:r}=this;u[r]=u[r].replace(e,h(t))}else{let{type:r,pattern:n}=this.getPattern(e),i=h(t);u[r]=u[r].replace(n,i)}return b}inject(e,t,r){let{type:n,pattern:i}=this.getPattern(t),o="after"===e?"".concat(i,"\n").concat(h(r)):"".concat(h(r),"\n").concat(i);return u[n]=u[n].replace(i,o),b}injectTokenComments(){for(let e of o){let{type:t,pattern:r}=this.getPattern(e,{throwError:!1});u[t]=u[t].replace(r,"\n        ".concat(r,"\n        // ShaderForge TOKEN: ").concat(e,"\n      "))}return b}header(e){let t=this.type;return u[t]="".concat(e,"\n").concat(u[t]),b}before(e,t){return this.inject("before",e,t)}after(e,t){return this.inject("after",e,t)}top(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return u[this.type]=u[this.type].replace("void main() {","\n      ".concat(h(t.join("\n\n")),"\n      void main() {\n    ")),b}mainBeforeAll(e){return u[this.type]=u[this.type].replace("void main() {","void main() {\n        ".concat(h(e))),b}mainAfterAll(e){return u[this.type]=u[this.type].replace(/}\s*$/,"\n      ".concat(h(e),"\n    }")),b}uniforms(e){if("string"==typeof e)this.top(e);else{let t=[];for(let[r,n]of Object.entries(e)){let e=s.from(r,n);t.push(e.computeDeclaration())}this.top(t.join("\n")),function(e){for(let[t,r]of Object.entries(e)){let e=s.from(t,r);if(t in u.uniforms){if(e.value!==u.uniforms[t].value)throw Error("Shader redefinition! (Uniform values are not equal)")}else u.uniforms[t]=e}}(e)}return b}clean(){return u[this.type]=m(u[this.type]),b}printFinalCode(){return console.log(u[this.type].replace(/#include <(.*)>/g,(e,t)=>{let r=i.ShaderChunk[t];if(!r)throw Error('Shader chunk "'.concat(t,'" not found'));return r})),b}constructor(e){this.type=e}}let y={sf_vObjectPosition:()=>{w("\n      varying vec3 sf_vObjectPosition;\n    "),x.mainAfterAll("\n      sf_vObjectPosition = transformed;\n    ")},sf_vWorldPosition:()=>{w("\n      varying vec3 sf_vWorldPosition;\n    "),x.mainAfterAll("\n      vec4 sf_mvPosition = vec4(transformed,1.0 );\n      #ifdef USE_BATCHING\n        sf_mvPosition = batchingMatrix * sf_mvPosition;\n      #endif\n      #ifdef USE_INSTANCING\n        sf_mvPosition = instanceMatrix * sf_mvPosition;\n      #endif\n      sf_vWorldPosition = (modelMatrix * sf_mvPosition).xyz;\n    ")},sf_vWorldNormal:()=>{w("\n      varying vec3 sf_vWorldNormal;\n    "),x.mainAfterAll("\n      #ifdef USE_INSTANCING\n        sf_vWorldNormal = mat3(modelMatrix) * mat3(instanceMatrix) * normal;\n      #elif\n        sf_vWorldNormal = mat3(modelMatrix) * normal;\n      #endif\n\n      #ifdef FLIP_SIDED\n        sf_vWorldNormal = -sf_vWorldNormal;\n      #endif\n    ")}};function w(e){return x.top(e),_.top(e),b}let _=new g("fragmentShader"),x=new g("vertexShader"),b=Object.assign(function(e){return e&&f(e),b},{shaderName:function(e){return u.shaderName="".concat(e," (ShaderForge)"),b},defines:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=t[0];return"string"==typeof n&&(n=Object.fromEntries(t.map(e=>[e,""]))),u.defines?Object.assign(u.defines,n):u.defines=n,b},uniforms:function(e){return x.uniforms(e),_.uniforms(e),b},varying:function(e){let t="";if("string"==typeof e)t=e;else{let r=[];for(let[t,n]of Object.entries(e))r.push("varying ".concat(n," ").concat(t,";"));t=r.join("\n")}return x.top(t),_.top(t),b},createVarying:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e of t){let t=y[e];t?t():console.warn('No createVarying function found for "'.concat(e,'"'))}return b},top:w,vertex:x,fragment:_,header:function(e){return _.header(e),x.header(e),b},clean:function(){return _.clean(),x.clean(),b},with:f,wrap:(e,t)=>(e.onBeforeCompile=e=>{u=e},e)}),P=new a.Q1f;function I(e){if("string"==typeof e&&e.startsWith("#")){let{r:t,g:r,b:n}=function(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length){let t=parseInt(e[0],16)/15;return{r:t,g:parseInt(e[1],16)/15,b:parseInt(e[2],16)/15,a:1}}if(4===e.length){let t=parseInt(e[0],16)/15,r=parseInt(e[1],16)/15;return{r:t,g:r,b:parseInt(e[2],16)/15,a:parseInt(e[3],16)/15}}if(6===e.length){let t=parseInt(e.slice(0,2),16)/255;return{r:t,g:parseInt(e.slice(2,4),16)/255,b:parseInt(e.slice(4,6),16)/255,a:1}}if(8===e.length){let t=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255;return{r:t,g:r,b:parseInt(e.slice(4,6),16)/255,a:parseInt(e.slice(6,8),16)/255}}throw Error("Invalid hex format.")}(e);return"vec3(".concat(t.toFixed(3),", ").concat(r.toFixed(3),", ").concat(n.toFixed(3),")")}let{r:t,g:r,b:n}=P.set(e);return"vec3(".concat(t.toFixed(3),", ").concat(r.toFixed(3),", ").concat(n.toFixed(3),")")}},14005:(e,t,r)=>{"use strict";r.d(t,{Client:()=>z});var n=r(70691),i=r(1253),o=r(67203),a=r(49797),l=r(30158),s=r(55551),c=r(24223),u=r(99332),f=r(21667),d=r(18479),p=r(81835),h=r(31763),m=r(28062),g=r(16465),y=r(79911),w=r(29717),_=r(17099),x=r(80425),b=r(36508),P=r(15931),I=r(21277),E=r(16008);class O extends a.YJl{onTick(e){this.parts.rings.rotation.y+=.123*e.deltaTime,this.parts.rings.rotation.x+=.435*e.deltaTime}constructor(...e){super(...e),this.internal={ringGeometry:new a.O3Y(3,.01,16,128)},this.parts=(()=>{let e=(0,y.mj)(new a.YJl,{parent:this}),t=(0,y.mj)(new a.eaF(this.internal.ringGeometry,new g.Y({color:"#eb1640",luminosity:.8})),{parent:e,name:"ring-x",rotationY:"90deg"}),r=(0,y.mj)(new a.eaF(this.internal.ringGeometry,new g.Y({color:"#00ff9d",luminosity:.8})),{parent:e,name:"ring-y",rotationX:"90deg"}),n=(0,y.mj)(new a.eaF(this.internal.ringGeometry,new g.Y({color:"#3b80e7",luminosity:.8})),{parent:e,name:"ring-z"});return{rings:e,ringX:t,ringY:r,ringZ:n,torusKnot:(0,y.mj)(new a.eaF(new a.UPV(3,.1,512,64),new g.Y({luminosity:.8})),{parent:this,name:"torus-knot"})}})()}}class j extends a.Z58{constructor(...e){super(...e),this.parts={sky:(0,y.mj)(new I.N({color:"#027bff"}),{parent:this}),thing:(0,y.mj)(new O,{parent:this}),gridZ:(0,y.mj)(new P.P({step:.5}),{parent:this}),widget:(0,y.mj)(new E.XI,{parent:this})}}}class A extends a.BKk{constructor(){super({uniforms:{uResolution:{value:new a.IUQ},uRect:{value:new a.IUQ},map:{value:null}},vertexShader:"\n        uniform vec4 uResolution;\n        uniform vec4 uRect;\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position.xy = ((position.xy * 2.0 + 1.0) * uRect.zw + uRect.xy * 2.0) / uResolution.xy - 1.0; \n          gl_Position.z = 0.0;\n          gl_Position.w = 1.0;\n          // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D map;\n        varying vec2 vUv;\n        void main() {\n          gl_FragColor = texture2D(map, vUv);\n        }\n      ",transparent:!0,depthWrite:!1,depthTest:!1})}}class M extends a.eaF{*initialize(e,t){let{rt:r,scene:n,camera:i,vertigo:o,widget:l}=this.internal,s=this.material.uniforms.uResolution.value,c=this.material.uniforms.uRect.value,f=new a.I9Y,d=new a.I9Y(-1,-1),p=!1;yield(0,u.s)(e.domElement,{onDown:()=>{p=!0},onUp:()=>{p=!1},onChange:e=>{d.x=(e.localPosition.x-c.x)/c.z*2-1,d.y=-(e.localPosition.y/c.w*2-1)},onTap:()=>{switch(l.getPressed()){case E.KJ.BOX:t.actions.togglePerspective();break;case E.KJ.POSITIVE_X:t.actions.positiveXAlign();break;case E.KJ.NEGATIVE_X:t.actions.negativeXAlign();break;case E.KJ.POSITIVE_Y:t.actions.positiveYAlign();break;case E.KJ.NEGATIVE_Y:t.actions.negativeYAlign();break;case E.KJ.POSITIVE_Z:t.actions.positiveZAlign();break;case E.KJ.NEGATIVE_Z:t.actions.negativeZAlign()}}}),yield(0,b.xy)("three",{order:1},()=>{e.getSize(f),s.set(f.x,f.y,e.getPixelRatio(),0),c.x=f.x-c.z,c.y=f.y-c.w,o.rotation.copy(t.vertigo.rotation),o.perspective=t.vertigo.perspective,o.apply(i,1),l.widgetUpdate(d,p,i),d.x>=-1&&d.x<=1&&d.y>=-1&&d.y<=1&&(null!==l.getHovered()?document.body.style.cursor="pointer":document.body.style.removeProperty("cursor")),e.setRenderTarget(r),e.setClearColor("white",0),e.render(n,i),e.setRenderTarget(null)})}constructor({planeSize:e=120}={}){let t=new A;super(new a.bdM(1,1),t),this.vertigoControls=null;let r=2*e,n=new a.nWS(r,r,{format:a.GWd,colorSpace:"srgb"}),i=new a.Z58,o=new a.ubm,l=new p.B({perspective:1,size:[2.8,2.8]}),s=new E.XI;i.add(s),this.internal={rt:n,scene:i,camera:o,vertigo:l,widget:s},this.renderOrder=1,this.frustumCulled=!1,t.uniforms.map.value=this.internal.rt.texture,t.uniforms.uRect.value.set(10,10,e,e),this.position.x=2}}var N=r(56652),S=r.n(N);function C(e){let{vertigo:t}=e,{ref:r}=(0,d.useEffects)(function*(e){yield(0,b.xy)("three",{timeInterval:1/6},()=>{e.querySelector("pre").textContent=i.Ay.dump(t.toDeclaration(),{flowLevel:1}).replace(/-?\d+\.\d+/g,e=>(0,x.ZV)(Number.parseFloat(e),{maxDigits:6}))})},[]);return(0,n.jsx)("div",{ref:r,className:"self-start p-4 border border-white rounded text-xs ".concat(S().BgBlur),style:{minWidth:"24rem"},children:(0,n.jsx)("pre",{})})}class T extends a.YJl{onTick(e){for(let t of this.parts.cubes){let{angularVelocity:r}=t.userData;t.rotation.x+=r.x*e.deltaTime,t.rotation.y+=r.y*e.deltaTime,t.rotation.z+=r.z*e.deltaTime}}constructor(...e){super(...e),this.parts={knot:(0,y.mj)(new a.eaF(new a.UPV(1,.5,256,32),new g.Y),{parent:this}),knot2:(0,y.mj)(new a.eaF(new a.UPV(1.37,.05,256,32),new g.Y({color:E.Bn.xColor})),{parent:this}),cubes:Array.from({length:20},(e,t)=>{let r=_.c.between(-3,3),n=_.c.between(-1.5,1.5),i=_.c.between(-3,3),o=["".concat(_.c.between(0,360),"deg"),"".concat(_.c.between(0,360),"deg"),"".concat(_.c.between(0,360),"deg")],l=_.c.between(.5,1),c=(0,y.mj)(new a.eaF(new s.j(1),new g.Y({color:_.c.pick(Object.values(E.Bn))})),{parent:this,x:r,y:n,z:i,rotation:o,scaleScalar:l});return c.userData={angularVelocity:new a.O9p(_.c.between(-1,1),_.c.between(-1,1),_.c.between(-1,1))},c})}}}function z(){let e=(0,o.useMemo)(()=>{let e=new p.B({size:[4.2,4.2]}),t=new p.B({perspective:0,focus:[-10,3,0],size:[8,4],rotation:[0,"45deg",0]}),r=t.clone().set({perspective:1,size:t.size.clone().multiplyScalar(1.2)}),n=t.clone().set({perspective:1,size:t.size.clone().multiplyScalar(1.5),rotation:[0,"-15deg","-25deg"]}),i=new p.B({perspective:1,focus:[-4.5,1.8,10],size:[12,9],rotation:["-3deg","1deg","12deg"]}),o=new p.B({perspective:1,focus:[-4.5,1.8,14],size:i.size.clone().multiplyScalar(1.5),rotation:["-3deg","1deg","0deg"]}),a={main:e,a0:t,a1:r,a2:n,back:i,back2:o,zoom:new p.B({focus:[6,-4,0],size:[4,4],zoom:.25}),revert:new p.B({rotation:["12.6deg","145.3deg","0deg"],focus:[-5,-.5,3.6],size:[12,12],fov:"60deg"})},l=new h.n(a.main);return{vertigos:a,vertigoControls:l}},[]),{ref:t}=(0,d.useEffects)(function*(t){let{vertigoControls:r}=e,n=new l.WebGLRenderer({antialias:!0});n.outputColorSpace="srgb",t.prepend(n.domElement);let i=1;yield(0,f.G)(t,{onSize:()=>{n.setPixelRatio(window.devicePixelRatio),n.setSize(t.clientWidth,t.clientHeight),i=t.clientWidth/t.clientHeight}});let o=new a.ubm(75,1,.1,1e3);o.position.z=5,yield r.start(n.domElement);let s=new j,d=b.Rv.get("three");(0,c.O)(d.requestActivation);let p=new M;s.add(p),yield*p.initialize(n,r);let h=new a.I9Y,g=!1;for(let t of(yield d.onTick(e=>{e.propagate(s),s.parts.widget.widgetUpdate(h,g,o),null!==s.parts.widget.getHovered()?document.body.style.cursor="pointer":document.body.style.removeProperty("cursor"),r.update(o,i),n.render(s,o)}),yield(0,u.s)(n.domElement,{onChange:e=>{let{x:t,y:r}=e.relativeLocalPosition;h.set(2*t-1,-((2*r-1)*1))},onDown:()=>{g=!0},onUp:()=>{g=!1},onTap:()=>{let e=s.parts.widget.getPressed();switch(null!==e&&r.actions.focus([0,0,0]),e){case E.KJ.BOX:r.actions.togglePerspective();break;case E.KJ.POSITIVE_X:r.actions.positiveXAlign();break;case E.KJ.NEGATIVE_X:r.actions.negativeXAlign();break;case E.KJ.POSITIVE_Y:r.actions.positiveYAlign();break;case E.KJ.NEGATIVE_Y:r.actions.negativeYAlign();break;case E.KJ.POSITIVE_Z:r.actions.positiveZAlign();break;case E.KJ.NEGATIVE_Z:r.actions.negativeZAlign()}}}),Object.values(e.vertigos)))(0,y.mj)(new m.T(t),s);let w=new T;s.add(w),w.position.copy(e.vertigos.a0.focus),w.rotation.copy(e.vertigos.a0.rotation),yield()=>{n.dispose(),t.removeChild(n.domElement)}},[]),{vertigoControls:r}=e;return(0,n.jsx)("div",{ref:t,className:"".concat(S().VertigoWidgetClient," layer thru"),children:(0,n.jsxs)("div",{className:"layer thru p-4 flex flex-col gap-4 items-start",children:[(0,n.jsx)("h1",{className:"text-2xl self-start",children:"Vertigo-widget"}),(0,n.jsxs)("div",{className:"".concat(S().BgBlur," thru flex flex-col gap-1 items-start p-1 border border-white rounded"),style:{width:"min(200px, 30%)"},children:[(0,n.jsx)("h2",{children:"Actions:"}),(0,n.jsxs)("div",{className:"thru flex flex-row flex-wrap items-start gap-1",children:[(0,n.jsx)("button",{className:"".concat(S().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{w.X5.tween({target:r.vertigo,duration:1,ease:"inOut2",to:{perspective:0}})},children:"ortho"}),(0,n.jsx)("button",{className:"".concat(S().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{w.X5.tween({target:r.vertigo,duration:1,ease:"inOut2",to:{perspective:1}})},children:"pers:1"}),(0,n.jsx)("button",{className:"".concat(S().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{w.X5.tween({target:r.vertigo,duration:1,ease:"inOut2",to:{perspective:1.5}})},children:"pers:1.5"}),(0,n.jsx)("button",{className:"".concat(S().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{w.X5.tween({target:r.vertigo,duration:1,ease:"inOut2",to:{zoom:1}})},children:"zoom:1"}),(0,n.jsx)("button",{className:"".concat(S().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{w.X5.tween({target:r.vertigo,duration:.75,ease:"inOut2",to:{focus:new a.Pq0}})},children:"focus:(0,0,0)"})]})]}),(0,n.jsxs)("div",{className:"".concat(S().BgBlur," thru flex flex-col gap-1 items-start p-1 border border-white rounded"),style:{width:"min(200px, 30%)"},children:[(0,n.jsx)("h2",{children:"Presets:"}),(0,n.jsx)("div",{className:"flex flex-row gap-1 flex-wrap",children:Object.entries(e.vertigos).map(t=>{let[r,i]=t;return(0,n.jsx)("button",{className:"".concat(S().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{let t=e.vertigoControls.vertigo.clone();w.X5.during(1).onUpdate(r=>{let{progress:n}=r,o=w.X5.ease("inOut3")(n);e.vertigoControls.vertigo.lerpVertigos(t,i,o)})},children:r},r)})})]}),(0,n.jsx)("div",{className:"Space flex-1 pointer-events-none"}),(0,n.jsx)(C,{vertigo:r.vertigo})]})})}},15931:(e,t,r)=>{"use strict";r.d(t,{P:()=>l});var n=r(49797),i=r(94065),o=r(7147);let a={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0,depthOffset:0};class l extends n.DXC{set(e){let{color:t,opacity:r,size:o,step:l,frame:s,plane:c,depthOffset:u}={...a,...e},f=(0,i.wX)(o),d=(0,i.wX)(null!=l?l:f),p=[],h=(e,t)=>p.push(new n.Pq0(e,t,0));s&&(h(-f.x/2,f.y/2),h(f.x/2,f.y/2),h(f.x/2,f.y/2),h(f.x/2,-f.y/2),h(f.x/2,-f.y/2),h(-f.x/2,-f.y/2),h(-f.x/2,-f.y/2),h(-f.x/2,f.y/2));let m=Math.ceil(-f.x/2/d.x)*d.x;m===-f.x/2&&(m+=d.x);do h(m,-f.y/2),h(m,f.y/2),m+=d.x;while(m<f.x/2);let g=Math.ceil(-f.y/2/d.y)*d.y;g===-f.y/2&&(g+=d.y);do h(-f.x/2,g),h(f.x/2,g),g+=d.y;while(g<f.y/2);switch(this.geometry.setFromPoints(p),c){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.uniforms.uDepthOffset.value=u,this.material.color.set(t),this.material.opacity=r,this.material.transparent=r<1,this}constructor(e){let t=new n.mrM,r={uDepthOffset:{value:0}};t.onBeforeCompile=e=>o.bI.with(e).uniforms(r).vertex.mainAfterAll("\n        gl_Position.w += uDepthOffset;\n      "),super(void 0,t),this.uniforms=r,this.set(null!=e?e:a)}}},15940:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(29443);function i(e,t){(0,n._)(e,t),t.add(e)}},16008:(e,t,r)=>{"use strict";r.d(t,{Bn:()=>f,KJ:()=>l,XI:()=>h});var n=r(63126),i=r(49797),o=r(55551),a=r(38921),l=function(e){return e[e.BOX=0]="BOX",e[e.POSITIVE_X=1]="POSITIVE_X",e[e.NEGATIVE_X=2]="NEGATIVE_X",e[e.POSITIVE_Y=3]="POSITIVE_Y",e[e.NEGATIVE_Y=4]="NEGATIVE_Y",e[e.POSITIVE_Z=5]="POSITIVE_Z",e[e.NEGATIVE_Z=6]="NEGATIVE_Z",e}(l||{});function s(e,t){let r=new i.THS(new Int8Array(e.attributes.position.count).fill(t),1);e.setAttribute("aPartId",r)}function c(e,t,r){let n=new i.qFE(.2,.6000000000000001,e,r,!0).rotateZ(Math.PI).translate(0,.53,0),o=Array.from({length:t},(e,r)=>{let n=r/(t-1);return new i.I9Y(.2*n,-.05*(1-n**2))}),l=new i.nzx(o,e).rotateZ(Math.PI).translate(0,.2*3/2+.53,0);return(0,a.pP)([n,l],!1)}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"low",t="high"===e?(0,a.ec)(new o.j(.3,.3,.3,4,.05)):new i.iNn(.3,.3,.3);s(t,0);let r="high"===e?c(32,8,5):c(6,2,1);s(r,3);let n=r.clone().rotateX(Math.PI);s(n,4);let l=r.clone().rotateZ(-Math.PI/2);s(l,1);let u=r.clone().rotateZ(Math.PI/2);s(u,2);let f=r.clone().rotateX(Math.PI/2);s(f,5);let d=r.clone().rotateX(-Math.PI/2);return s(d,6),[t,l,u,r,n,f,d]}let f={defaultColor:"white",xColor:"#eb1640",yColor:"#00ffb7",zColor:"#3b80e7",hoverColor:"#fffc47"};function d(e){let{defaultColor:t,xColor:r,yColor:n,zColor:o,hoverColor:a}={...f,...e},l=new i.Q1f(t),s=new i.Q1f(r),c=new i.Q1f(n),u=new i.Q1f(o),d=new i.Q1f(a),p={uSunPosition:{value:new i.Pq0(.5,.7,.3)},uLuminosity:{value:.66},uColors:{value:[l,s,l,c,l,u,l]},uHoverColor:{value:d},uOpacity:{value:[1,1,1,1,1,1,1]},uHoverOpacity:{value:[0,0,0,0,0,0,0]}};return new i.BKk({uniforms:p,vertexShader:"\nuniform vec3 uColors[7];\nuniform float uOpacity[7];\nuniform vec3 uHoverColor;\nuniform float uHoverOpacity[7];\n\nattribute float aPartId;\n\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vPosition = position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  vColor = uColors[int(aPartId)];\n  vOpacity = uOpacity[int(aPartId)];\n  vHoverOpacity = uHoverOpacity[int(aPartId)];\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nuniform vec3 uSunPosition;\nuniform float uLuminosity;\nuniform vec3 uHoverColor;\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\nfloat inverseLerp(float a, float b, float x) {\n  return clamp01((x - a) / (b - a));\n}\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  \n  float minLuminosity = max(pow(vHoverOpacity, 1.0 / 3.0) * 0.85, uLuminosity);\n  light = mix(minLuminosity, 1.0, light);\n\n  vec3 color = vColor;\n  color = mix(color, uHoverColor, vHoverOpacity);\n  gl_FragColor = vec4(color * light, vOpacity);\n}\n",transparent:!0})}let p=new i.tBo;class h extends i.YJl{getHovered(){return this.internal.hovered}getPressed(){return this.internal.pressed}widgetUpdate(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/60,{lowMesh:a,material:l}=this.parts,s=new i.Pq0;r.getWorldDirection(s);let c=this.matrixWorld.elements,u=new i.Pq0(c[0],c[1],c[2]),f=new i.Pq0(c[4],c[5],c[6]),d=new i.Pq0(c[8],c[9],c[10]);{let e=l.uniforms.uOpacity.value,t=Math.abs(s.dot(u)),r=Math.abs(s.dot(f)),i=Math.abs(s.dot(d));e[1]=e[2]=(0,n.calculateExponentialDecay)(e[1],t<.98?1.05:-.05,1e-4,o),e[3]=e[4]=(0,n.calculateExponentialDecay)(e[3],r<.98?1.05:-.05,1e-4,o),e[5]=e[6]=(0,n.calculateExponentialDecay)(e[5],i<.98?1.05:-.05,1e-4,o)}{let e=l.uniforms.uHoverOpacity.value,t=+(0===this.internal.hovered),r=+(1===this.internal.hovered),i=+(2===this.internal.hovered),a=+(3===this.internal.hovered),s=+(4===this.internal.hovered),c=+(5===this.internal.hovered),u=+(6===this.internal.hovered);e[0]=(0,n.calculateExponentialDecay)(e[0],t,1e-4,o),e[1]=(0,n.calculateExponentialDecay)(e[1],r,1e-4,o),e[2]=(0,n.calculateExponentialDecay)(e[2],i,1e-4,o),e[3]=(0,n.calculateExponentialDecay)(e[3],a,1e-4,o),e[4]=(0,n.calculateExponentialDecay)(e[4],s,1e-4,o),e[5]=(0,n.calculateExponentialDecay)(e[5],c,1e-4,o),e[6]=(0,n.calculateExponentialDecay)(e[6],u,1e-4,o)}p.setFromCamera(e,r);let[h]=p.intersectObject(a,!0).map(e=>{let t=3*e.faceIndex;return a.geometry.groups.findIndex(e=>e.start<=t&&t<e.start+e.count)}).filter(e=>l.uniforms.uOpacity.value[e]>.5);t&&!1===this.internal.pointerDown&&(this.internal.pointerDown=!0,this.internal.pointerDownPosition.copy(e),this.internal.pressed=null!=h?h:null),t&&!1===this.internal.dragging&&this.internal.pointerDownPosition.distanceTo(e)>.01&&(this.internal.dragging=!0),!1===t&&this.internal.pointerDown&&(this.internal.pointerDown=!1,this.internal.dragging=!1,this.internal.pressed=null);let m=this.internal.dragging?null:null!=h?h:null;this.internal.hovered,this.internal.hovered=m}constructor(e){super(),this.internal={pointerPosition:new i.I9Y,pointerDownPosition:new i.I9Y,pointerDown:!1,dragging:!1,hovered:null,pressed:null};let t=d(null==e?void 0:e.material),r=u("high").map((e,r)=>{let n=new i.eaF(e,t);return n.name="vertigo-widget-mesh-".concat(r),this.add(n),n}),n=new i.eaF(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=u(...t);return(0,a.pP)(n,!0)}("low"),d(null==e?void 0:e.material));n.material.transparent=!1,n.name="vertigo-widget-low-mesh",n.visible=!1,this.add(n),this.parts={material:t,meshes:r,lowMesh:n}}}},16465:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(49797),i=r(7147);let o={shadowColor:"#808080",luminosity:1,rampPower:1,onBeforeCompile:void 0};class a extends n.V9B{constructor(e){let{rampPower:t,shadowColor:r,luminosity:a,onBeforeCompile:l,...s}={...o,...e},c={uSunPosition:{value:new n.Pq0(.5,.7,.3)},uShadowColor:{value:new n.Q1f(r)},uRampPower:{value:t},uLuminosity:{value:a}};super(s),this.onBeforeCompile=e=>{i.bI.with(e).uniforms(c).varying({vAutoLitWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vAutoLitWorldNormal = mat3(modelMatrix) * normal;\n          #ifdef USE_INSTANCING\n            vAutoLitWorldNormal = mat3(instanceMatrix) * vAutoLitWorldNormal;\n          #endif\n        ").fragment.after("map_fragment","\n          vec3 normal = normalize(vAutoLitWorldNormal);\n          vec3 lightDirection = normalize(uSunPosition);\n          float light = dot(normal, lightDirection) * 0.5 + 0.5;\n          light = pow(light, uRampPower);\n          diffuseColor.rgb *= mix(uShadowColor * uLuminosity, vec3(1.0), light);\n        "),null==l||l(e)},this.sunPosition=c.uSunPosition.value}}},17099:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(79105);let i=e=>e,o={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function a(){let e=(0,n.K2)((0,n.K2)((0,n.Ts)(n.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,n.K2)((0,n.K2)((0,n.Ts)(t))),u}function r(){return e=(0,n.K2)(e),(0,n.Tj)(e)}function a(e){switch(e.length){default:return[0,1,i];case 1:return[0,e[0],i];case 2:return[e[0],e[1],i];case 3:return[e[0],e[1],e[2]]}}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,o,l]=a(t);return i+(o-i)*l(r())}function s(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let[a,l,{weightsAreNormalized:s,indexOffset:c,forbiddenItems:u}]=function(e){let[t,r=null,n]=e,i={...o,...n};if(Array.isArray(t))return[t,r,i];if("object"==typeof t)return[Object.values(t),r?Object.values(r):null,i];throw Error("pick: unsupported options type")}(n);if(u.length>0){let t=new Set;for(let e of u){let r=a.indexOf(e);r>=0&&t.add(r)}if(a=a.filter((e,r)=>!t.has(r)),l=null!=(e=null==l?void 0:l.filter((e,r)=>!t.has(r)))?e:null,0===a.length)throw Error("pick: all items are forbidden")}if(null===l){let e=Math.floor(r()*a.length);return c&&(e+=c,(e%=a.length)<0&&(e+=a.length)),a[e]}if(!s){let e=l.reduce((e,t)=>e+t,0);l=l.map(t=>t/e)}let f=r(),d=0;for(let e=0;e<a.length;e++)if(f<(d+=l[e]))return a[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(),i=r(),o=Math.sqrt(-2*Math.log(n)),a=2*Math.PI*i;return[e+t*o*Math.cos(a),e+t*o*Math.sin(a)]}let u={seed:t,seedMax:function(){return n.Zu},reset:function(){return t(n.KP),u},next:function(){return e=(0,n.K2)(e),u},getState:function(){return e},setState:function(t){return e=t&n.Zu,u},random:r,between:l,around:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[o=1,a=i]=t,l=2*r();return(l>1?1:-1)*a(l>1?l-1:l)*o},int:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,o,l]=a(t);return i+Math.floor(l(r())*(o-i))},chance:function(e){return r()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&Array.isArray(e)?e:[...e],i=n.length;for(let e=0;e<i;e++){let t=Math.floor(i*r()),o=n[e];n[e]=n[t],n[t]=o}return n},pick:s,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),r=e.map(e=>{let[t,r]=e;return r}),n=r.reduce((e,t)=>e+t,0);for(let[e,t]of r.entries())r[e]=t/n;return()=>s(t,r,{weightsAreNormalized:!0})},vector:function(e,t){let[r=0,n=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=l(r,n);return e},unitVector2:function(e){let t=2*Math.PI*r();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=r(),n=r(),i=2*Math.PI*t,o=Math.acos(1-2*n);return e.x=Math.sin(o)*Math.cos(i),e.y=Math.sin(o)*Math.sin(i),e.z=Math.cos(o),e},normalVector:function(e){let t=Object.keys(e),r=t.length,n=Math.sqrt(r);for(let i=0;i<r;i+=2){let[o,a]=c();e[t[i]]=o/n,i+1<r&&(e[t[i+1]]=a/n)}return e},unitVector:function(e){let t=Object.keys(e),r=t.length,n=0;for(let i=0;i<r;i+=2){let[o,a]=c();e[t[i]]=o,n+=o*o,i+1<r&&(e[t[i+1]]=a,n+=a*a)}n=Math.sqrt(n);for(let i=0;i<r;i++)e[t[i]]/=n;return e},boxMuller:c,quaternion:function(e){let t=r(),n=r(),i=r(),o=Math.sqrt(1-t),a=Math.sqrt(t);return e.x=o*Math.sin(2*Math.PI*n),e.y=o*Math.cos(2*Math.PI*n),e.z=a*Math.sin(2*Math.PI*i),e.w=a*Math.cos(2*Math.PI*i),e},insideCircle:function(e,t){let n=2*r()*Math.PI,i=Math.sqrt(r())*e;return t.x=i*Math.cos(n),t.y=i*Math.sin(n),t}};return u}let l=class{constructor(e){Object.assign(this,a().seed(e))}};Object.assign(l,a())},20537:(e,t,r)=>{"use strict";function n(e){return!!(null==e?void 0:e.isVector3)}function i(e){return!!(null==e?void 0:e.isEuler)}function o(e){return!!(null==e?void 0:e.isQuaternion)}function a(e){return!!(null==e?void 0:e.isMatrix4)}function l(e){return!!(null==e?void 0:e.isObject3D)}function s(e){return!!(null==e?void 0:e.isMesh)}r.d(t,{MR:()=>a,Th:()=>l,Zz:()=>n,eB:()=>i,f7:()=>o,uW:()=>s})},21277:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(49797);let i=new n.WBB(1,4);class o extends n.eaF{constructor(e){super(i,new n.V9B({color:"#0c529d",...e,side:n.hsX,depthWrite:!1,depthTest:!1})),this.renderOrder=-1,this.frustumCulled=!1,this.matrixAutoUpdate=!1,this.onBeforeRender=(e,t,r)=>{let n=(r.near+r.far)/2;this.position.copy(r.position),this.scale.setScalar(n),this.updateMatrix(),this.updateMatrixWorld()}}}},21667:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});let n=new WeakMap,i=(e=>()=>{let t=n.get(e);if(void 0===t){let t=e();return n.set(e,t),t}return t})(()=>{let e=new WeakMap;return{resizeObserver:new ResizeObserver(t=>{for(let r of t){let t=e.get(r.target);if(t)for(let e of t)e(r)}}),resizeObserverMap:e}});class o{get width(){return this.size.x}get height(){return this.size.y}get aspect(){return this.size.x/this.size.y}constructor(e,t){this.element=e,this.size=t}}function a(e,t){let{onSize:r}=function(e){if("function"==typeof e)return{onSize:e};let{onSize:t=()=>{}}=null!=e?e:{};return{onSize:t}}(t),n=new DOMPoint(0,0);if(e instanceof Window){let t=()=>{n.x=window.innerWidth,n.y=window.innerHeight,r(new o(e,n))};return e.addEventListener("resize",t),t(),{destroy:()=>{e.removeEventListener("resize",t)}}}{var a;let{resizeObserver:t,resizeObserverMap:l}=i();t.observe(e);let s=null!=(a=l.get(e))?a:new Set,c=t=>{n.x=t.contentRect.width,n.y=t.contentRect.height,r(new o(e,n))};return l.set(e,s),s.add(c),{destroy:()=>{let r=l.get(e);if(!r)throw Error("Wtf??? No callbacks found for element");r.delete(c),0===r.size&&(l.delete(e),t.unobserve(e))}}}}},23127:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(89868),i=r(47878),o=r(1e3);function a(e,t,r){return(0,i._)(e,t),(0,o._)(r,"update"),(0,n._)(e,r)}},28535:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(75687),i=r(44138);function o(e,t){var r=(0,i._)(e,t,"get");return(0,n._)(e,r)}},29443:(e,t,r)=>{"use strict";function n(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}r.d(t,{_:()=>n})},39787:(e,t,r)=>{"use strict";r.d(t,{el:()=>c,zr:()=>a});var n=r(28535),i=r(76999),o=r(57368);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e of t.flat(2))"destroy"in e?e.destroy():e()}var l=new WeakMap,s=new WeakMap;class c{get destroyed(){return(0,n._)(this,s)}get alive(){return!(0,n._)(this,s)}bindTo(e){return(0,n._)(this,s)||e.onDestroy(this),this}onDestroy(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if((0,n._)(this,s))return{destroy:()=>{}};let i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=[];for(let e of t)if(e)if(Symbol.iterator in e)for(let t of e)t&&n.push(t);else n.push(e);return n}(...t);for(let e of i)(0,n._)(this,l).add(e);return{destroy:()=>{for(let e of i)(0,n._)(this,l).delete(e)}}}collect(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.onDestroy(...t)}destroySelf(){if(!(0,n._)(this,s)){for(let e of((0,o._)(this,s,!0),(0,n._)(this,l)))"function"==typeof e?e():"destroy"in e&&e.destroy();(0,n._)(this,l).clear()}}constructor(e){(0,i._)(this,l,{writable:!0,value:void 0}),(0,i._)(this,s,{writable:!0,value:void 0}),(0,o._)(this,l,new Set),(0,o._)(this,s,!1),this.destroy=()=>{this.destroySelf()},this.customData=null!=e?e:null}}},44019:(e,t,r)=>{"use strict";r.d(t,{jj:()=>o});var n=r(49797),i=r(44694);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.Pq0;return i.jj(e,t)}},44138:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r.d(t,{_:()=>n})},47878:(e,t,r)=>{"use strict";function n(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}r.d(t,{_:()=>n})},56652:e=>{e.exports={VertigoWidgetClient:"vertigo_VertigoWidgetClient__UIsqY",BgBlur:"vertigo_BgBlur__om6v3"}},57368:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(44138);function i(e,t,r){var i=(0,n._)(e,t,"set");if(i.set)i.set.call(e,r);else{if(!i.writable)throw TypeError("attempted to set read only private field");i.value=r}return r}},61249:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(49797),i=r(94065);new n.Pq0(0,0,0),new n.O9p(0,0,0,"XYZ"),new n.Pq0(1,1,1);let o={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,rotationOrder:"XYZ",rotationUnit:"rad",scaleX:1,scaleY:1,scaleZ:1,scaleScalar:1,pivot:void 0,visible:void 0,name:void 0,parent:void 0,userData:void 0},a=new n.dwI,l=new n.Pq0;function s(e,t){let{x:r,y:s,z:c,position:u=new n.Pq0(r,s,c),rotationX:f,rotationY:d,rotationZ:p,rotationOrder:h,rotationUnit:m,rotation:g,scaleX:y,scaleY:w,scaleZ:_,scaleScalar:x,scale:b=new n.Pq0(y,w,_).multiplyScalar(x),pivot:P,visible:I,name:E,parent:O,userData:j}={...o,...t};return(0,i.jj)(u,e.position),(0,i.if)(null!=g?g:[f,d,p,h,m],e.rotation),(0,i.jj)(b,e.scale),void 0!==P&&(e.updateMatrix(),a.setFromMatrix4(e.matrix),(0,i.jj)(P,l).applyMatrix3(a),e.position.sub(l)),void 0!==I&&(e.visible=I),void 0!==E&&(e.name=E),void 0!==O&&O!==e.parent&&(null===O?e.removeFromParent():O.add(e)),void 0!==j&&Object.assign(e.userData,j),e}},66066:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r}r.d(t,{_:()=>n})},66620:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(89868),i=r(44138);function o(e,t){var r=(0,i._)(e,t,"update");return(0,n._)(e,r)}},75687:(e,t,r)=>{"use strict";function n(e,t){return t.get?t.get.call(e):t.value}r.d(t,{_:()=>n})},76999:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(29443);function i(e,t,r){(0,n._)(e,t),t.set(e,r)}},77176:(e,t,r)=>{Promise.resolve().then(r.bind(r,14005))},77674:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(75687),i=r(47878),o=r(1e3);function a(e,t,r){return(0,i._)(e,t),(0,o._)(r,"get"),(0,n._)(e,r)}},79105:(e,t,r)=>{"use strict";r.d(t,{K2:()=>a,KP:()=>i,Tj:()=>l,Ts:()=>o,Zu:()=>n});let n=0x7fffffff,i=123456,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=n,(t=t<0?t+n:t)>1)return t&n;if(0===t)return i;throw Error("Impossible. ".concat(t))},a=e=>e=Math.imul(e,48271)&n,l=e=>(e-1)/(n-1)},79911:(e,t,r)=>{"use strict";r.d(t,{$z:()=>u,DN:()=>l,mj:()=>a,rd:()=>s,wV:()=>d});var n=r(49797),i=r(20537),o=r(61249);function a(e,t,r){if(!1===(0,i.Th)(e))throw Error("Child must be an instance of Object3D");return t&&((0,i.Th)(t)?t.add(e):(0,o.N)(e,t)),null==r||r(e),e}let l=a;function s(e,t){let r=t;for(;r.parent;){if(r.parent===e)return!0;r=r.parent}return!1}let c={includeSelf:!1};function*u(e,t){let{includeSelf:r}={...c,...t};for(let t of(r&&(yield e),e.children))yield*u(t,{includeSelf:!0})}let f={includeSelf:!1,root:null,includeRoot:!1};function*d(e,t,r){let i=void 0===t?()=>!0:null===t?()=>!1:"string"==typeof t?e=>e.name===t||e.uuid===t:t instanceof RegExp?e=>t.test(e.name):t.prototype&&t.prototype instanceof n.B69?e=>e instanceof t:e=>!!t(e);for(let t of u(e,r))i(t)&&(yield t)}},81835:(e,t,r)=>{"use strict";r.d(t,{B:()=>n.B});var n=r(55362)},89868:(e,t,r)=>{"use strict";function n(e,t){if(t.set){if(!t.get)throw TypeError("attempted to read set only private field");return"__destrWrapper"in t||(t.__destrWrapper={set value(v){t.set.call(e,v)},get value(){return t.get.call(e)}}),t.__destrWrapper}if(!t.writable)throw TypeError("attempted to set read only private field");return t}r.d(t,{_:()=>n})},94065:(e,t,r)=>{"use strict";r.d(t,{ey:()=>i.ey,if:()=>s,Fx:()=>d,vl:()=>g,GD:()=>_,wX:()=>p,jj:()=>h,EC:()=>m,wz:()=>i.wz});var n=r(49797),i=r(44694),o=r(20537);function a(e){return"string"==typeof e&&/^(XYZ|XZY|YXZ|YZX|ZXY|ZYX)$/.test(e)}let l={defaultOrder:"XYZ"};function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[s,c,u]=(()=>{if(1===t.length)return[t[0],l,new n.O9p];if(2===t.length)return(0,o.eB)(t[1])?[t[0],l,t[1]]:[t[0],t[1],new n.O9p];if(3===t.length)return t;throw Error("Invalid number of arguments")})();if("string"==typeof s)return function e(t,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n.O9p,l=(t=t.replace(/\s+\/\s+/g,"/").trim()).split(",").map(e=>e.trim()),[s,c="",u="",f]=l;if(1===l.length&&/\s/.test(t))return console.warn("Detected a single string with spaces, treating it as an Euler declaration string. Commas are expected to separate values."),e(t.replace(/\s/,","),r,o);let d=(0,i.ey)(s)||0,p=(0,i.ey)(c)||0,h=(0,i.ey)(u)||0,m=a(f)?f:r.defaultOrder;return o.set(d,p,h,m)}(s,c,u);if("number"==typeof s)return u.set(s,s,s);if((0,o.eB)(s))return u.copy(s);if((0,o.f7)(s))return u.setFromQuaternion(s);let{defaultOrder:f}=c;if(Array.isArray(s)){let[e,t,r,n,o]=s,l=(0,i.Qm)(n)?n:(0,i.Qm)(o)?o:"rad",c=a(n)?n:a(o)?o:f;return u.set((0,i.ey)(e,l),(0,i.ey)(t,l),(0,i.ey)(r,l),c)}let{x:d,y:p,z:h,order:m=f,unit:g="rad"}=s;return u.set((0,i.ey)(d,g),(0,i.ey)(p,g),(0,i.ey)(h,g),m)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.Pq0;if((0,i.LV)(e))return h(e,t);if("string"==typeof e){let[r,n]=e,i="+"===r?1:-1;switch(n){case"x":return t.set(i,0,0);case"y":return t.set(0,i,0);case"z":return t.set(0,0,i);default:throw Error("Invalid normal declaration: ".concat(e))}}throw Error("Invalid normal declaration")}let u=new n.Pq0,f=new n.Pq0;function d(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.Zcv;u.set(0,0,1),f.set(0,0,0);let o=u.length();if("string"==typeof(t=e)&&/^[+-][xyz]$/.test(t)||(0,i.LV)(t))c(e,u);else if(Array.isArray(e)){if(2!==e.length)throw Error("Invalid plane declaration: expected an array of length 2");c(e[0],u),h(e[1],f)}if(0===o)throw Error("Invalid plane normal: zero vector");return r.setFromNormalAndCoplanarPoint(u.divideScalar(o),f)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.I9Y;return i.wX(e,t)}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.Pq0;return i.jj(e,t)}function m(e,t){return null!=t||(t=new n.IUQ),i.EC(e,t)}r(44019);let g=(()=>{let e=new n.Pq0,t=new n.O9p,r=new n.Pq0,i=new n.PTz;return function(n,a){let{x:l=0,y:c=0,z:u=0,position:f={x:l,y:c,z:u},rotationX:d=0,rotationY:p=0,rotationZ:m=0,rotationOrder:g="XYZ",rotation:y={x:d,y:p,z:m,order:g},scaleX:w=1,scaleY:_=1,scaleZ:x=1,scaleScalar:b=1,scale:P={x:w,y:_,z:x}}=n;if((0,o.MR)(a))return h(f,e),s(y,t),h(P,r).multiplyScalar(b),i.setFromEuler(t),a.compose(e,i,r);if((0,o.Th)(a))return h(f,a.position),s(y,a.rotation),h(P,a.scale).multiplyScalar(b),a;throw Error("Invalid out argument")}})(),y=new n.kn4,w=new n.kn4;function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;t.identity();let r=e[Symbol.iterator](),n=r.next();if(n.done)return t;g(n.value,t);for(let e=r.next();!e.done;e=r.next())g(e.value,w),t.multiply(w);return t}}},e=>{var t=t=>e(e.s=t);e.O(0,[8939,5611,7190,6564,8921,7953,8907,146,487,3445,9332,9717,1763,1319,6852,7358],()=>t(77176)),_N_E=e.O()}]);