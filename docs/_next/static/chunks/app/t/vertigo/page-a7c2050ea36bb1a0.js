(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{888:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:()=>r})},9723:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(49797),i=n(60041);let o={luminosity:.5};class a extends r.V9B{constructor(e){let{luminosity:t,...n}={...o,...e},a={uSunPosition:{value:new r.Pq0(.5,.7,.3)},uLuminosity:{value:t}};super(n),this.onBeforeCompile=e=>{i.b.with(e).uniforms(a).varying({vWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vWorldNormal = mat3(modelMatrix) * normal;\n      ").fragment.after("map_fragment","\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        diffuseColor *= light;\n      ")},this.sunPosition=a.uSunPosition.value}}},17099:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(79105);let i=e=>e,o={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function a(){let e=(0,r.K2)((0,r.K2)((0,r.Ts)(r.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,r.K2)((0,r.K2)((0,r.Ts)(t))),u}function n(){return e=(0,r.K2)(e),(0,r.Tj)(e)}function a(e){switch(e.length){default:return[0,1,i];case 1:return[0,e[0],i];case 2:return[e[0],e[1],i];case 3:return[e[0],e[1],e[2]]}}function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o,l]=a(t);return i+(o-i)*l(n())}function s(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];let[a,l,{weightsAreNormalized:s,indexOffset:c,forbiddenItems:u}]=function(e){let[t,n=null,r]=e,i={...o,...r};if(Array.isArray(t))return[t,n,i];if("object"==typeof t)return[Object.values(t),n?Object.values(n):null,i];throw Error("pick: unsupported options type")}(r);if(u.length>0){let t=new Set;for(let e of u){let n=a.indexOf(e);n>=0&&t.add(n)}if(a=a.filter((e,n)=>!t.has(n)),l=null!=(e=null==l?void 0:l.filter((e,n)=>!t.has(n)))?e:null,0===a.length)throw Error("pick: all items are forbidden")}if(null===l){let e=Math.floor(n()*a.length);return c&&(e+=c,(e%=a.length)<0&&(e+=a.length)),a[e]}if(!s){let e=l.reduce((e,t)=>e+t,0);l=l.map(t=>t/e)}let d=n(),h=0;for(let e=0;e<a.length;e++)if(d<(h+=l[e]))return a[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),i=n(),o=Math.sqrt(-2*Math.log(r)),a=2*Math.PI*i;return[e+t*o*Math.cos(a),e+t*o*Math.sin(a)]}let u={seed:t,seedMax:function(){return r.Zu},reset:function(){return t(r.KP),u},next:function(){return e=(0,r.K2)(e),u},getState:function(){return e},setState:function(t){return e=t&r.Zu,u},random:n,between:l,around:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o=1,a=i]=t,l=2*n();return(l>1?1:-1)*a(l>1?l-1:l)*o},int:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o,l]=a(t);return i+Math.floor(l(n())*(o-i))},chance:function(e){return n()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t&&Array.isArray(e)?e:[...e],i=r.length;for(let e=0;e<i;e++){let t=Math.floor(i*n()),o=r[e];r[e]=r[t],r[t]=o}return r},pick:s,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),n=e.map(e=>{let[t,n]=e;return n}),r=n.reduce((e,t)=>e+t,0);for(let[e,t]of n.entries())n[e]=t/r;return()=>s(t,n,{weightsAreNormalized:!0})},vector:function(e,t){let[n=0,r=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=l(n,r);return e},unitVector2:function(e){let t=2*Math.PI*n();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=n(),r=n(),i=2*Math.PI*t,o=Math.acos(1-2*r);return e.x=Math.sin(o)*Math.cos(i),e.y=Math.sin(o)*Math.sin(i),e.z=Math.cos(o),e},normalVector:function(e){let t=Object.keys(e),n=t.length,r=Math.sqrt(n);for(let i=0;i<n;i+=2){let[o,a]=c();e[t[i]]=o/r,i+1<n&&(e[t[i+1]]=a/r)}return e},unitVector:function(e){let t=Object.keys(e),n=t.length,r=0;for(let i=0;i<n;i+=2){let[o,a]=c();e[t[i]]=o,r+=o*o,i+1<n&&(e[t[i+1]]=a,r+=a*a)}r=Math.sqrt(r);for(let i=0;i<n;i++)e[t[i]]/=r;return e},boxMuller:c,quaternion:function(e){let t=n(),r=n(),i=n(),o=Math.sqrt(1-t),a=Math.sqrt(t);return e.x=o*Math.sin(2*Math.PI*r),e.y=o*Math.cos(2*Math.PI*r),e.z=a*Math.sin(2*Math.PI*i),e.w=a*Math.cos(2*Math.PI*i),e},insideCircle:function(e,t){let r=2*n()*Math.PI,i=Math.sqrt(n())*e;return t.x=i*Math.cos(r),t.y=i*Math.sin(r),t}};return u}let l=class{constructor(e){Object.assign(this,a().seed(e))}};Object.assign(l,a())},25809:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(49797),i=n(22641);let o={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0};class a extends r.DXC{set(e){let{color:t,opacity:n,size:a,step:l,frame:s,plane:c}={...o,...e},u=(0,i.wX)(a),d=(0,i.wX)(null!=l?l:u),h=[],p=(e,t)=>h.push(new r.Pq0(e,t,0));s&&(p(-u.x/2,u.y/2),p(u.x/2,u.y/2),p(u.x/2,u.y/2),p(u.x/2,-u.y/2),p(u.x/2,-u.y/2),p(-u.x/2,-u.y/2),p(-u.x/2,-u.y/2),p(-u.x/2,u.y/2));let g=Math.ceil(-u.x/2/d.x)*d.x;g===-u.x/2&&(g+=d.x);do p(g,-u.y/2),p(g,u.y/2),g+=d.x;while(g<u.x/2);let v=Math.ceil(-u.y/2/d.y)*d.y;v===-u.y/2&&(v+=d.y);do p(-u.x/2,v),p(u.x/2,v),v+=d.y;while(v<u.y/2);switch(this.geometry.setFromPoints(h),c){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.material.color.set(t),this.material.opacity=n,this.material.transparent=n<1,this}constructor(e){super(),this.set(null!=e?e:o)}}},25851:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>d,KJ:()=>l,XI:()=>g});var r=n(63126),i=n(49797),o=n(55551),a=n(38921),l=function(e){return e[e.BOX=0]="BOX",e[e.POSITIVE_X=1]="POSITIVE_X",e[e.NEGATIVE_X=2]="NEGATIVE_X",e[e.POSITIVE_Y=3]="POSITIVE_Y",e[e.NEGATIVE_Y=4]="NEGATIVE_Y",e[e.POSITIVE_Z=5]="POSITIVE_Z",e[e.NEGATIVE_Z=6]="NEGATIVE_Z",e}(l||{});function s(e,t){let n=new i.THS(new Int8Array(e.attributes.position.count).fill(t),1);e.setAttribute("aPartId",n)}function c(e,t,n){let r=new i.qFE(.2,.6000000000000001,e,n,!0).rotateZ(Math.PI).translate(0,.53,0),o=Array.from({length:t},(e,n)=>{let r=n/(t-1);return new i.I9Y(.2*r,-.05*(1-r**2))}),l=new i.nzx(o,e).rotateZ(Math.PI).translate(0,.2*3/2+.53,0);return(0,a.pP)([r,l],!1)}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"low",t="high"===e?(0,a.ec)(new o.j(.3,.3,.3,4,.05)):new i.iNn(.3,.3,.3);s(t,0);let n="high"===e?c(32,8,5):c(6,2,1);s(n,3);let r=n.clone().rotateX(Math.PI);s(r,4);let l=n.clone().rotateZ(-Math.PI/2);s(l,1);let u=n.clone().rotateZ(Math.PI/2);s(u,2);let d=n.clone().rotateX(Math.PI/2);s(d,5);let h=n.clone().rotateX(-Math.PI/2);return s(h,6),[t,l,u,n,r,d,h]}let d={defaultColor:"white",xColor:"#eb1640",yColor:"#00ffb7",zColor:"#3b80e7",hoverColor:"#fffc47"};function h(e){let{defaultColor:t,xColor:n,yColor:r,zColor:o,hoverColor:a}={...d,...e},l=new i.Q1f(t),s=new i.Q1f(n),c=new i.Q1f(r),u=new i.Q1f(o),h=new i.Q1f(a),p={uSunPosition:{value:new i.Pq0(.5,.7,.3)},uLuminosity:{value:.66},uColors:{value:[l,s,l,c,l,u,l]},uHoverColor:{value:h},uOpacity:{value:[1,1,1,1,1,1,1]},uHoverOpacity:{value:[0,0,0,0,0,0,0]}};return new i.BKk({uniforms:p,vertexShader:"\nuniform vec3 uColors[7];\nuniform float uOpacity[7];\nuniform vec3 uHoverColor;\nuniform float uHoverOpacity[7];\n\nattribute float aPartId;\n\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vPosition = position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  vColor = uColors[int(aPartId)];\n  vOpacity = uOpacity[int(aPartId)];\n  vHoverOpacity = uHoverOpacity[int(aPartId)];\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nuniform vec3 uSunPosition;\nuniform float uLuminosity;\nuniform vec3 uHoverColor;\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\nfloat inverseLerp(float a, float b, float x) {\n  return clamp01((x - a) / (b - a));\n}\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  \n  float minLuminosity = max(pow(vHoverOpacity, 1.0 / 3.0) * 0.85, uLuminosity);\n  light = mix(minLuminosity, 1.0, light);\n\n  vec3 color = vColor;\n  color = mix(color, uHoverColor, vHoverOpacity);\n  gl_FragColor = vec4(color * light, vOpacity);\n}\n",transparent:!0})}let p=new i.tBo;class g extends i.YJl{getHovered(){return this.internal.hovered}getPressed(){return this.internal.pressed}widgetUpdate(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/60,{lowMesh:a,material:l}=this.parts,s=new i.Pq0;n.getWorldDirection(s);let c=this.matrixWorld.elements,u=new i.Pq0(c[0],c[1],c[2]),d=new i.Pq0(c[4],c[5],c[6]),h=new i.Pq0(c[8],c[9],c[10]);{let e=l.uniforms.uOpacity.value,t=Math.abs(s.dot(u)),n=Math.abs(s.dot(d)),i=Math.abs(s.dot(h));e[1]=e[2]=(0,r.calculateExponentialDecay)(e[1],t<.98?1.05:-.05,1e-4,o),e[3]=e[4]=(0,r.calculateExponentialDecay)(e[3],n<.98?1.05:-.05,1e-4,o),e[5]=e[6]=(0,r.calculateExponentialDecay)(e[5],i<.98?1.05:-.05,1e-4,o)}{let e=l.uniforms.uHoverOpacity.value,t=+(0===this.internal.hovered),n=+(1===this.internal.hovered),i=+(2===this.internal.hovered),a=+(3===this.internal.hovered),s=+(4===this.internal.hovered),c=+(5===this.internal.hovered),u=+(6===this.internal.hovered);e[0]=(0,r.calculateExponentialDecay)(e[0],t,1e-4,o),e[1]=(0,r.calculateExponentialDecay)(e[1],n,1e-4,o),e[2]=(0,r.calculateExponentialDecay)(e[2],i,1e-4,o),e[3]=(0,r.calculateExponentialDecay)(e[3],a,1e-4,o),e[4]=(0,r.calculateExponentialDecay)(e[4],s,1e-4,o),e[5]=(0,r.calculateExponentialDecay)(e[5],c,1e-4,o),e[6]=(0,r.calculateExponentialDecay)(e[6],u,1e-4,o)}p.setFromCamera(e,n);let[g]=p.intersectObject(a,!0).map(e=>{let t=3*e.faceIndex;return a.geometry.groups.findIndex(e=>e.start<=t&&t<e.start+e.count)}).filter(e=>l.uniforms.uOpacity.value[e]>.5);t&&!1===this.internal.pointerDown&&(this.internal.pointerDown=!0,this.internal.pointerDownPosition.copy(e),this.internal.pressed=null!=g?g:null),t&&!1===this.internal.dragging&&this.internal.pointerDownPosition.distanceTo(e)>.01&&(this.internal.dragging=!0),!1===t&&this.internal.pointerDown&&(this.internal.pointerDown=!1,this.internal.dragging=!1,this.internal.pressed=null);let v=this.internal.dragging?null:null!=g?g:null;this.internal.hovered,this.internal.hovered=v}constructor(e){super(),this.internal={pointerPosition:new i.I9Y,pointerDownPosition:new i.I9Y,pointerDown:!1,dragging:!1,hovered:null,pressed:null};let t=h(null==e?void 0:e.material),n=u("high").map((e,n)=>{let r=new i.eaF(e,t);return r.name="vertigo-widget-mesh-".concat(n),this.add(r),r}),r=new i.eaF(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=u(...t);return(0,a.pP)(r,!0)}("low"),h(null==e?void 0:e.material));r.material.transparent=!1,r.name="vertigo-widget-low-mesh",r.visible=!1,this.add(r),this.parts={material:t,meshes:n,lowMesh:r}}}},44455:(e,t,n)=>{Promise.resolve().then(n.bind(n,97204))},49617:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});let r=new WeakMap,i=(e=>()=>{let t=r.get(e);if(void 0===t){let t=e();return r.set(e,t),t}return t})(()=>{let e=new WeakMap;return{resizeObserver:new ResizeObserver(t=>{for(let r of t){var n;null==(n=e.get(r.target))||n(r)}}),resizeObserverMap:e}});class o{get aspect(){return this.size.x/this.size.y}constructor(e,t){this.element=e,this.size=t}}function a(e,t){let{onSize:n}=function(e){if("function"==typeof e)return{onSize:e};let{onSize:t=()=>{}}=null!=e?e:{};return{onSize:t}}(t),r=new DOMPoint(0,0);if(e instanceof Window){let t=()=>{r.x=window.innerWidth,r.y=window.innerHeight,n(new o(e,r))};return e.addEventListener("resize",t),t(),{destroy:()=>{e.removeEventListener("resize",t)}}}{let{resizeObserver:t,resizeObserverMap:a}=i();return t.observe(e),a.set(e,t=>{r.x=t.contentRect.width,r.y=t.contentRect.height,n(new o(e,r))}),{destroy:()=>t.unobserve(e)}}}},64411:e=>{e.exports={VertigoWidgetClient:"vertigo_VertigoWidgetClient__tDfOf",BgBlur:"vertigo_BgBlur__WC2S2"}},75687:(e,t,n)=>{"use strict";function r(e,t){return t.get?t.get.call(e):t.value}n.d(t,{_:()=>r})},79105:(e,t,n)=>{"use strict";n.d(t,{K2:()=>a,KP:()=>i,Tj:()=>l,Ts:()=>o,Zu:()=>r});let r=0x7fffffff,i=123456,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if((e=(e=(7*e+Math.sqrt(e)+16087*Math.sin(e))%r)<0?e+r:e)>1)return e&r;if(0===e)return 345678;throw Error("Impossible.")},a=e=>e=Math.imul(e,48271)&r,l=e=>(e-1)/(r-1)},82091:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(49797);let i=new r.WBB(1,4);class o extends r.eaF{constructor(e){super(i,new r.V9B({color:"#0c529d",...e,side:r.hsX,depthWrite:!1,depthTest:!1})),this.renderOrder=-1,this.frustumCulled=!1,this.matrixAutoUpdate=!1,this.onBeforeRender=(e,t,n)=>{let r=(n.near+n.far)/2;this.position.copy(n.position),this.scale.setScalar(r),this.updateMatrix(),this.updateMatrixWorld()}}}},97204:(e,t,n)=>{"use strict";n.d(t,{Client:()=>V});var r=n(70691),i=n(1253),o=n(67203),a=n(49797),l=n(30158),s=n(55551),c=n(57165),u=n(72598),d=n(49617),h=n(7587),p=n(31107),g=n(48083),v=n(56647);class f extends v.R{constructor(e,{color:t="#ffff00"}={}){super(void 0,new a.mrM({color:t})),this.position.copy(e.focus),this.rotation.copy(e.rotation);let{x:n,y:r}=e.size;1!==e.zoom&&this.rectangle([-n/2,-r/2,n,r]),n/=e.zoom,r/=e.zoom,this.rectangle([-n/2,-r/2,n,r]).plus([0,0],.5).draw();let i=new a.eaF(new a.bdM(1,.25),new a.V9B({color:t,alphaMap:function(){let e;return null!=e?e:e=(()=>{let e=document.createElement("canvas"),t=e.getContext("2d");e.width=1024,e.height=256,t.fillStyle="white",t.font="200px Fira Code",t.textBaseline="top",t.fillText("Vertigo",20,20);let n=new a.gPd(e);return n.needsUpdate=!0,n})()}(),transparent:!0,side:a.$EB}));i.position.set(-n/2+.5+.1,r/2-.125-.1,0),this.add(i)}}var m=n(9723),w=n(87381),y=n(29717),x=n(17099),b=n(80425),P=n(36508),I=n(25809),M=n(82091),O=n(25851);class E extends a.YJl{onTick(e){this.parts.rings.rotation.y+=.123*e.deltaTime,this.parts.rings.rotation.x+=.435*e.deltaTime}constructor(...e){super(...e),this.internal={ringGeometry:new a.O3Y(3,.01,16,128)},this.parts=(()=>{let e=(0,w.mj)(new a.YJl,{parent:this}),t=(0,w.mj)(new a.eaF(this.internal.ringGeometry,new m.Y({color:"#eb1640",luminosity:.8})),{parent:e,name:"ring-x",rotationY:"90deg"}),n=(0,w.mj)(new a.eaF(this.internal.ringGeometry,new m.Y({color:"#00ff9d",luminosity:.8})),{parent:e,name:"ring-y",rotationX:"90deg"}),r=(0,w.mj)(new a.eaF(this.internal.ringGeometry,new m.Y({color:"#3b80e7",luminosity:.8})),{parent:e,name:"ring-z"});return{rings:e,ringX:t,ringY:n,ringZ:r,torusKnot:(0,w.mj)(new a.eaF(new a.UPV(3,.1,512,64),new m.Y({luminosity:.8})),{parent:this,name:"torus-knot"})}})()}}class C extends a.Z58{constructor(...e){super(...e),this.parts={sky:(0,w.mj)(new M.N({color:"#027bff"}),{parent:this}),thing:(0,w.mj)(new E,{parent:this}),gridZ:(0,w.mj)(new I.P({step:.5}),{parent:this}),widget:(0,w.mj)(new O.XI,{parent:this})}}}class j extends a.BKk{constructor(){super({uniforms:{uResolution:{value:new a.IUQ},uRect:{value:new a.IUQ},map:{value:null}},vertexShader:"\n        uniform vec4 uResolution;\n        uniform vec4 uRect;\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position.xy = ((position.xy * 2.0 + 1.0) * uRect.zw + uRect.xy * 2.0) / uResolution.xy - 1.0; \n          gl_Position.z = 0.0;\n          gl_Position.w = 1.0;\n          // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D map;\n        varying vec2 vUv;\n        void main() {\n          gl_FragColor = texture2D(map, vUv);\n        }\n      ",transparent:!0,depthWrite:!1,depthTest:!1})}}class z extends a.eaF{*initialize(e,t){let{rt:n,scene:r,camera:i,vertigo:o,widget:l}=this.internal,s=this.material.uniforms.uResolution.value,c=this.material.uniforms.uRect.value,d=new a.I9Y,h=new a.I9Y(-1,-1),p=!1;yield(0,u.s)(e.domElement,{onDown:()=>{p=!0},onUp:()=>{p=!1},onChange:e=>{h.x=(e.localPosition.x-c.x)/c.z*2-1,h.y=-(e.localPosition.y/c.w*2-1)},onTap:()=>{switch(l.getPressed()){case O.KJ.BOX:t.actions.togglePerspective();break;case O.KJ.POSITIVE_X:t.actions.positiveXAlign();break;case O.KJ.NEGATIVE_X:t.actions.negativeXAlign();break;case O.KJ.POSITIVE_Y:t.actions.positiveYAlign();break;case O.KJ.NEGATIVE_Y:t.actions.negativeYAlign();break;case O.KJ.POSITIVE_Z:t.actions.positiveZAlign();break;case O.KJ.NEGATIVE_Z:t.actions.negativeZAlign()}}}),yield(0,P.xy)("three",{order:1},()=>{e.getSize(d),s.set(d.x,d.y,e.getPixelRatio(),0),c.x=d.x-c.z,c.y=d.y-c.w,o.rotation.copy(t.vertigo.rotation),o.perspective=t.vertigo.perspective,o.apply(i,1),l.widgetUpdate(h,p,i),h.x>=-1&&h.x<=1&&h.y>=-1&&h.y<=1&&(null!==l.getHovered()?document.body.style.cursor="pointer":document.body.style.removeProperty("cursor")),e.setRenderTarget(n),e.setClearColor("white",0),e.render(r,i),e.setRenderTarget(null)})}constructor({planeSize:e=120}={}){let t=new j;super(new a.bdM(1,1),t),this.vertigoControls=null;let n=2*e,r=new a.nWS(n,n,{format:a.GWd,colorSpace:"srgb"}),i=new a.Z58,o=new a.ubm,l=new p.B({perspective:1,size:[2.8,2.8]}),s=new O.XI;i.add(s),this.internal={rt:r,scene:i,camera:o,vertigo:l,widget:s},this.renderOrder=1,this.frustumCulled=!1,t.uniforms.map.value=this.internal.rt.texture,t.uniforms.uRect.value.set(10,10,e,e),this.position.x=2}}var A=n(64411),B=n.n(A);function T(e){let{vertigo:t}=e,{ref:n}=(0,h.C7)(function*(e){yield(0,P.xy)("three",{timeInterval:1/6},()=>{e.querySelector("pre").textContent=i.Ay.dump(t.toDeclaration(),{flowLevel:1}).replace(/-?\d+\.\d+/g,e=>(0,b.ZV)(Number.parseFloat(e),{maxDigits:6}))})},[]);return(0,r.jsx)("div",{ref:n,className:"self-start p-4 border border-white rounded text-xs ".concat(B().BgBlur),style:{minWidth:"24rem"},children:(0,r.jsx)("pre",{})})}class _ extends a.YJl{onTick(e){for(let t of this.parts.cubes){let{angularVelocity:n}=t.userData;t.rotation.x+=n.x*e.deltaTime,t.rotation.y+=n.y*e.deltaTime,t.rotation.z+=n.z*e.deltaTime}}constructor(...e){super(...e),this.parts={knot:(0,w.mj)(new a.eaF(new a.UPV(1,.5,256,32),new m.Y),{parent:this}),knot2:(0,w.mj)(new a.eaF(new a.UPV(1.37,.05,256,32),new m.Y({color:O.Bn.xColor})),{parent:this}),cubes:Array.from({length:20},(e,t)=>{let n=x.c.between(-3,3),r=x.c.between(-1.5,1.5),i=x.c.between(-3,3),o=["".concat(x.c.between(0,360),"deg"),"".concat(x.c.between(0,360),"deg"),"".concat(x.c.between(0,360),"deg")],l=x.c.between(.5,1),c=(0,w.mj)(new a.eaF(new s.j(1),new m.Y({color:x.c.pick(Object.values(O.Bn))})),{parent:this,x:n,y:r,z:i,rotation:o,scaleScalar:l});return c.userData={angularVelocity:new a.O9p(x.c.between(-1,1),x.c.between(-1,1),x.c.between(-1,1))},c})}}}function V(){let e=(0,o.useMemo)(()=>{let e=new p.B({size:[4.2,4.2]}),t=new p.B({perspective:0,focus:[-10,3,0],size:[8,4],rotation:[0,"45deg",0]}),n=t.clone().set({perspective:1,size:t.size.clone().multiplyScalar(1.2)}),r=t.clone().set({perspective:1,size:t.size.clone().multiplyScalar(1.5),rotation:[0,"-15deg","-25deg"]}),i=new p.B({perspective:1,focus:[-4.5,1.8,10],size:[12,9],rotation:["-3deg","1deg","12deg"]}),o=new p.B({perspective:1,focus:[-4.5,1.8,14],size:i.size.clone().multiplyScalar(1.5),rotation:["-3deg","1deg","0deg"]}),a={main:e,a0:t,a1:n,a2:r,back:i,back2:o,zoom:new p.B({focus:[6,-4,0],size:[4,4],zoom:.25}),revert:new p.B({rotation:["12.6deg","145.3deg","0deg"],focus:[-5,-.5,3.6],size:[12,12],fov:"60deg"})},l=new g.n(a.main);return{vertigos:a,vertigoControls:l}},[]),{ref:t}=(0,h.C7)(function*(t){let{vertigoControls:n}=e,r=new l.WebGLRenderer({antialias:!0});r.outputColorSpace="srgb",t.prepend(r.domElement);let i=1;yield(0,d.G)(t,{onSize:()=>{r.setPixelRatio(window.devicePixelRatio),r.setSize(t.clientWidth,t.clientHeight),i=t.clientWidth/t.clientHeight}});let o=new a.ubm(75,1,.1,1e3);o.position.z=5,yield n.start(r.domElement);let s=new C,h=P.Rv.get("three");(0,c.O)(h.requestActivation);let p=new z;s.add(p),yield*p.initialize(r,n);let g=new a.I9Y,v=!1;for(let t of(yield h.onTick(e=>{e.propagate(s),s.parts.widget.widgetUpdate(g,v,o),null!==s.parts.widget.getHovered()?document.body.style.cursor="pointer":document.body.style.removeProperty("cursor"),n.update(o,i),r.render(s,o)}),yield(0,u.s)(r.domElement,{onChange:e=>{let{x:t,y:n}=e.relativeLocalPosition;g.set(2*t-1,-((2*n-1)*1))},onDown:()=>{v=!0},onUp:()=>{v=!1},onTap:()=>{let e=s.parts.widget.getPressed();switch(null!==e&&n.actions.focus([0,0,0]),e){case O.KJ.BOX:n.actions.togglePerspective();break;case O.KJ.POSITIVE_X:n.actions.positiveXAlign();break;case O.KJ.NEGATIVE_X:n.actions.negativeXAlign();break;case O.KJ.POSITIVE_Y:n.actions.positiveYAlign();break;case O.KJ.NEGATIVE_Y:n.actions.negativeYAlign();break;case O.KJ.POSITIVE_Z:n.actions.positiveZAlign();break;case O.KJ.NEGATIVE_Z:n.actions.negativeZAlign()}}}),Object.values(e.vertigos)))(0,w.mj)(new f(t),s);let m=new _;s.add(m),m.position.copy(e.vertigos.a0.focus),m.rotation.copy(e.vertigos.a0.rotation),yield()=>{r.dispose(),t.removeChild(r.domElement)}},[]),{vertigoControls:n}=e;return(0,r.jsx)("div",{ref:t,className:"".concat(B().VertigoWidgetClient," layer thru"),children:(0,r.jsxs)("div",{className:"layer thru p-4 flex flex-col gap-4 items-start",children:[(0,r.jsx)("h1",{className:"text-2xl self-start",children:"Vertigo-widget"}),(0,r.jsxs)("div",{className:"".concat(B().BgBlur," thru flex flex-col gap-1 items-start p-1 border border-white rounded"),style:{width:"min(200px, 30%)"},children:[(0,r.jsx)("h2",{children:"Actions:"}),(0,r.jsxs)("div",{className:"thru flex flex-row flex-wrap items-start gap-1",children:[(0,r.jsx)("button",{className:"".concat(B().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{perspective:0}})},children:"ortho"}),(0,r.jsx)("button",{className:"".concat(B().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{perspective:1}})},children:"pers:1"}),(0,r.jsx)("button",{className:"".concat(B().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{perspective:1.5}})},children:"pers:1.5"}),(0,r.jsx)("button",{className:"".concat(B().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{zoom:1}})},children:"zoom:1"}),(0,r.jsx)("button",{className:"".concat(B().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:.75,ease:"inOut2",to:{focus:new a.Pq0}})},children:"focus:(0,0,0)"})]})]}),(0,r.jsxs)("div",{className:"".concat(B().BgBlur," thru flex flex-col gap-1 items-start p-1 border border-white rounded"),style:{width:"min(200px, 30%)"},children:[(0,r.jsx)("h2",{children:"Presets:"}),(0,r.jsx)("div",{className:"flex flex-row gap-1 flex-wrap",children:Object.entries(e.vertigos).map(t=>{let[n,i]=t;return(0,r.jsx)("button",{className:"".concat(B().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{let t=e.vertigoControls.vertigo.clone();y.X5.during(1).onUpdate(n=>{let{progress:r}=n,o=y.X5.ease("inOut3")(r);e.vertigoControls.vertigo.lerpVertigos(t,i,o)})},children:n},n)})})]}),(0,r.jsx)("div",{className:"Space flex-1 pointer-events-none"}),(0,r.jsx)(T,{vertigo:n.vertigo})]})})}},99187:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(75687);function i(e,t,n){if(e!==t)throw TypeError("Private static access of wrong provenance");if(void 0===n)throw TypeError("attempted to get private static field before its declaration");return(0,r._)(e,n)}}},e=>{var t=t=>e(e.s=t);e.O(0,[3470,5611,7190,8921,8907,4638,6726,2598,7373,8083,4135,4179,1319,6852,7358],()=>t(44455)),_N_E=e.O()}]);