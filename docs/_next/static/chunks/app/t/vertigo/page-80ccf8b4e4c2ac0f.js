(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{1029:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});let r={vecX:["float","vec2","vec3","vec4"]},o=(e,t)=>{let n=[],o=Array.isArray(e)?e:[e].map(e=>e in r?r[e]:e).flat();if("function"==typeof t)for(let e of o)n.push(t(e).replaceAll(/\bT\b/g,e));else for(let e of o)n.push(t.replaceAll(/\bT\b/g,e));return n.join("\n")}},9723:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(49797),o=n(60041);let i={shadowColor:"#808080",luminosity:1,rampPower:1,onBeforeCompile:void 0};class a extends r.V9B{constructor(e){let{rampPower:t,shadowColor:n,luminosity:a,onBeforeCompile:s,...l}={...i,...e},c={uSunPosition:{value:new r.Pq0(.5,.7,.3)},uShadowColor:{value:new r.Q1f(n)},uRampPower:{value:t},uLuminosity:{value:a}};super(l),this.onBeforeCompile=e=>{o.b.with(e).uniforms(c).varying({vWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vWorldNormal = mat3(modelMatrix) * normal;\n        ").fragment.after("map_fragment","\n          vec3 lightDirection = normalize(uSunPosition);\n          float light = dot(normalize(vWorldNormal), lightDirection) * 0.5 + 0.5;\n          light = pow(light, uRampPower);\n          diffuseColor.rgb *= mix(uShadowColor * uLuminosity, vec3(1.0), light);\n        "),null==s||s(e)},this.sunPosition=c.uSunPosition.value}}},14005:(e,t,n)=>{"use strict";n.d(t,{Client:()=>S});var r=n(70691),o=n(1253),i=n(67203),a=n(49797),s=n(30158),l=n(55551),c=n(57165),u=n(49303),d=n(49617),x=n(7587),v=n(31107),p=n(16219),f=n(21712),m=n(9723),h=n(87381),y=n(29717),g=n(17099),w=n(80425),b=n(36508),C=n(25809),z=n(82091),P=n(16008);class j extends a.YJl{onTick(e){this.parts.rings.rotation.y+=.123*e.deltaTime,this.parts.rings.rotation.x+=.435*e.deltaTime}constructor(...e){super(...e),this.internal={ringGeometry:new a.O3Y(3,.01,16,128)},this.parts=(()=>{let e=(0,h.mj)(new a.YJl,{parent:this}),t=(0,h.mj)(new a.eaF(this.internal.ringGeometry,new m.Y({color:"#eb1640",luminosity:.8})),{parent:e,name:"ring-x",rotationY:"90deg"}),n=(0,h.mj)(new a.eaF(this.internal.ringGeometry,new m.Y({color:"#00ff9d",luminosity:.8})),{parent:e,name:"ring-y",rotationX:"90deg"}),r=(0,h.mj)(new a.eaF(this.internal.ringGeometry,new m.Y({color:"#3b80e7",luminosity:.8})),{parent:e,name:"ring-z"});return{rings:e,ringX:t,ringY:n,ringZ:r,torusKnot:(0,h.mj)(new a.eaF(new a.UPV(3,.1,512,64),new m.Y({luminosity:.8})),{parent:this,name:"torus-knot"})}})()}}class I extends a.Z58{constructor(...e){super(...e),this.parts={sky:(0,h.mj)(new z.N({color:"#027bff"}),{parent:this}),thing:(0,h.mj)(new j,{parent:this}),gridZ:(0,h.mj)(new C.P({step:.5}),{parent:this}),widget:(0,h.mj)(new P.XI,{parent:this})}}}class O extends a.BKk{constructor(){super({uniforms:{uResolution:{value:new a.IUQ},uRect:{value:new a.IUQ},map:{value:null}},vertexShader:"\n        uniform vec4 uResolution;\n        uniform vec4 uRect;\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position.xy = ((position.xy * 2.0 + 1.0) * uRect.zw + uRect.xy * 2.0) / uResolution.xy - 1.0; \n          gl_Position.z = 0.0;\n          gl_Position.w = 1.0;\n          // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D map;\n        varying vec2 vUv;\n        void main() {\n          gl_FragColor = texture2D(map, vUv);\n        }\n      ",transparent:!0,depthWrite:!1,depthTest:!1})}}class A extends a.eaF{*initialize(e,t){let{rt:n,scene:r,camera:o,vertigo:i,widget:s}=this.internal,l=this.material.uniforms.uResolution.value,c=this.material.uniforms.uRect.value,d=new a.I9Y,x=new a.I9Y(-1,-1),v=!1;yield(0,u.s)(e.domElement,{onDown:()=>{v=!0},onUp:()=>{v=!1},onChange:e=>{x.x=(e.localPosition.x-c.x)/c.z*2-1,x.y=-(e.localPosition.y/c.w*2-1)},onTap:()=>{switch(s.getPressed()){case P.KJ.BOX:t.actions.togglePerspective();break;case P.KJ.POSITIVE_X:t.actions.positiveXAlign();break;case P.KJ.NEGATIVE_X:t.actions.negativeXAlign();break;case P.KJ.POSITIVE_Y:t.actions.positiveYAlign();break;case P.KJ.NEGATIVE_Y:t.actions.negativeYAlign();break;case P.KJ.POSITIVE_Z:t.actions.positiveZAlign();break;case P.KJ.NEGATIVE_Z:t.actions.negativeZAlign()}}}),yield(0,b.xy)("three",{order:1},()=>{e.getSize(d),l.set(d.x,d.y,e.getPixelRatio(),0),c.x=d.x-c.z,c.y=d.y-c.w,i.rotation.copy(t.vertigo.rotation),i.perspective=t.vertigo.perspective,i.apply(o,1),s.widgetUpdate(x,v,o),x.x>=-1&&x.x<=1&&x.y>=-1&&x.y<=1&&(null!==s.getHovered()?document.body.style.cursor="pointer":document.body.style.removeProperty("cursor")),e.setRenderTarget(n),e.setClearColor("white",0),e.render(r,o),e.setRenderTarget(null)})}constructor({planeSize:e=120}={}){let t=new O;super(new a.bdM(1,1),t),this.vertigoControls=null;let n=2*e,r=new a.nWS(n,n,{format:a.GWd,colorSpace:"srgb"}),o=new a.Z58,i=new a.ubm,s=new v.B({perspective:1,size:[2.8,2.8]}),l=new P.XI;o.add(l),this.internal={rt:r,scene:o,camera:i,vertigo:s,widget:l},this.renderOrder=1,this.frustumCulled=!1,t.uniforms.map.value=this.internal.rt.texture,t.uniforms.uRect.value.set(10,10,e,e),this.position.x=2}}var T=n(56652),N=n.n(T);function E(e){let{vertigo:t}=e,{ref:n}=(0,x.C7)(function*(e){yield(0,b.xy)("three",{timeInterval:1/6},()=>{e.querySelector("pre").textContent=o.Ay.dump(t.toDeclaration(),{flowLevel:1}).replace(/-?\d+\.\d+/g,e=>(0,w.ZV)(Number.parseFloat(e),{maxDigits:6}))})},[]);return(0,r.jsx)("div",{ref:n,className:"self-start p-4 border border-white rounded text-xs ".concat(N().BgBlur),style:{minWidth:"24rem"},children:(0,r.jsx)("pre",{})})}class M extends a.YJl{onTick(e){for(let t of this.parts.cubes){let{angularVelocity:n}=t.userData;t.rotation.x+=n.x*e.deltaTime,t.rotation.y+=n.y*e.deltaTime,t.rotation.z+=n.z*e.deltaTime}}constructor(...e){super(...e),this.parts={knot:(0,h.mj)(new a.eaF(new a.UPV(1,.5,256,32),new m.Y),{parent:this}),knot2:(0,h.mj)(new a.eaF(new a.UPV(1.37,.05,256,32),new m.Y({color:P.Bn.xColor})),{parent:this}),cubes:Array.from({length:20},(e,t)=>{let n=g.c.between(-3,3),r=g.c.between(-1.5,1.5),o=g.c.between(-3,3),i=["".concat(g.c.between(0,360),"deg"),"".concat(g.c.between(0,360),"deg"),"".concat(g.c.between(0,360),"deg")],s=g.c.between(.5,1),c=(0,h.mj)(new a.eaF(new l.j(1),new m.Y({color:g.c.pick(Object.values(P.Bn))})),{parent:this,x:n,y:r,z:o,rotation:i,scaleScalar:s});return c.userData={angularVelocity:new a.O9p(g.c.between(-1,1),g.c.between(-1,1),g.c.between(-1,1))},c})}}}function S(){let e=(0,i.useMemo)(()=>{let e=new v.B({size:[4.2,4.2]}),t=new v.B({perspective:0,focus:[-10,3,0],size:[8,4],rotation:[0,"45deg",0]}),n=t.clone().set({perspective:1,size:t.size.clone().multiplyScalar(1.2)}),r=t.clone().set({perspective:1,size:t.size.clone().multiplyScalar(1.5),rotation:[0,"-15deg","-25deg"]}),o=new v.B({perspective:1,focus:[-4.5,1.8,10],size:[12,9],rotation:["-3deg","1deg","12deg"]}),i=new v.B({perspective:1,focus:[-4.5,1.8,14],size:o.size.clone().multiplyScalar(1.5),rotation:["-3deg","1deg","0deg"]}),a={main:e,a0:t,a1:n,a2:r,back:o,back2:i,zoom:new v.B({focus:[6,-4,0],size:[4,4],zoom:.25}),revert:new v.B({rotation:["12.6deg","145.3deg","0deg"],focus:[-5,-.5,3.6],size:[12,12],fov:"60deg"})},s=new p.n(a.main);return{vertigos:a,vertigoControls:s}},[]),{ref:t}=(0,x.C7)(function*(t){let{vertigoControls:n}=e,r=new s.WebGLRenderer({antialias:!0});r.outputColorSpace="srgb",t.prepend(r.domElement);let o=1;yield(0,d.G)(t,{onSize:()=>{r.setPixelRatio(window.devicePixelRatio),r.setSize(t.clientWidth,t.clientHeight),o=t.clientWidth/t.clientHeight}});let i=new a.ubm(75,1,.1,1e3);i.position.z=5,yield n.start(r.domElement);let l=new I,x=b.Rv.get("three");(0,c.O)(x.requestActivation);let v=new A;l.add(v),yield*v.initialize(r,n);let p=new a.I9Y,m=!1;for(let t of(yield x.onTick(e=>{e.propagate(l),l.parts.widget.widgetUpdate(p,m,i),null!==l.parts.widget.getHovered()?document.body.style.cursor="pointer":document.body.style.removeProperty("cursor"),n.update(i,o),r.render(l,i)}),yield(0,u.s)(r.domElement,{onChange:e=>{let{x:t,y:n}=e.relativeLocalPosition;p.set(2*t-1,-((2*n-1)*1))},onDown:()=>{m=!0},onUp:()=>{m=!1},onTap:()=>{let e=l.parts.widget.getPressed();switch(null!==e&&n.actions.focus([0,0,0]),e){case P.KJ.BOX:n.actions.togglePerspective();break;case P.KJ.POSITIVE_X:n.actions.positiveXAlign();break;case P.KJ.NEGATIVE_X:n.actions.negativeXAlign();break;case P.KJ.POSITIVE_Y:n.actions.positiveYAlign();break;case P.KJ.NEGATIVE_Y:n.actions.negativeYAlign();break;case P.KJ.POSITIVE_Z:n.actions.positiveZAlign();break;case P.KJ.NEGATIVE_Z:n.actions.negativeZAlign()}}}),Object.values(e.vertigos)))(0,h.mj)(new f.T(t),l);let y=new M;l.add(y),y.position.copy(e.vertigos.a0.focus),y.rotation.copy(e.vertigos.a0.rotation),yield()=>{r.dispose(),t.removeChild(r.domElement)}},[]),{vertigoControls:n}=e;return(0,r.jsx)("div",{ref:t,className:"".concat(N().VertigoWidgetClient," layer thru"),children:(0,r.jsxs)("div",{className:"layer thru p-4 flex flex-col gap-4 items-start",children:[(0,r.jsx)("h1",{className:"text-2xl self-start",children:"Vertigo-widget"}),(0,r.jsxs)("div",{className:"".concat(N().BgBlur," thru flex flex-col gap-1 items-start p-1 border border-white rounded"),style:{width:"min(200px, 30%)"},children:[(0,r.jsx)("h2",{children:"Actions:"}),(0,r.jsxs)("div",{className:"thru flex flex-row flex-wrap items-start gap-1",children:[(0,r.jsx)("button",{className:"".concat(N().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{perspective:0}})},children:"ortho"}),(0,r.jsx)("button",{className:"".concat(N().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{perspective:1}})},children:"pers:1"}),(0,r.jsx)("button",{className:"".concat(N().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{perspective:1.5}})},children:"pers:1.5"}),(0,r.jsx)("button",{className:"".concat(N().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:1,ease:"inOut2",to:{zoom:1}})},children:"zoom:1"}),(0,r.jsx)("button",{className:"".concat(N().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{y.X5.tween({target:n.vertigo,duration:.75,ease:"inOut2",to:{focus:new a.Pq0}})},children:"focus:(0,0,0)"})]})]}),(0,r.jsxs)("div",{className:"".concat(N().BgBlur," thru flex flex-col gap-1 items-start p-1 border border-white rounded"),style:{width:"min(200px, 30%)"},children:[(0,r.jsx)("h2",{children:"Presets:"}),(0,r.jsx)("div",{className:"flex flex-row gap-1 flex-wrap",children:Object.entries(e.vertigos).map(t=>{let[n,o]=t;return(0,r.jsx)("button",{className:"".concat(N().BgBlur," px-2 py-1 border border-white rounded hover:bg-[#fff2]"),onClick:()=>{let t=e.vertigoControls.vertigo.clone();y.X5.during(1).onUpdate(n=>{let{progress:r}=n,i=y.X5.ease("inOut3")(r);e.vertigoControls.vertigo.lerpVertigos(t,o,i)})},children:n},n)})})]}),(0,r.jsx)("div",{className:"Space flex-1 pointer-events-none"}),(0,r.jsx)(E,{vertigo:n.vertigo})]})})}},14203:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(1029);let o="\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex \n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20201014 (stegu)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n// \n\nfloat mod289(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; \n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nfloat permute(float x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\nvec4 permute(vec4 x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\nfloat taylorInvSqrt(float r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 taylorInvSqrt(vec4 r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\n\n\n\n\n// 2D:\n\nfloat snoise(vec2 v) {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n		+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// 3D: \n\nfloat snoise(vec3 v)\n{ \n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n  // Permutations\n  i = mod289(i); \n  vec4 p = permute( permute( permute( \n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 105.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                dot(p2,x2), dot(p3,x3) ) );\n}\n\n\n\n// 4D:\n\nvec4 grad4(float j, vec4 ip)\n  {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; \n\n  return p;\n}\n						\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise(vec4 v) {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n                        0.276393202250021,  // 2 * G4\n                        0.414589803375032,  // 3 * G4\n                       -0.447213595499958); // -1 + 4 * G4\n\n  // First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n  // Other corners\n\n  // Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n  //  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n  //  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n  // Permutations\n  i = mod289(i); \n  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute( permute( permute( permute (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n  // Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n  // 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0 = grad4(j0,   ip);\n  vec4 p1 = grad4(j1.x, ip);\n  vec4 p2 = grad4(j1.y, ip);\n  vec4 p3 = grad4(j1.z, ip);\n  vec4 p4 = grad4(j1.w, ip);\n\n  // Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt(dot(p4,p4));\n\n  // Mix contributions from the five corners\n  vec3 m0 = max(0.57 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.57 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 60.1 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n}\n\n\n\n\n// addons:\n// Fractal noise, based on Stefan Gustavson's Simplex noise\n".concat((0,r.N)(["vec2","vec3","vec4"],"\n  float fnoise(T p, int octaves, float persistence) {\n    float total = 0.0;           // Final noise value\n    float amplitude = 1.0;       // Initial amplitude\n    float frequency = 1.0;       // Initial frequency\n    float maxValue = 0.0;        // Used for normalization\n\n    for (int i = 0; i < octaves; i++) {\n      total += snoise(p * frequency) * amplitude;\n\n      maxValue += amplitude;   // Keep track of max amplitude\n      amplitude *= persistence; // Reduce amplitude for next octave\n      frequency *= 2.0;        // Increase frequency for next octave\n    }\n\n    // Normalize the result to stay within the range [0, 1]\n    return total / maxValue;\n  }\n\n  float fnoise(T p, int octaves) {\n    return fnoise(p, octaves, 0.5);\n  }\n\n  float fnoise(T p) {\n    return fnoise(p, 4, 0.5);\n  }\n"),"\n\nfloat snoiseFast4D(vec4 p) {\n  const float SCALAR = 0.01;\n  float a = SCALAR * dot(p.xy * 0.3, vec2(-127.1, 311.7));\n  float b = SCALAR * dot(p.zw * 0.8, vec2(269.5, -183.3));\n  float c = SCALAR * dot(p.wx * 6.0, vec2(23.14069, 2.665157));\n  float d = SCALAR * dot(p.zy * 1.3, vec2(-12.9898, 78.233));\n  return (snoise(vec2(a, b)) + snoise(vec2(d, c))) * 0.5;\n}\n\nfloat fnoiseFast4D(vec4 p, int octaves, float persistence) {\n  float total = 0.0;           // Final noise value\n  float amplitude = 1.0;       // Initial amplitude\n  float frequency = 1.0;       // Initial frequency\n  float maxValue = 0.0;        // Used for normalization\n\n  for (int i = 0; i < octaves; i++) {\n    total += snoiseFast4D(p * frequency) * amplitude;\n\n    maxValue += amplitude;   // Keep track of max amplitude\n    amplitude *= persistence; // Reduce amplitude for next octave\n    frequency *= 2.0;        // Increase frequency for next octave\n  }\n\n  // Normalize the result to stay within the range [0, 1]\n  return total / maxValue;\n}\n")},15774:(e,t,n)=>{"use strict";n.d(t,{Client:()=>j});var r=n(70691),o=n(67203),i=n(49797),a=n(49303),s=n(49617),l=n(53097),c=n(7587),u=n(50926),d=n(9723),x=n(87381),v=n(67235),p=n(60041),f=n(14203),m=n(36508),h=n(16008);class y extends d.Y{constructor(e){super(e),this.onBeforeCompile=e=>p.b.with(e).uniforms({uTime:m.Rv.get("three").uTime,uColor2:{value:new i.Q1f("#ff9ba5")}}).varying({vWorldPosition2:"vec3"}).vertex.mainAfterAll("\n        vWorldPosition2 = (modelMatrix * vec4(transformed, 1.0)).xyz;\n      ").fragment.top(f.O).fragment.after("map_fragment","\n        float noise = fnoise(vWorldPosition2 * vec3(1.0, 1.0, 10.0) * 0.1, 2);\n        noise = fract(noise * 5.0);\n        diffuseColor.rgb = mix(diffuseColor.rgb, uColor2, noise);\n      ")}}function g(){return(0,l.yk)(function*(e){e.scene.background=new i.Q1f("#68a5d4")},[]),null}function w(){return(0,l.dB)("pointer-handler",function*(e,t){let n=v.Q.send("VERTIGO_CONTROLS").assertPayload();n.inputConfig,Object.assign(window,{controls:n});let r=(0,x.mj)(new i.eaF(new i.O3Y(.06,.01,32,96),new d.Y({color:"#f03"})),e),o=(0,x.mj)(new i.eaF(new i.WBB(.02,4),new d.Y({color:"#f03"})),e),s=new i.Pq0,l=n.dampedVertigo;yield(0,a.s)(t.domContainer,{onTap:()=>{let[e]=t.pointer.raycast(t.scene);e&&(l.ndcToScreen(t.pointer.screenPosition,s),r.position.copy(e.point),n.vertigo.focus.copy(e.point))},onChange:e=>{let{x:n,y:r}=e.position,o=new i.I9Y(n/t.domContainer.clientWidth*2-1,-(2*(r/t.domContainer.clientHeight))+1);console.log(...l.ndcToScreen(o,new i.I9Y))}}),yield t.ticker.onTick(()=>{o.position.copy(n.dampedVertigo.focus),r.rotation.copy(n.dampedVertigo.rotation)})},[]),null}function b(){return(0,l.dB)("my-scene",function*(e){(0,x.mj)(new u.u,e).regularGrid({size:100,subdivisions:[10,10,4],color:"#ffffff",opacity:[1,.3,.1]}).circle({radius:5,quality:"ultra"},{color:"#ffffff"}),(0,x.mj)(new h.XI,e),(0,x.mj)(new i.eaF(new i.O3Y(3,.5,128,512),new y),e),(0,x.mj)(new i.eaF(new i.O3Y(10,.5,128,512),new y),e),(0,x.mj)(new i.eaF(new i.rKP(1,2,128),new y),e),(0,x.mj)(new i.eaF(new i.bdM(10,10),new y),e)},[]),null}function C(e){let{size:t=100,subdivisions:n=10,...o}=e,{ref:i}=(0,c.C7)(function*(e){let r=[...e.querySelectorAll("line")],o=t/n;for(let e=0;e<=n;e++){let i=e+n+1,a=e*o-t/2;r[e].setAttribute("x1","".concat(a)),r[e].setAttribute("x2","".concat(a)),r[e].setAttribute("y1","".concat(-t/2)),r[e].setAttribute("y2","".concat(t/2)),r[i].setAttribute("x1","".concat(-t/2)),r[i].setAttribute("x2","".concat(t/2)),r[i].setAttribute("y1","".concat(a)),r[i].setAttribute("y2","".concat(a))}},"always");return(0,r.jsx)("g",{ref:i,...o,children:Array.from({length:(n+1)*2},(e,t)=>(0,r.jsx)("line",{},t))})}function z(){let[e,t]=(0,o.useState)(100),{ref:n}=(0,c.C7)(function*(e){let n=(n,r)=>{e.setAttribute("width","".concat(n)),e.setAttribute("height","".concat(r));let o=n/2,i=r/2;e.setAttribute("viewBox","-".concat(o," -").concat(i," ").concat(n," ").concat(r));let a=Math.min(n,r),[,s,l]=e.querySelectorAll("circle");s.setAttribute("cx","".concat(3*a/10)),s.setAttribute("cy","".concat(-2*a/10)),l.setAttribute("cx","".concat(-3*a/10)),l.setAttribute("cy","".concat(a/10)),t(a)};yield(0,s.G)(window,{onSize:e=>{let{size:t}=e;n(t.x,t.y)}})},[]);return(0,r.jsx)("svg",{ref:n,xmlns:"http://www.w3.org/2000/svg",style:{pointerEvents:"none"},children:(0,r.jsxs)("g",{fill:"none",stroke:"#ffff00",strokeWidth:.75,children:[(0,r.jsx)("circle",{r:10}),(0,r.jsx)("circle",{r:10}),(0,r.jsx)("circle",{r:10}),(0,r.jsx)(C,{size:e})]})})}function P(){let{ref:e}=(0,c.C7)(function*(e){let t=e.querySelector("#screenOffset"),n=v.Q.send("VERTIGO_CONTROLS").assertPayload();yield m.Rv.get("three").onTick(()=>{t.textContent=n.vertigo.screenOffset.toArray().slice(0,2).join(", ")})},"always");return(0,r.jsxs)("div",{ref:e,className:"p-4 text-[#ff0] flex flex-col items-start gap-1",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold",children:["Vertigo Offset",(0,r.jsx)("br",{}),"Size: 10",(0,r.jsx)("br",{}),"Screen Offset: [",(0,r.jsx)("span",{id:"screenOffset",children:"3, 2"}),"]"]}),(0,r.jsx)("p",{children:"When the subject is not at the center..."}),(0,r.jsx)("button",{className:"border border-[#ff0] rounded px-2 py-1 mt-2 text-[#ff0]",onClick:()=>{let e=v.Q.send("VERTIGO_CONTROLS").assertPayload();e.vertigo.perspective=+(1!==e.vertigo.perspective)},children:"Toggle perspective"}),(0,r.jsx)("button",{className:"border border-[#ff0] rounded px-2 py-1 mt-2 text-[#ff0]",onClick:()=>{v.Q.send("VERTIGO_CONTROLS").assertPayload().vertigo.screenOffset.set(3,2,0)},children:"[3, 2]"}),(0,r.jsx)("button",{className:"border border-[#ff0] rounded px-2 py-1 mt-2 text-[#ff0]",onClick:()=>{v.Q.send("VERTIGO_CONTROLS").assertPayload().vertigo.screenOffset.set(0,0,0)},children:"[0, 0]"}),(0,r.jsx)("button",{className:"border border-[#ff0] rounded px-2 py-1 mt-2 text-[#ff0]",onClick:()=>{v.Q.send("VERTIGO_CONTROLS").assertPayload().vertigo.screenOffset.set(-3,-1,0)},children:"[-3, -1]"})]})}function j(){return(0,r.jsxs)(l.uB,{vertigoControls:{size:10,inputConfig:{wheel:"zoom"}},children:[(0,r.jsx)("div",{className:"layer thru flex flex-col items-start justify-start",children:(0,r.jsx)(P,{})}),(0,r.jsx)(g,{}),(0,r.jsx)(b,{}),(0,r.jsx)(w,{}),(0,r.jsx)(z,{})]})}},16008:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>d,KJ:()=>s,XI:()=>p});var r=n(63126),o=n(49797),i=n(55551),a=n(38921),s=function(e){return e[e.BOX=0]="BOX",e[e.POSITIVE_X=1]="POSITIVE_X",e[e.NEGATIVE_X=2]="NEGATIVE_X",e[e.POSITIVE_Y=3]="POSITIVE_Y",e[e.NEGATIVE_Y=4]="NEGATIVE_Y",e[e.POSITIVE_Z=5]="POSITIVE_Z",e[e.NEGATIVE_Z=6]="NEGATIVE_Z",e}(s||{});function l(e,t){let n=new o.THS(new Int8Array(e.attributes.position.count).fill(t),1);e.setAttribute("aPartId",n)}function c(e,t,n){let r=new o.qFE(.2,.6000000000000001,e,n,!0).rotateZ(Math.PI).translate(0,.53,0),i=Array.from({length:t},(e,n)=>{let r=n/(t-1);return new o.I9Y(.2*r,-.05*(1-r**2))}),s=new o.nzx(i,e).rotateZ(Math.PI).translate(0,.2*3/2+.53,0);return(0,a.pP)([r,s],!1)}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"low",t="high"===e?(0,a.ec)(new i.j(.3,.3,.3,4,.05)):new o.iNn(.3,.3,.3);l(t,0);let n="high"===e?c(32,8,5):c(6,2,1);l(n,3);let r=n.clone().rotateX(Math.PI);l(r,4);let s=n.clone().rotateZ(-Math.PI/2);l(s,1);let u=n.clone().rotateZ(Math.PI/2);l(u,2);let d=n.clone().rotateX(Math.PI/2);l(d,5);let x=n.clone().rotateX(-Math.PI/2);return l(x,6),[t,s,u,n,r,d,x]}let d={defaultColor:"white",xColor:"#eb1640",yColor:"#00ffb7",zColor:"#3b80e7",hoverColor:"#fffc47"};function x(e){let{defaultColor:t,xColor:n,yColor:r,zColor:i,hoverColor:a}={...d,...e},s=new o.Q1f(t),l=new o.Q1f(n),c=new o.Q1f(r),u=new o.Q1f(i),x=new o.Q1f(a),v={uSunPosition:{value:new o.Pq0(.5,.7,.3)},uLuminosity:{value:.66},uColors:{value:[s,l,s,c,s,u,s]},uHoverColor:{value:x},uOpacity:{value:[1,1,1,1,1,1,1]},uHoverOpacity:{value:[0,0,0,0,0,0,0]}};return new o.BKk({uniforms:v,vertexShader:"\nuniform vec3 uColors[7];\nuniform float uOpacity[7];\nuniform vec3 uHoverColor;\nuniform float uHoverOpacity[7];\n\nattribute float aPartId;\n\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nvoid main() {\n  vWorldNormal = mat3(modelMatrix) * normal;\n  vPosition = position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  vColor = uColors[int(aPartId)];\n  vOpacity = uOpacity[int(aPartId)];\n  vHoverOpacity = uHoverOpacity[int(aPartId)];\n}\n",fragmentShader:"\nvarying vec3 vWorldNormal;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vHoverOpacity;\n\nuniform vec3 uSunPosition;\nuniform float uLuminosity;\nuniform vec3 uHoverColor;\n\nfloat clamp01(float x) {\n  return x < 0.0 ? 0.0 : x > 1.0 ? 1.0 : x;\n}\n\nfloat inverseLerp(float a, float b, float x) {\n  return clamp01((x - a) / (b - a));\n}\n\nvoid main() {\n  vec3 lightDirection = normalize(uSunPosition);\n  float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n  light = pow(light, 2.0);\n  \n  float minLuminosity = max(pow(vHoverOpacity, 1.0 / 3.0) * 0.85, uLuminosity);\n  light = mix(minLuminosity, 1.0, light);\n\n  vec3 color = vColor;\n  color = mix(color, uHoverColor, vHoverOpacity);\n  gl_FragColor = vec4(color * light, vOpacity);\n}\n",transparent:!0})}let v=new o.tBo;class p extends o.YJl{getHovered(){return this.internal.hovered}getPressed(){return this.internal.pressed}widgetUpdate(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/60,{lowMesh:a,material:s}=this.parts,l=new o.Pq0;n.getWorldDirection(l);let c=this.matrixWorld.elements,u=new o.Pq0(c[0],c[1],c[2]),d=new o.Pq0(c[4],c[5],c[6]),x=new o.Pq0(c[8],c[9],c[10]);{let e=s.uniforms.uOpacity.value,t=Math.abs(l.dot(u)),n=Math.abs(l.dot(d)),o=Math.abs(l.dot(x));e[1]=e[2]=(0,r.calculateExponentialDecay)(e[1],t<.98?1.05:-.05,1e-4,i),e[3]=e[4]=(0,r.calculateExponentialDecay)(e[3],n<.98?1.05:-.05,1e-4,i),e[5]=e[6]=(0,r.calculateExponentialDecay)(e[5],o<.98?1.05:-.05,1e-4,i)}{let e=s.uniforms.uHoverOpacity.value,t=+(0===this.internal.hovered),n=+(1===this.internal.hovered),o=+(2===this.internal.hovered),a=+(3===this.internal.hovered),l=+(4===this.internal.hovered),c=+(5===this.internal.hovered),u=+(6===this.internal.hovered);e[0]=(0,r.calculateExponentialDecay)(e[0],t,1e-4,i),e[1]=(0,r.calculateExponentialDecay)(e[1],n,1e-4,i),e[2]=(0,r.calculateExponentialDecay)(e[2],o,1e-4,i),e[3]=(0,r.calculateExponentialDecay)(e[3],a,1e-4,i),e[4]=(0,r.calculateExponentialDecay)(e[4],l,1e-4,i),e[5]=(0,r.calculateExponentialDecay)(e[5],c,1e-4,i),e[6]=(0,r.calculateExponentialDecay)(e[6],u,1e-4,i)}v.setFromCamera(e,n);let[p]=v.intersectObject(a,!0).map(e=>{let t=3*e.faceIndex;return a.geometry.groups.findIndex(e=>e.start<=t&&t<e.start+e.count)}).filter(e=>s.uniforms.uOpacity.value[e]>.5);t&&!1===this.internal.pointerDown&&(this.internal.pointerDown=!0,this.internal.pointerDownPosition.copy(e),this.internal.pressed=null!=p?p:null),t&&!1===this.internal.dragging&&this.internal.pointerDownPosition.distanceTo(e)>.01&&(this.internal.dragging=!0),!1===t&&this.internal.pointerDown&&(this.internal.pointerDown=!1,this.internal.dragging=!1,this.internal.pressed=null);let f=this.internal.dragging?null:null!=p?p:null;this.internal.hovered,this.internal.hovered=f}constructor(e){super(),this.internal={pointerPosition:new o.I9Y,pointerDownPosition:new o.I9Y,pointerDown:!1,dragging:!1,hovered:null,pressed:null};let t=x(null==e?void 0:e.material),n=u("high").map((e,n)=>{let r=new o.eaF(e,t);return r.name="vertigo-widget-mesh-".concat(n),this.add(r),r}),r=new o.eaF(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=u(...t);return(0,a.pP)(r,!0)}("low"),x(null==e?void 0:e.material));r.material.transparent=!1,r.name="vertigo-widget-low-mesh",r.visible=!1,this.add(r),this.parts={material:t,meshes:n,lowMesh:r}}}},17099:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(79105);let o=e=>e,i={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function a(){let e=(0,r.K2)((0,r.K2)((0,r.Ts)(r.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,r.K2)((0,r.K2)((0,r.Ts)(t))),u}function n(){return e=(0,r.K2)(e),(0,r.Tj)(e)}function a(e){switch(e.length){default:return[0,1,o];case 1:return[0,e[0],o];case 2:return[e[0],e[1],o];case 3:return[e[0],e[1],e[2]]}}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o,i,s]=a(t);return o+(i-o)*s(n())}function l(){for(var e,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];let[a,s,{weightsAreNormalized:l,indexOffset:c,forbiddenItems:u}]=function(e){let[t,n=null,r]=e,o={...i,...r};if(Array.isArray(t))return[t,n,o];if("object"==typeof t)return[Object.values(t),n?Object.values(n):null,o];throw Error("pick: unsupported options type")}(r);if(u.length>0){let t=new Set;for(let e of u){let n=a.indexOf(e);n>=0&&t.add(n)}if(a=a.filter((e,n)=>!t.has(n)),s=null!=(e=null==s?void 0:s.filter((e,n)=>!t.has(n)))?e:null,0===a.length)throw Error("pick: all items are forbidden")}if(null===s){let e=Math.floor(n()*a.length);return c&&(e+=c,(e%=a.length)<0&&(e+=a.length)),a[e]}if(!l){let e=s.reduce((e,t)=>e+t,0);s=s.map(t=>t/e)}let d=n(),x=0;for(let e=0;e<a.length;e++)if(d<(x+=s[e]))return a[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),o=n(),i=Math.sqrt(-2*Math.log(r)),a=2*Math.PI*o;return[e+t*i*Math.cos(a),e+t*i*Math.sin(a)]}let u={seed:t,seedMax:function(){return r.Zu},reset:function(){return t(r.KP),u},next:function(){return e=(0,r.K2)(e),u},getState:function(){return e},setState:function(t){return e=t&r.Zu,u},random:n,between:s,around:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i=1,a=o]=t,s=2*n();return(s>1?1:-1)*a(s>1?s-1:s)*i},int:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o,i,s]=a(t);return o+Math.floor(s(n())*(i-o))},chance:function(e){return n()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t&&Array.isArray(e)?e:[...e],o=r.length;for(let e=0;e<o;e++){let t=Math.floor(o*n()),i=r[e];r[e]=r[t],r[t]=i}return r},pick:l,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),n=e.map(e=>{let[t,n]=e;return n}),r=n.reduce((e,t)=>e+t,0);for(let[e,t]of n.entries())n[e]=t/r;return()=>l(t,n,{weightsAreNormalized:!0})},vector:function(e,t){let[n=0,r=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=s(n,r);return e},unitVector2:function(e){let t=2*Math.PI*n();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=n(),r=n(),o=2*Math.PI*t,i=Math.acos(1-2*r);return e.x=Math.sin(i)*Math.cos(o),e.y=Math.sin(i)*Math.sin(o),e.z=Math.cos(i),e},normalVector:function(e){let t=Object.keys(e),n=t.length,r=Math.sqrt(n);for(let o=0;o<n;o+=2){let[i,a]=c();e[t[o]]=i/r,o+1<n&&(e[t[o+1]]=a/r)}return e},unitVector:function(e){let t=Object.keys(e),n=t.length,r=0;for(let o=0;o<n;o+=2){let[i,a]=c();e[t[o]]=i,r+=i*i,o+1<n&&(e[t[o+1]]=a,r+=a*a)}r=Math.sqrt(r);for(let o=0;o<n;o++)e[t[o]]/=r;return e},boxMuller:c,quaternion:function(e){let t=n(),r=n(),o=n(),i=Math.sqrt(1-t),a=Math.sqrt(t);return e.x=i*Math.sin(2*Math.PI*r),e.y=i*Math.cos(2*Math.PI*r),e.z=a*Math.sin(2*Math.PI*o),e.w=a*Math.cos(2*Math.PI*o),e},insideCircle:function(e,t){let r=2*n()*Math.PI,o=Math.sqrt(n())*e;return t.x=o*Math.cos(r),t.y=o*Math.sin(r),t}};return u}let s=class{constructor(e){Object.assign(this,a().seed(e))}};Object.assign(s,a())},25809:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(49797),o=n(92381);let i={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0};class a extends r.DXC{set(e){let{color:t,opacity:n,size:a,step:s,frame:l,plane:c}={...i,...e},u=(0,o.wX)(a),d=(0,o.wX)(null!=s?s:u),x=[],v=(e,t)=>x.push(new r.Pq0(e,t,0));l&&(v(-u.x/2,u.y/2),v(u.x/2,u.y/2),v(u.x/2,u.y/2),v(u.x/2,-u.y/2),v(u.x/2,-u.y/2),v(-u.x/2,-u.y/2),v(-u.x/2,-u.y/2),v(-u.x/2,u.y/2));let p=Math.ceil(-u.x/2/d.x)*d.x;p===-u.x/2&&(p+=d.x);do v(p,-u.y/2),v(p,u.y/2),p+=d.x;while(p<u.x/2);let f=Math.ceil(-u.y/2/d.y)*d.y;f===-u.y/2&&(f+=d.y);do v(-u.x/2,f),v(u.x/2,f),f+=d.y;while(f<u.y/2);switch(this.geometry.setFromPoints(x),c){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.material.color.set(t),this.material.opacity=n,this.material.transparent=n<1,this}constructor(e){super(),this.set(null!=e?e:i)}}},56652:e=>{e.exports={VertigoWidgetClient:"vertigo_VertigoWidgetClient__UIsqY",BgBlur:"vertigo_BgBlur__om6v3"}},65897:(e,t,n)=>{"use strict";n.d(t,{Client:()=>u});var r=n(70691),o=n(49797),i=n(84306),a=n(9723),s=n(87381),l=n(16008);function c(){return(0,i.yk)(function*(e){(0,s.mj)(new o.eaF(new o.WBB(1,0),new a.Y),{parent:e.scene,x:-4}),(0,s.mj)(new l.XI,{parent:e.scene})},[]),null}function u(){return(0,r.jsx)(i.uB,{children:(0,r.jsxs)(i.zz,{children:[(0,r.jsx)("div",{className:"layer thru p-4",children:(0,r.jsx)("h1",{children:"Vertigo Widget"})}),(0,r.jsx)(c,{})]})})}},66620:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(89868),o=n(44138);function i(e,t){var n=(0,o._)(e,t,"update");return(0,r._)(e,n)}},79105:(e,t,n)=>{"use strict";n.d(t,{K2:()=>a,KP:()=>o,Tj:()=>s,Ts:()=>i,Zu:()=>r});let r=0x7fffffff,o=123456,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=r,(t=t<0?t+r:t)>1)return t&r;if(0===t)return o;throw Error("Impossible. ".concat(t))},a=e=>e=Math.imul(e,48271)&r,s=e=>(e-1)/(r-1)},82091:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(49797);let o=new r.WBB(1,4);class i extends r.eaF{constructor(e){super(o,new r.V9B({color:"#0c529d",...e,side:r.hsX,depthWrite:!1,depthTest:!1})),this.renderOrder=-1,this.frustumCulled=!1,this.matrixAutoUpdate=!1,this.onBeforeRender=(e,t,n)=>{let r=(n.near+n.far)/2;this.position.copy(n.position),this.scale.setScalar(r),this.updateMatrix(),this.updateMatrixWorld()}}}},99078:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,89294,23)),Promise.resolve().then(n.bind(n,14005)),Promise.resolve().then(n.bind(n,15774)),Promise.resolve().then(n.bind(n,65897))}},e=>{var t=t=>e(e.s=t);e.O(0,[3913,2193,5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,7706,9294,8907,4638,6726,3231,9303,7456,6219,8803,3097,7558,1319,6852,7358],()=>t(99078)),_N_E=e.O()}]);