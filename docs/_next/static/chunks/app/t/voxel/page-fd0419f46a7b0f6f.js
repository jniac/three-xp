(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7686],{12219:function(e,t,n){Promise.resolve().then(n.t.bind(n,34709,23)),Promise.resolve().then(n.bind(n,70749)),Promise.resolve().then(n.bind(n,73549))},73549:function(e,t,n){"use strict";n.d(t,{Client:function(){return j}});var s=n(32617),r=n(83119),o=n(87062),i=n(47365),l=n(15721),c=n(9258),d=n(78780),a=n(29368),u=n(5693),f=n(92948),h=n(88780),p=n(80536),w=n(30636),m=n(12042),x=n(67896),v=n(28104),P=n(6246),b=n(97219);let k=new h.Raycaster;class y extends h.Group{createAllChunkMeshes(e){for(let{superChunkIndex:t,chunkIndex:n,chunk:s}of e.enumerateChunks()){let r=P.T.pick(["#ffdd55","#55ddff","#dd55ff","#55ffdd","#ff55dd","#ddff55","#ff5555"]),o=(0,p.eO)(s.voxelFaces()),i=new m.P({color:r}),{x:l,y:c,z:a}=e.metrics.fromIndexes(t,n,0);(0,d.cY)(new h.Mesh(o,i),{parent:this,x:l,y:c,z:a})}let t=e.computeVoxelBounds();(0,d.cY)(new b.O,this).box({box3:t,asIntBox3:!0}).box({box3:e.computeChunkBounds(),asIntBox3:!0,color:"#ff0000"}).draw();{let t=e.computeVoxelBounds(),n=(0,p.eO)(e.chunkVoxelFaces(t)),s=new m.P({color:"#ffffff"});(0,d.cY)(new h.Mesh(n,s),{parent:this,x:0,y:0,z:-32})}}createOneUniqueMesh(e){}constructor(...e){super(...e),this.parts=(()=>{P.T.reset();let e=(0,d.cY)(new h.Mesh(new h.TorusKnotGeometry(10,3,32,6),new m.P({wireframe:!0,side:h.DoubleSide})),this);e.visible=!1,(0,d.cY)(new w.K({size:24}),{parent:this,rotationX:"90deg"});let t=(0,d.cY)(new x.w,this),n=new p.q3;(0,f.a)({world:n});let s=new DataView(new ArrayBuffer(n.voxelStateByteSize));s.setUint8(0,1);let r=new h.Vector3;for(let{x:t,y:o,z:i}of(0,v.loop3)(24,24,24))t-=12,o-=12,i-=12,r.set(t+.5,o+.5,i+.5),k.set(r,new h.Vector3(1,0,0)),k.intersectObject(e,!0).length%2==1&&n.setVoxelState(t,o,i,s);return this.createAllChunkMeshes(n),{sky:t}})()}}var g=n(96915),B=n.n(g);function C(){return(0,u.Ky)(function*(e){(0,f.a)({three:e});let t=new l.F({size:50,perspective:1,rotation:["-20deg","-45deg",0]});yield t.start(e.renderer.domElement),a.vB.get("three").set({minActiveDuration:60}),yield(0,a.RC)("three",n=>{let{aspect:s,camera:r}=e;t.update(r,s,n.deltaTime)}),yield(0,i.p)([[{code:"Space",modifiers:"shift"},()=>{document.body.requestFullscreen()}]]);let n=new o.n(e.scene,e.camera);n.updatePdMaterial({lumaPhi:10,depthPhi:2,normalPhi:3,radius:100,radiusExponent:2,rings:2,samples:16}),e.pipeline.addPass(n,{type:c.GR.PostProcessing})},[]),null}function M(){return(0,u._v)("main",function*(e){(0,d.cY)(new y,e)},[]),null}function j(){return(0,s.jsx)("div",{children:(0,s.jsxs)(u.H7,{children:[(0,s.jsx)(C,{}),(0,s.jsx)(M,{}),(0,s.jsx)("div",{className:"layer thru flex flex-col p-4 gap-2",children:(0,s.jsx)(r.U,{className:B().Markdown,children:"# World\n\nWorld handles chunks under the hood.\n"})})]})})}}},function(e){e.O(0,[6321,7512,1561,7834,6158,3956,1067,3310,4709,5229,7619,812,3420,1540,167,4157,9258,5721,1174,2835,1267,5694,2840,1744],function(){return e(e.s=12219)}),_N_E=e.O()}]);