(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6374],{888:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:()=>r})},6697:(e,t,n)=>{"use strict";n.d(t,{O0:()=>r.O0,XW:()=>r.XW});var r=n(17112)},18653:(e,t,n)=>{"use strict";n.d(t,{Client:()=>E});var r=n(70691),o=n(84303),s=n(25432),i=n(95736),l=n(48083),u=n(6697),f=n(87381),a=n(36508),d=n(33855),c=n(28737),h=n(49797),p=n(7717),m=n(25809),y=n(9723),w=n(82091),v=n(72612),k=n(17099),x=n(56647);let b=new h.tBo;class j extends h.YJl{createAllChunkMeshes(e){for(let{superChunkIndex:t,chunkIndex:n,chunk:r}of e.enumerateChunks()){let o=k.c.pick(["#ffdd55","#55ddff","#dd55ff","#55ffdd","#ff55dd","#ddff55","#ff5555"]),s=(0,p.Cx)(r.voxelFaces()),i=new y.Y({color:o}),{x:l,y:u,z:a}=e.metrics.fromIndexes(t,n,0);(0,f.mj)(new h.eaF(s,i),{parent:this,x:l,y:u,z:a})}let t=e.computeVoxelBounds();(0,f.mj)(new x.R,this).box({box3:t,asIntBox3:!0}).box({box3:e.computeChunkBounds(),asIntBox3:!0,color:"#ff0000"}).draw();{let t=e.computeVoxelBounds(),n=(0,p.Cx)(e.chunkVoxelFaces(t)),r=new y.Y({color:"#ffffff"});(0,f.mj)(new h.eaF(n,r),{parent:this,x:0,y:0,z:-32})}}createOneUniqueMesh(e){}constructor(...e){super(...e),this.parts=(()=>{k.c.reset();let e=(0,f.mj)(new h.eaF(new h.UPV(10,3,32,6),new y.Y({wireframe:!0,side:h.$EB})),this);e.visible=!1,(0,f.mj)(new m.P({size:24}),{parent:this,rotationX:"90deg"});let t=(0,f.mj)(new w.N,this),n=new p.HK;(0,c.O)({world:n});let r=new DataView(new ArrayBuffer(n.voxelStateByteSize));r.setUint8(0,1);let o=new h.Pq0;for(let{x:t,y:s,z:i}of(0,v.loop3)(24,24,24))t-=12,s-=12,i-=12,o.set(t+.5,s+.5,i+.5),b.set(o,new h.Pq0(1,0,0)),b.intersectObject(e,!0).length%2==1&&n.setVoxelState(t,s,i,r);return this.createAllChunkMeshes(n),{sky:t}})()}}var g=n(42824),P=n.n(g);function O(){return(0,d.yk)(function*(e){(0,c.O)({three:e});let t=new l.n({size:50,perspective:1,rotation:["-20deg","-45deg",0]});yield t.start(e.renderer.domElement),a.Rv.get("three").set({minActiveDuration:60}),yield(0,a.xy)("three",n=>{let{aspect:r,camera:o}=e;t.update(o,r,n.deltaTime)}),yield(0,i.a)([[{code:"Space",modifiers:"shift"},()=>{document.body.requestFullscreen()}]]);let n=new s.F(e.scene,e.camera);n.updatePdMaterial({lumaPhi:10,depthPhi:2,normalPhi:3,radius:100,radiusExponent:2,rings:2,samples:16}),e.pipeline.addPass(n,{type:u.O0.PostProcessing})},[]),null}function C(){return(0,d.dB)("main",function*(e){(0,f.mj)(new j,e)},[]),null}function E(){return(0,r.jsx)("div",{children:(0,r.jsxs)(d.uB,{children:[(0,r.jsx)(O,{}),(0,r.jsx)(C,{}),(0,r.jsx)("div",{className:"layer thru flex flex-col p-4 gap-2",children:(0,r.jsx)(o.oz,{className:P().Markdown,children:"# World\n\nWorld handles chunks under the hood.\n"})})]})})}},43107:(e,t,n)=>{"use strict";function r(e,t){for(let n of e)if(t(n))return!0;return!1}function o(e,t){for(let n of e)if(!t(n))return!1;return!0}function s(e,t,n){let r=[];function o(e){let t=[];return r[e]=t,t}if(void 0!==n)for(let e=0;e<n;e++)o(e);for(let n of e){var s;let e=t(n);(null!=(s=r[e])?s:o(e)).push(n)}return r}function*i(e){let t;for(let n of e)void 0!==t&&(yield[t,n]),t=n}function l(e,t){let n,r=-1/0;for(let o of e){let e=t(o);e>r&&(r=e,n=o)}return n}function u(e){let t=new Set;return n=>{let r=e(n);return!t.has(r)&&(t.add(r),!0)}}function f(e){return(t,n)=>{if(null!==t&&"object"!=typeof t)throw Error("Accumulator must be an object");let r=null===t?{}:t,o=e(n);return r[o]||(r[o]=[]),r[o].push(n),r}}n.d(t,{Ju:()=>i,Si:()=>o,VY:()=>f,mn:()=>s,pD:()=>u,vj:()=>l,zN:()=>r})},53579:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,89294,23)),Promise.resolve().then(n.bind(n,13982)),Promise.resolve().then(n.bind(n,18653))},95736:(e,t,n)=>{"use strict";function r(e,t){return"*"===t||("string"==typeof t?t===e:t instanceof RegExp?t.test(e):"function"==typeof t&&t(e))}n.d(t,{a:()=>l});let o={preventDefault:!1,strictTarget:void 0},s={key:"*",keyCaseInsensitive:!0,code:"*",noModifiers:!1,modifiers:"",phase:"down"},i=0;function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let l=i++,[u,f,a]=1===t.length?[document.body,{},t[0]]:2===t.length?[t[0],{},t[1]]:t,{preventDefault:d}={...o,...f},c=null,h=e=>{var t;if((null!=(t=f.strictTarget)?!!t:u===document.body)&&e.target!==u)return;"keydown"===e.type&&(c=e);let{ctrlKey:n=!1,altKey:o=!1,shiftKey:i=!1,metaKey:h=!1}=null!=c?c:{},p={id:l,event:e,downEvent:c,modifiers:{ctrl:n,alt:o,shift:i,meta:h}};for(let t=0,l=a.length;t<l;t++){let[l,u]=a[t],{key:f,keyCaseInsensitive:m,code:y,noModifiers:w,modifiers:v,phase:k="down"}=function(e){let t="string"==typeof e?{...s,key:e}:{...s,...e};return t.keyCaseInsensitive&&"string"==typeof t.key&&(t.key=t.key.toLowerCase()),t}(l);switch(e.type){case"keydown":if("down"!==k)continue;break;case"keyup":if("up"!==k)continue}Object.values({key:r(m?e.key.toLowerCase():e.key,f),code:r(e.code,y),noModifiers:!w||!1===n&&!1===o&&!1===i&&!1===h,modifiers:function(e,t){let{ctrlKey:n,altKey:r,shiftKey:o,metaKey:s}=e;if("function"==typeof t)return t({ctrl:n,alt:r,shift:o,meta:s});let{ctrl:i=!1,alt:l=!1,shift:u=!1,meta:f=!1}=Object.fromEntries(t.split("-").map(e=>[e,!0]));return i===n&&l===r&&u===o&&f===s}(c,v)}).every(Boolean)&&(d&&e.preventDefault(),u(p))}};return u.addEventListener("keydown",h,{passive:!1}),u.addEventListener("keyup",h,{passive:!1}),{destroy:()=>{u.removeEventListener("keydown",h),u.removeEventListener("keyup",h)}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[3470,5611,7190,7223,9635,8921,4957,7775,6814,9294,5438,5130,4638,6726,2598,1213,8083,7112,4135,4179,5117,3982,1319,6852,7358],()=>t(53579)),_N_E=e.O()}]);