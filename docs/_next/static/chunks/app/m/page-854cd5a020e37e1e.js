(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4302],{6697:(e,t,n)=>{"use strict";n.d(t,{O0:()=>i.O0,XW:()=>i.XW});var i=n(17112)},14277:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(67203);function a(){let[e,t]=(0,i.useState)(!1);return(0,i.useLayoutEffect)(()=>{t(!0)},[]),e}},33855:(e,t,n)=>{"use strict";n.d(t,{dB:()=>f,q:()=>h,uB:()=>w,yk:()=>y});var i=n(70691),a=n(67203),r=n(49797),s=n(7587),l=n(48083),o=n(6697),u=n(36508),c=n(14277);let d=(0,a.createContext)(null);function y(e,t){let n=(0,a.useContext)(d);return(0,s.C7)(async function*(t,i){if(e){let t=e(n,i);if(t&&"function"==typeof t.next)do{let{value:e,done:n}=await t.next();if(n)break;yield e}while(i.mounted)}},null!=t?t:"always"),n}function f(e,t,n){let i=(0,a.useMemo)(()=>new r.YJl,[]);return i.name=e,y(async function*(e,n){if(e.scene.add(i),yield()=>{i.clear(),i.removeFromParent()},t){let a=t(i,e,n);if(a&&"function"==typeof a.next)do{let{value:e,done:t}=await a.next();if(t)break;yield e}while(n.mounted)}},n),i}function h(e){let{value:t}=e,n=(0,a.useMemo)(()=>"function"==typeof t?new t:t,[t]);return y(async function*(e){if(e.scene.add(n),"initialize"in n){let t=n.initialize(e);if(t&&"function"==typeof t.next)for(;;){let{value:e,done:n}=await t.next();if(n)break;yield e}}yield()=>{if(n.removeFromParent(),"destroy"in n){var e;null==(e=n.destroy)||e.call(n)}}},[n]),null}let x={className:"",assetsPath:"/",vertigoControls:!1};function m(e){let{children:t,className:n,assetsPath:r,vertigoControls:c}={...x,...e},y=(0,a.useMemo)(()=>new o.XW,[]);y.loader.setPath(r);let{ref:f}=(0,s.IZ)({debounce:!0},function*(e,t){yield y.initialize(e.firstElementChild),t.triggerRender(),Object.assign(window,{three:y})},[]);(0,s.C7)(function*(){if(c){let e=new l.n("object"==typeof c?c:{}).initialize(f.current).start();yield e.destroy,yield(0,u.xy)("three",t=>{e.update(y.camera,y.aspect,t.deltaTime)})}},[c]);let h={position:"absolute",inset:0};return(0,i.jsx)("div",{ref:f,className:n,style:h,children:(0,i.jsxs)(d.Provider,{value:y,children:[(0,i.jsx)("div",{style:h}),(0,i.jsx)("div",{style:h,className:"thru",children:y.initialized&&t})]})})}function w(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,c.D)()&&(0,i.jsx)(m,{...t[0]})}},55551:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var i=n(49797);let a=new i.Pq0;function r(e,t,n,i,r,s){let l=2*Math.PI*r/4,o=Math.max(s-2*r,0),u=Math.PI/4;a.copy(t),a[i]=0,a.normalize();let c=.5*l/(l+o),d=1-a.angleTo(e)/u;return 1===Math.sign(a[n])?d*c:o/(l+o)+c+c*(1-d)}class s extends i.iNn{constructor(e=1,t=1,n=1,a=2,s=.1){if(a=2*a+1,s=Math.min(e/2,t/2,n/2,s),super(1,1,1,a,a,a),1===a)return;let l=this.toNonIndexed();this.index=null,this.attributes.position=l.attributes.position,this.attributes.normal=l.attributes.normal,this.attributes.uv=l.attributes.uv;let o=new i.Pq0,u=new i.Pq0,c=new i.Pq0(e,t,n).divideScalar(2).subScalar(s),d=this.attributes.position.array,y=this.attributes.normal.array,f=this.attributes.uv.array,h=d.length/6,x=new i.Pq0,m=.5/a;for(let i=0,a=0;i<d.length;i+=3,a+=2)switch(o.fromArray(d,i),u.copy(o),u.x-=Math.sign(u.x)*m,u.y-=Math.sign(u.y)*m,u.z-=Math.sign(u.z)*m,u.normalize(),d[i+0]=c.x*Math.sign(o.x)+u.x*s,d[i+1]=c.y*Math.sign(o.y)+u.y*s,d[i+2]=c.z*Math.sign(o.z)+u.z*s,y[i+0]=u.x,y[i+1]=u.y,y[i+2]=u.z,Math.floor(i/h)){case 0:x.set(1,0,0),f[a+0]=r(x,u,"z","y",s,n),f[a+1]=1-r(x,u,"y","z",s,t);break;case 1:x.set(-1,0,0),f[a+0]=1-r(x,u,"z","y",s,n),f[a+1]=1-r(x,u,"y","z",s,t);break;case 2:x.set(0,1,0),f[a+0]=1-r(x,u,"x","z",s,e),f[a+1]=r(x,u,"z","x",s,n);break;case 3:x.set(0,-1,0),f[a+0]=1-r(x,u,"x","z",s,e),f[a+1]=1-r(x,u,"z","x",s,n);break;case 4:x.set(0,0,1),f[a+0]=1-r(x,u,"x","y",s,e),f[a+1]=1-r(x,u,"y","x",s,t);break;case 5:x.set(0,0,-1),f[a+0]=r(x,u,"x","y",s,e),f[a+1]=1-r(x,u,"y","x",s,t)}}}},58389:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,89294,23)),Promise.resolve().then(n.bind(n,71247))},71247:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var i=n(70691),a=n(49797),r=n(30158),s=n(55551),l=n(33855);function o(){return(0,l.yk)(async function*(e){e.useOrbitControls();{let t=new a.eaF(new s.j,new a.uSd({color:"indigo",clearcoat:.66,clearcoatRoughness:.2}));e.scene.add(t),yield e.onTick(e=>{t.rotation.x+=.1*e.deltaTime,t.rotation.y+=.1*e.deltaTime})}{let t=new a.eaF(new a.WBB(1,8),new a.uSd({roughness:.1,metalness:.9,color:"indigo",iridescence:.5}));t.position.set(2,0,0),e.scene.add(t)}let t=await e.loader.loadRgbe("https://threejs.org/examples/textures/equirectangular/royal_esplanade_1k.hdr");t.mapping=a.wfO;let n=new r.PMREMGenerator(e.renderer),i=n.fromEquirectangular(t);n.dispose(),e.scene.environment=i.texture},"always"),null}function u(){return(0,i.jsxs)(l.uB,{className:"Client absolute-through flex flex-col p-4",children:[(0,i.jsx)("h1",{children:"Client"}),(0,i.jsx)(o,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5611,7190,7223,9635,8921,4957,7775,6814,9294,4638,6726,2598,1213,9673,8083,7112,1319,6852,7358],()=>t(58389)),_N_E=e.O()}]);