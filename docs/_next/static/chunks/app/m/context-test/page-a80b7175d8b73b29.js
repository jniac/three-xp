(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1700],{16339:function(e,t,n){Promise.resolve().then(n.bind(n,78689))},78689:function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var r=n(78485),s=n(52471),i=n(30035),a=n(4917);function o(){return(0,a.Ky)(async function*(e){e.useOrbitControls();{let t=new s.Mesh(new i.k,new s.MeshPhysicalMaterial({color:"indigo",clearcoat:.66,clearcoatRoughness:.2}));e.scene.add(t),yield e.onTick(e=>{t.rotation.x+=.1*e.deltaTime,t.rotation.y+=.1*e.deltaTime})}{let t=new s.Mesh(new s.IcosahedronGeometry(1,8),new s.MeshPhysicalMaterial({roughness:.1,metalness:.9,color:"indigo",iridescence:.5}));t.position.set(2,0,0),e.scene.add(t)}let t=await e.loader.loadRgbe("https://threejs.org/examples/textures/equirectangular/royal_esplanade_1k.hdr");t.mapping=s.EquirectangularReflectionMapping;let n=new s.PMREMGenerator(e.renderer),r=n.fromEquirectangular(t);n.dispose(),e.scene.environment=r.texture},"always"),null}function u(){return(0,r.jsxs)(a.H7,{className:"Client absolute-through flex flex-col p-4",children:[(0,r.jsx)("h1",{children:"Client"}),(0,r.jsx)(o,{})]})}},96966:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});let r={development:!1,assetsPath:"/three-xp/assets/"}},4917:function(e,t,n){"use strict";n.d(t,{H7:function(){return f},Ky:function(){return d},_v:function(){return h}});var r=n(78485),s=n(27275),i=n(52471),a=n(48583),o=n(48181),u=n(96966),c=n(11030);let l=(0,s.createContext)(null);function d(e,t){let n=(0,s.useContext)(l);return(0,a.sv)(async function*(t,r){if(e){let t=e(n,r);if(t&&"function"==typeof t.next)do{let{value:e,done:n}=await t.next();if(n)break;yield e}while(r.mounted)}},null!=t?t:"always"),n}function h(e,t,n){let r=(0,s.useMemo)(()=>new i.Group,[]);return r.name=e,d(async function*(e,n){if(e.scene.add(r),yield()=>{r.clear(),r.removeFromParent()},t){let s=t(r,e,n);if(s&&"function"==typeof s.next)do{let{value:e,done:t}=await s.next();if(t)break;yield e}while(n.mounted)}},n),r}function v(e){let{children:t,className:n}=e,c=(0,s.useMemo)(()=>new o.Vu,[]),{ref:d}=(0,a.sv)(function*(e){c.loader.setPath(u.v.assetsPath),yield c.initialize(e),Object.assign(window,{three:c,THREE:i})},[]);return(0,r.jsx)("div",{ref:d,className:"ThreeProvider absolute-through ".concat(null!=n?n:""),children:(0,r.jsx)(l.Provider,{value:c,children:t})})}function f(e){return(0,c.O)()&&(0,r.jsx)(v,{...e})}},11030:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(27275);function s(){let[e,t]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{t(!0)},[]),e}},32423:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,s]=1===t.length?[window,t[0]]:t,i=()=>{s()};return r.addEventListener("mousemove",i,{passive:!0}),r.addEventListener("mousedown",i,{passive:!0}),r.addEventListener("mouseup",i,{passive:!0}),r.addEventListener("touchstart",i,{passive:!0}),r.addEventListener("touchmove",i,{passive:!0}),r.addEventListener("wheel",i,{passive:!0}),r.addEventListener("keydown",i,{passive:!0}),r.addEventListener("keyup",i,{passive:!0}),window.addEventListener("resize",i,{passive:!0}),{destroy:()=>{r.removeEventListener("mousemove",i),r.removeEventListener("mousedown",i),r.removeEventListener("mouseup",i),r.removeEventListener("touchstart",i),r.removeEventListener("touchmove",i),r.removeEventListener("wheel",i),r.removeEventListener("keydown",i),r.removeEventListener("keyup",i),window.removeEventListener("resize",i)}}}n.d(t,{s:function(){return r}})},30035:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(52471);let s=new r.Vector3;function i(e,t,n,r,i,a){let o=2*Math.PI*i/4,u=Math.max(a-2*i,0);s.copy(t),s[r]=0,s.normalize();let c=.5*o/(o+u),l=1-s.angleTo(e)/(Math.PI/4);return 1===Math.sign(s[n])?l*c:u/(o+u)+c+c*(1-l)}class a extends r.BoxGeometry{constructor(e=1,t=1,n=1,s=2,a=.1){if(s=2*s+1,a=Math.min(e/2,t/2,n/2,a),super(1,1,1,s,s,s),1===s)return;let o=this.toNonIndexed();this.index=null,this.attributes.position=o.attributes.position,this.attributes.normal=o.attributes.normal,this.attributes.uv=o.attributes.uv;let u=new r.Vector3,c=new r.Vector3,l=new r.Vector3(e,t,n).divideScalar(2).subScalar(a),d=this.attributes.position.array,h=this.attributes.normal.array,v=this.attributes.uv.array,f=d.length/6,m=new r.Vector3,y=.5/s;for(let r=0,s=0;r<d.length;r+=3,s+=2)switch(u.fromArray(d,r),c.copy(u),c.x-=Math.sign(c.x)*y,c.y-=Math.sign(c.y)*y,c.z-=Math.sign(c.z)*y,c.normalize(),d[r+0]=l.x*Math.sign(u.x)+c.x*a,d[r+1]=l.y*Math.sign(u.y)+c.y*a,d[r+2]=l.z*Math.sign(u.z)+c.z*a,h[r+0]=c.x,h[r+1]=c.y,h[r+2]=c.z,Math.floor(r/f)){case 0:m.set(1,0,0),v[s+0]=i(m,c,"z","y",a,n),v[s+1]=1-i(m,c,"y","z",a,t);break;case 1:m.set(-1,0,0),v[s+0]=1-i(m,c,"z","y",a,n),v[s+1]=1-i(m,c,"y","z",a,t);break;case 2:m.set(0,1,0),v[s+0]=1-i(m,c,"x","z",a,e),v[s+1]=i(m,c,"z","x",a,n);break;case 3:m.set(0,-1,0),v[s+0]=1-i(m,c,"x","z",a,e),v[s+1]=1-i(m,c,"z","x",a,n);break;case 4:m.set(0,0,1),v[s+0]=1-i(m,c,"x","y",a,e),v[s+1]=1-i(m,c,"y","x",a,t);break;case 5:m.set(0,0,-1),v[s+0]=i(m,c,"x","y",a,e),v[s+1]=1-i(m,c,"y","x",a,t)}}}}},function(e){e.O(0,[5244,6712,6666,5792,2452,7741,2722,4940,8181,2920,7936,1744],function(){return e(e.s=16339)}),_N_E=e.O()}]);