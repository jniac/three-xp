(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6341],{300:function(e,t,n){Promise.resolve().then(n.t.bind(n,62670,23)),Promise.resolve().then(n.bind(n,78689))},78689:function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var r=n(78485),i=n(52471),a=n(30035),s=n(4917);function o(){return(0,s.Ky)(async function*(e){e.useOrbitControls();{let t=new i.Mesh(new a.k,new i.MeshPhysicalMaterial({color:"indigo",clearcoat:.66,clearcoatRoughness:.2}));e.scene.add(t),yield e.onTick(e=>{t.rotation.x+=.1*e.deltaTime,t.rotation.y+=.1*e.deltaTime})}{let t=new i.Mesh(new i.IcosahedronGeometry(1,8),new i.MeshPhysicalMaterial({roughness:.1,metalness:.9,color:"indigo",iridescence:.5}));t.position.set(2,0,0),e.scene.add(t)}let t=await e.loader.loadRgbe("https://threejs.org/examples/textures/equirectangular/royal_esplanade_1k.hdr");t.mapping=i.EquirectangularReflectionMapping;let n=new i.PMREMGenerator(e.renderer),r=n.fromEquirectangular(t);n.dispose(),e.scene.environment=r.texture},"always"),null}function u(){return(0,r.jsxs)(s.H7,{className:"Client absolute-through flex flex-col p-4",children:[(0,r.jsx)("h1",{children:"Client"}),(0,r.jsx)(o,{})]})}},96966:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});let r={development:!1}},4917:function(e,t,n){"use strict";n.d(t,{H7:function(){return y},Ky:function(){return h},_v:function(){return d}});var r=n(78485),i=n(27275),a=n(52471),s=n(48583),o=n(48181),u=n(96966),l=n(11030);let c=(0,i.createContext)(null);function h(e,t){let n=(0,i.useContext)(c);return(0,s.sv)(async function*(t,r){if(e){let t=e(n,r);if(t&&"function"==typeof t.next)do{let{value:e,done:n}=await t.next();if(n)break;yield e}while(r.mounted)}},null!=t?t:"always"),n}function d(e,t,n){let r=(0,i.useMemo)(()=>new a.Group,[]);return r.name=e,h(async function*(e,n){if(e.scene.add(r),yield()=>{r.clear(),r.removeFromParent()},t){let i=t(r,e,n);if(i&&"function"==typeof i.next)do{let{value:e,done:t}=await i.next();if(t)break;yield e}while(n.mounted)}},n),r}function f(e){let{children:t,className:n}=e,l=(0,i.useMemo)(()=>new o.Vu,[]),{ref:h}=(0,s.sv)(function*(e){let t=u.v.development?"/assets/":"/three-xp/assets/";l.loader.setPath(t),yield l.initialize(e),Object.assign(window,{three:l,THREE:a})},[]);return(0,r.jsx)("div",{ref:h,className:"ThreeProvider absolute-through ".concat(null!=n?n:""),children:(0,r.jsx)(c.Provider,{value:l,children:t})})}function y(e){return(0,l.O)()&&(0,r.jsx)(f,{...e})}},11030:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(27275);function i(){let[e,t]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{t(!0)},[]),e}},30035:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(52471);let i=new r.Vector3;function a(e,t,n,r,a,s){let o=2*Math.PI*a/4,u=Math.max(s-2*a,0);i.copy(t),i[r]=0,i.normalize();let l=.5*o/(o+u),c=1-i.angleTo(e)/(Math.PI/4);return 1===Math.sign(i[n])?c*l:u/(o+u)+l+l*(1-c)}class s extends r.BoxGeometry{constructor(e=1,t=1,n=1,i=2,s=.1){if(i=2*i+1,s=Math.min(e/2,t/2,n/2,s),super(1,1,1,i,i,i),1===i)return;let o=this.toNonIndexed();this.index=null,this.attributes.position=o.attributes.position,this.attributes.normal=o.attributes.normal,this.attributes.uv=o.attributes.uv;let u=new r.Vector3,l=new r.Vector3,c=new r.Vector3(e,t,n).divideScalar(2).subScalar(s),h=this.attributes.position.array,d=this.attributes.normal.array,f=this.attributes.uv.array,y=h.length/6,x=new r.Vector3,m=.5/i;for(let r=0,i=0;r<h.length;r+=3,i+=2)switch(u.fromArray(h,r),l.copy(u),l.x-=Math.sign(l.x)*m,l.y-=Math.sign(l.y)*m,l.z-=Math.sign(l.z)*m,l.normalize(),h[r+0]=c.x*Math.sign(u.x)+l.x*s,h[r+1]=c.y*Math.sign(u.y)+l.y*s,h[r+2]=c.z*Math.sign(u.z)+l.z*s,d[r+0]=l.x,d[r+1]=l.y,d[r+2]=l.z,Math.floor(r/y)){case 0:x.set(1,0,0),f[i+0]=a(x,l,"z","y",s,n),f[i+1]=1-a(x,l,"y","z",s,t);break;case 1:x.set(-1,0,0),f[i+0]=1-a(x,l,"z","y",s,n),f[i+1]=1-a(x,l,"y","z",s,t);break;case 2:x.set(0,1,0),f[i+0]=1-a(x,l,"x","z",s,e),f[i+1]=a(x,l,"z","x",s,n);break;case 3:x.set(0,-1,0),f[i+0]=1-a(x,l,"x","z",s,e),f[i+1]=1-a(x,l,"z","x",s,n);break;case 4:x.set(0,0,1),f[i+0]=1-a(x,l,"x","y",s,e),f[i+1]=1-a(x,l,"y","x",s,t);break;case 5:x.set(0,0,-1),f[i+0]=a(x,l,"x","y",s,e),f[i+1]=1-a(x,l,"y","x",s,t)}}}}},function(e){e.O(0,[5244,6712,6666,5792,2452,7741,2722,2670,4940,8181,2920,7936,1744],function(){return e(e.s=300)}),_N_E=e.O()}]);