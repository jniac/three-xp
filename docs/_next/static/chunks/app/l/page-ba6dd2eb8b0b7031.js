(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6449],{9723:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(49797),i=n(60041);let o={shadowColor:"#808080",luminosity:1,rampPower:1,onBeforeCompile:void 0};class l extends r.V9B{constructor(e){let{rampPower:t,shadowColor:n,luminosity:l,onBeforeCompile:s,...a}={...o,...e},c={uSunPosition:{value:new r.Pq0(.5,.7,.3)},uShadowColor:{value:new r.Q1f(n)},uRampPower:{value:t},uLuminosity:{value:l}};super(a),this.onBeforeCompile=e=>{i.b.with(e).uniforms(c).varying({vWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vWorldNormal = mat3(modelMatrix) * normal;\n        ").fragment.after("map_fragment","\n          vec3 lightDirection = normalize(uSunPosition);\n          float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n          light = pow(light, uRampPower);\n          diffuseColor.rgb *= mix(uShadowColor * uLuminosity, vec3(1.0), light);\n        "),null==s||s(e)},this.sunPosition=c.uSunPosition.value}}},17099:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(79105);let i=e=>e,o={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function l(){let e=(0,r.K2)((0,r.K2)((0,r.Ts)(r.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,r.K2)((0,r.K2)((0,r.Ts)(t))),u}function n(){return e=(0,r.K2)(e),(0,r.Tj)(e)}function l(e){switch(e.length){default:return[0,1,i];case 1:return[0,e[0],i];case 2:return[e[0],e[1],i];case 3:return[e[0],e[1],e[2]]}}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o,s]=l(t);return i+(o-i)*s(n())}function a(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];let[l,s,{weightsAreNormalized:a,indexOffset:c,forbiddenItems:u}]=function(e){let[t,n=null,r]=e,i={...o,...r};if(Array.isArray(t))return[t,n,i];if("object"==typeof t)return[Object.values(t),n?Object.values(n):null,i];throw Error("pick: unsupported options type")}(r);if(u.length>0){let t=new Set;for(let e of u){let n=l.indexOf(e);n>=0&&t.add(n)}if(l=l.filter((e,n)=>!t.has(n)),s=null!=(e=null==s?void 0:s.filter((e,n)=>!t.has(n)))?e:null,0===l.length)throw Error("pick: all items are forbidden")}if(null===s){let e=Math.floor(n()*l.length);return c&&(e+=c,(e%=l.length)<0&&(e+=l.length)),l[e]}if(!a){let e=s.reduce((e,t)=>e+t,0);s=s.map(t=>t/e)}let h=n(),d=0;for(let e=0;e<l.length;e++)if(h<(d+=s[e]))return l[e];throw Error("among: unreachable")}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=n(),i=n(),o=Math.sqrt(-2*Math.log(r)),l=2*Math.PI*i;return[e+t*o*Math.cos(l),e+t*o*Math.sin(l)]}let u={seed:t,seedMax:function(){return r.Zu},reset:function(){return t(r.KP),u},next:function(){return e=(0,r.K2)(e),u},getState:function(){return e},setState:function(t){return e=t&r.Zu,u},random:n,between:s,around:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[o=1,l=i]=t,s=2*n();return(s>1?1:-1)*l(s>1?s-1:s)*o},int:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,o,s]=l(t);return i+Math.floor(s(n())*(o-i))},chance:function(e){return n()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t&&Array.isArray(e)?e:[...e],i=r.length;for(let e=0;e<i;e++){let t=Math.floor(i*n()),o=r[e];r[e]=r[t],r[t]=o}return r},pick:a,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),n=e.map(e=>{let[t,n]=e;return n}),r=n.reduce((e,t)=>e+t,0);for(let[e,t]of n.entries())n[e]=t/r;return()=>a(t,n,{weightsAreNormalized:!0})},vector:function(e,t){let[n=0,r=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=s(n,r);return e},unitVector2:function(e){let t=2*Math.PI*n();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=n(),r=n(),i=2*Math.PI*t,o=Math.acos(1-2*r);return e.x=Math.sin(o)*Math.cos(i),e.y=Math.sin(o)*Math.sin(i),e.z=Math.cos(o),e},normalVector:function(e){let t=Object.keys(e),n=t.length,r=Math.sqrt(n);for(let i=0;i<n;i+=2){let[o,l]=c();e[t[i]]=o/r,i+1<n&&(e[t[i+1]]=l/r)}return e},unitVector:function(e){let t=Object.keys(e),n=t.length,r=0;for(let i=0;i<n;i+=2){let[o,l]=c();e[t[i]]=o,r+=o*o,i+1<n&&(e[t[i+1]]=l,r+=l*l)}r=Math.sqrt(r);for(let i=0;i<n;i++)e[t[i]]/=r;return e},boxMuller:c,quaternion:function(e){let t=n(),r=n(),i=n(),o=Math.sqrt(1-t),l=Math.sqrt(t);return e.x=o*Math.sin(2*Math.PI*r),e.y=o*Math.cos(2*Math.PI*r),e.z=l*Math.sin(2*Math.PI*i),e.w=l*Math.cos(2*Math.PI*i),e},insideCircle:function(e,t){let r=2*n()*Math.PI,i=Math.sqrt(n())*e;return t.x=i*Math.cos(r),t.y=i*Math.sin(r),t}};return u}let s=class{constructor(e){Object.assign(this,l().seed(e))}};Object.assign(s,l())},25809:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(49797),i=n(92381);let o={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0};class l extends r.DXC{set(e){let{color:t,opacity:n,size:l,step:s,frame:a,plane:c}={...o,...e},u=(0,i.wX)(l),h=(0,i.wX)(null!=s?s:u),d=[],f=(e,t)=>d.push(new r.Pq0(e,t,0));a&&(f(-u.x/2,u.y/2),f(u.x/2,u.y/2),f(u.x/2,u.y/2),f(u.x/2,-u.y/2),f(u.x/2,-u.y/2),f(-u.x/2,-u.y/2),f(-u.x/2,-u.y/2),f(-u.x/2,u.y/2));let m=Math.ceil(-u.x/2/h.x)*h.x;m===-u.x/2&&(m+=h.x);do f(m,-u.y/2),f(m,u.y/2),m+=h.x;while(m<u.x/2);let v=Math.ceil(-u.y/2/h.y)*h.y;v===-u.y/2&&(v+=h.y);do f(-u.x/2,v),f(u.x/2,v),v+=h.y;while(v<u.y/2);switch(this.geometry.setFromPoints(d),c){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.material.color.set(t),this.material.opacity=n,this.material.transparent=n<1,this}constructor(e){super(),this.set(null!=e?e:o)}}},34125:(e,t,n)=>{"use strict";n.d(t,{ServerProof:()=>l});var r=n(70691),i=n(67203);let o=function(){return(0,r.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:"loading..."})};function l(){let[,e]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let t=!0;return Promise.all([n.e(5611),n.e(6564),n.e(7962),n.e(7953),n.e(4638),n.e(2294)]).then(n.bind(n,52294)).then(n=>{t&&(o=n.ChooseOne,e(Math.random()))}),()=>{t=!1}},[]),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:(0,r.jsx)("div",{className:"absolute-through",children:(0,r.jsx)(o,{})})})}},51921:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,89294,23)),Promise.resolve().then(n.bind(n,66209)),Promise.resolve().then(n.bind(n,59481)),Promise.resolve().then(n.bind(n,73341)),Promise.resolve().then(n.bind(n,34125)),Promise.resolve().then(n.bind(n,99398)),Promise.resolve().then(n.bind(n,68516)),Promise.resolve().then(n.bind(n,85862)),Promise.resolve().then(n.bind(n,94449))},59481:(e,t,n)=>{"use strict";n.d(t,{Main:()=>m});var r=n(70691),i=n(49797),o=n(84306),l=n(16219),s=n(56647),a=n(9723),c=n(87381),u=n(36508);class h extends i.eaF{constructor(){super(new i.bdM(4,.2),new a.Y({color:"#ff9900"}))}}class d extends i.eaF{constructor(){super(new i.bdM(4,.2),new i.BKk({uniforms:{uColor:{value:new i.Q1f("#ff9900")},uSunPosition:{value:new i.Pq0(.5,.7,.3)},uLuminosity:{value:.5}},vertexShader:"\n      varying vec3 vWorldNormal;\n      \n      void main() {\n        vWorldNormal = mat3(modelMatrix) * normal;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        gl_Position.z += -0.01;\n      }\n    ",fragmentShader:"\n      varying vec3 vWorldNormal;\n      varying vec3 vColor;\n      \n      uniform vec3 uSunPosition;\n      uniform vec3 uColor;\n      uniform float uLuminosity;\n      \n      void main() {\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        gl_FragColor = vec4(uColor * light, 1.0);\n      }\n    "}))}}function f(){return(0,o.hG)(function*(e){e.useOrbitControls=!1;let t=new l.n({size:[8,8]});t.start(e.three.renderer.domElement),yield(0,u.xy)("three",n=>{t.update(e.three.camera,e.three.aspect)})}),(0,o.yk)(function*(e){e.scene.background=new i.Q1f("#6699cc"),(0,c.mj)(new i.eaF(new i.WBB(1,4),new a.Y({color:"red"})),e.scene),(0,c.mj)(new s.R,e.scene).box({size:2}).draw().showOccludedLines(),(0,c.mj)(new h,{parent:e.scene,position:[0,.5,0]}),(0,c.mj)(new d,{parent:e.scene,position:[0,-.5,0]}),yield()=>e.scene.clear()},[]),null}function m(){return(0,r.jsx)(o.YV,{children:(0,r.jsx)(f,{})})}},66209:(e,t,n)=>{"use strict";n.d(t,{Main:()=>m});var r=n(70691),i=n(49797),o=n(84306),l=n(9723),s=n(60041),a=n(66851),c=n(87381),u=n(72612),h=n(17099);class d extends i.YJl{constructor(){super(),(0,c.mj)(new i.eaF(new i.WBB(1,12),new l.Y),this),(0,c.mj)(new i.eaF(new i.UPV(2,.1,256,16),new l.Y({color:"red"})),this);let e=new i.uWO(new Float32Array(100),4),t=new i.bdM;t.setAttribute("aRand",e);let n=new i.V9B({side:i.$EB});n.onBeforeCompile=e=>s.b.with(e).vertex.top("\n        attribute vec4 aRand;\n      ").vertex.after("project_vertex","\n        gl_Position.z += aRand.x * .1;\n      ");let r=(0,c.mj)(new i.ZLX(t,n,25),this);h.c.reset();let o=Array.from({length:25},()=>0xffffff*h.c.random());for(let t of(0,u.loop2)(5,5)){let n=(t.px-.5)*4,i=(t.py-.5)*4,l=(t.px+t.py)*.4;r.setMatrixAt(t.i,(0,a.w)({x:n,y:i,z:l,scaleScalar:1.25})),r.setColorAt(t.i,(0,a._)(h.c.pick(o))),e.setXYZW(t.i,h.c.random(),h.c.random(),h.c.random(),h.c.random())}}}function f(){return(0,o.yk)(function*(e){e.useOrbitControls(),e.scene.background=new i.Q1f("#345");let t=new d;e.scene.add(t),yield()=>t.removeFromParent()},[]),null}function m(){return(0,r.jsx)(o.YV,{children:(0,r.jsx)(f,{})})}},66620:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(89868),i=n(44138);function o(e,t){var n=(0,i._)(e,t,"update");return(0,r._)(e,n)}},68516:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>o});var r=n(70691),i=n(67203);function o(){let[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{Promise.all([n.e(5500),n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(4638),n.e(6726),n.e(3231),n.e(9303),n.e(7456),n.e(6219),n.e(7215)]).then(n.bind(n,51571)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}},73341:(e,t,n)=>{"use strict";n.d(t,{Main:()=>v});var r=n(70691),i=n(49797),o=n(12719),l=n(64028),s=n(84306),a=n(25809),c=n(56647),u=n(9723),h=n(87381),d=n(36508);class f extends i.YJl{onTick(e){let{sphere:t,pivot:n,position:r}=this.parts,o=e.lerpSin01Time(.5,1.5,{frequency:.2}),l=new i.Pq0().copy(n.position).addScaledVector(n.position,-o);t.matrixAutoUpdate=!1,t.matrix.makeScale(o,o,o).setPosition(l.add(r.position))}constructor(...e){super(...e),this.parts={sphere:(0,h.mj)(new i.eaF(new i.WBB(1,8),new u.Y),{name:"sphere",parent:this}),circle:(0,h.mj)(new c.R().circle({radius:.5}).circle({radius:1}).circle({radius:1.5}).draw(),{name:"circle",parent:this}),pivot:(0,h.mj)(new i.YJl,{name:"pivot",parent:this}),position:(0,h.mj)(new i.YJl,{name:"position",parent:this}),grid:(0,h.mj)(new a.P,{name:"grid",parent:this,rotationX:"90deg"})}}}function m(){let e=(0,s.hG)();return(0,s.yk)(function*(t){t.scene.background=new i.Q1f("#345");let n=new f;t.scene.add(n),yield(0,d.xy)("three",e=>n.onTick(e)),e.sceneSelection.set("Hop!",[n.parts.pivot]),e.toolType.set(o.pv.Move),(0,l._t)(e,n.parts.pivot),yield()=>n.removeFromParent()},[]),null}function v(){return(0,r.jsxs)(s.YV,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)("div",{className:"flex flex-col p-4 gap-2",children:[(0,r.jsx)("p",{children:"Pivot offset to perform translate and scale is quite straightforward:"}),(0,r.jsx)("pre",{className:"bg-[#fff1] rounded px-2 py-1",children:"\nconst scale = ... // some value\nconst translate = new Vector3()\n  .copy(pivot.position)\n  .addScaledVector(pivot.position, -scale)\n\nmatrix\n  .makeScale(scale, scale, scale)\n  .setPosition(translate)\n".trim()})]})]})}},79105:(e,t,n)=>{"use strict";n.d(t,{K2:()=>l,KP:()=>i,Tj:()=>s,Ts:()=>o,Zu:()=>r});let r=0x7fffffff,i=123456,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=r,(t=t<0?t+r:t)>1)return t&r;if(0===t)return i;throw Error("Impossible. ".concat(t))},l=e=>e=Math.imul(e,48271)&r,s=e=>(e-1)/(r-1)},85862:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>o});var r=n(70691),i=n(67203);function o(){let[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{Promise.all([n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(4638),n.e(6726),n.e(3231),n.e(9303),n.e(7456),n.e(6219),n.e(1080)]).then(n.bind(n,92622)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}},94449:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>o});var r=n(70691),i=n(67203);function o(){let[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{Promise.all([n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(4638),n.e(6726),n.e(3231),n.e(9303),n.e(7456),n.e(6219),n.e(8413)]).then(n.bind(n,71237)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}},99398:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>o});var r=n(70691),i=n(67203);function o(){let[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{Promise.all([n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(4638),n.e(6726),n.e(3231),n.e(9303),n.e(7456),n.e(6219),n.e(6224)]).then(n.bind(n,92358)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2193,5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,7706,9294,4638,6726,3231,9303,7456,6219,7112,7558,6647,1319,6852,7358],()=>t(51921)),_N_E=e.O()}]);