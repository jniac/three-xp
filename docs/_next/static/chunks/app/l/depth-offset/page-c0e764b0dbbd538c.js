(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4261],{3293:(e,t,r)=>{"use strict";r.d(t,{_:()=>u,w:()=>i});var n=r(49797),o=r(93432);let l=new n.kn4;function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return null===e?(t.elements.fill(0),t):(0,o.vl)(e,t)}let a=new n.Q1f;function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return"random"===e?(t.setHex(Math.floor(0x1000000*Math.random())),t):("string"==typeof e&&e.startsWith("#")&&(9===e.length&&(e=e.slice(0,7)),5===e.length&&(e=e.slice(0,4))),t.set(e))}},16465:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(49797),o=r(7147);let l={shadowColor:"#808080",luminosity:1,rampPower:1,onBeforeCompile:void 0};class i extends n.V9B{constructor(e){let{rampPower:t,shadowColor:r,luminosity:i,onBeforeCompile:a,...u}={...l,...e},s={uSunPosition:{value:new n.Pq0(.5,.7,.3)},uShadowColor:{value:new n.Q1f(r)},uRampPower:{value:t},uLuminosity:{value:i}};super(u),this.onBeforeCompile=e=>{o.bI.with(e).uniforms(s).varying({vWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vWorldNormal = mat3(modelMatrix) * normal;\n          #ifdef USE_INSTANCING\n            vWorldNormal = mat3(instanceMatrix) * vWorldNormal;\n          #endif\n        ").fragment.after("map_fragment","\n          vec3 normal = normalize(vWorldNormal);\n          vec3 lightDirection = normalize(uSunPosition);\n          float light = dot(normal, lightDirection) * 0.5 + 0.5;\n          light = pow(light, uRampPower);\n          diffuseColor.rgb *= mix(uShadowColor * uLuminosity, vec3(1.0), light);\n        "),null==a||a(e)},this.sunPosition=s.uSunPosition.value}}},17099:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(79105);let o=e=>e,l={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function i(){let e=(0,n.K2)((0,n.K2)((0,n.Ts)(n.KP)));function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.KP;return"string"==typeof t&&(t=t.split("").reduce((e,t)=>7*e+t.charCodeAt(0),0)),e=(0,n.K2)((0,n.K2)((0,n.Ts)(t))),f}function r(){return e=(0,n.K2)(e),(0,n.Tj)(e)}function i(e){switch(e.length){default:return[0,1,o];case 1:return[0,e[0],o];case 2:return[e[0],e[1],o];case 3:return[e[0],e[1],e[2]]}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[o,l,a]=i(t);return o+(l-o)*a(r())}function u(){for(var e,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];let[i,a,{weightsAreNormalized:u,indexOffset:s,forbiddenItems:f}]=function(e){let[t,r=null,n]=e,o={...l,...n};if(Array.isArray(t))return[t,r,o];if("object"==typeof t)return[Object.values(t),r?Object.values(r):null,o];throw Error("pick: unsupported options type")}(n);if(f.length>0){let t=new Set;for(let e of f){let r=i.indexOf(e);r>=0&&t.add(r)}if(i=i.filter((e,r)=>!t.has(r)),a=null!=(e=null==a?void 0:a.filter((e,r)=>!t.has(r)))?e:null,0===i.length)throw Error("pick: all items are forbidden")}if(null===a){let e=Math.floor(r()*i.length);return s&&(e+=s,(e%=i.length)<0&&(e+=i.length)),i[e]}if(!u){let e=a.reduce((e,t)=>e+t,0);a=a.map(t=>t/e)}let c=r(),h=0;for(let e=0;e<i.length;e++)if(c<(h+=a[e]))return i[e];throw Error("among: unreachable")}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(),o=r(),l=Math.sqrt(-2*Math.log(n)),i=2*Math.PI*o;return[e+t*l*Math.cos(i),e+t*l*Math.sin(i)]}let f={seed:t,seedMax:function(){return n.Zu},reset:function(){return t(n.KP),f},next:function(){return e=(0,n.K2)(e),f},getState:function(){return e},setState:function(t){return e=t&n.Zu,f},random:r,between:a,around:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[l=1,i=o]=t,a=2*r();return(a>1?1:-1)*i(a>1?a-1:a)*l},int:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[o,l,a]=i(t);return o+Math.floor(a(r())*(l-o))},chance:function(e){return r()<e},shuffle:function(e){let{mutate:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&Array.isArray(e)?e:[...e],o=n.length;for(let e=0;e<o;e++){let t=Math.floor(o*r()),l=n[e];n[e]=n[t],n[t]=l}return n},pick:u,createPicker:function(e){let t=e.map(e=>{let[t]=e;return t}),r=e.map(e=>{let[t,r]=e;return r}),n=r.reduce((e,t)=>e+t,0);for(let[e,t]of r.entries())r[e]=t/n;return()=>u(t,r,{weightsAreNormalized:!0})},vector:function(e,t){let[r=0,n=1]=Array.isArray(t)?t:[null==t?void 0:t.min,null==t?void 0:t.max];for(let t of Object.keys(e))e[t]=a(r,n);return e},unitVector2:function(e){let t=2*Math.PI*r();return e.x=Math.cos(t),e.y=Math.sin(t),e},unitVector3:function(e){let t=r(),n=r(),o=2*Math.PI*t,l=Math.acos(1-2*n);return e.x=Math.sin(l)*Math.cos(o),e.y=Math.sin(l)*Math.sin(o),e.z=Math.cos(l),e},normalVector:function(e){let t=Object.keys(e),r=t.length,n=Math.sqrt(r);for(let o=0;o<r;o+=2){let[l,i]=s();e[t[o]]=l/n,o+1<r&&(e[t[o+1]]=i/n)}return e},unitVector:function(e){let t=Object.keys(e),r=t.length,n=0;for(let o=0;o<r;o+=2){let[l,i]=s();e[t[o]]=l,n+=l*l,o+1<r&&(e[t[o+1]]=i,n+=i*i)}n=Math.sqrt(n);for(let o=0;o<r;o++)e[t[o]]/=n;return e},boxMuller:s,quaternion:function(e){let t=r(),n=r(),o=r(),l=Math.sqrt(1-t),i=Math.sqrt(t);return e.x=l*Math.sin(2*Math.PI*n),e.y=l*Math.cos(2*Math.PI*n),e.z=i*Math.sin(2*Math.PI*o),e.w=i*Math.cos(2*Math.PI*o),e},insideCircle:function(e,t){let n=2*r()*Math.PI,o=Math.sqrt(r())*e;return t.x=o*Math.cos(n),t.y=o*Math.sin(n),t}};return f}let a=class{constructor(e){Object.assign(this,i().seed(e))}};Object.assign(a,i())},47502:(e,t,r)=>{Promise.resolve().then(r.bind(r,66209))},63106:(e,t,r)=>{"use strict";function n(e,t){return"*"===t||("string"==typeof t?t===e:t instanceof RegExp?t.test(e):"function"==typeof t&&t(e))}r.d(t,{a:()=>a});let o={preventDefault:!1,strictTarget:void 0},l={key:"*",keyCaseInsensitive:!0,code:"*",noModifiers:!1,modifiers:"",phase:"down"},i=0;function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=i++,[u,s,f]=1===t.length?[document.body,{},t[0]]:2===t.length?[t[0],{},t[1]]:t,{preventDefault:c}={...o,...s},h=null,d=e=>{var t;if((null!=(t=s.strictTarget)?!!t:u===document.body)&&e.target!==u)return;"keydown"===e.type&&(h=e);let{ctrlKey:r=!1,altKey:o=!1,shiftKey:i=!1,metaKey:d=!1}=null!=h?h:{},y={id:a,event:e,downEvent:h,modifiers:{ctrl:r,alt:o,shift:i,meta:d}};for(let t=0,a=f.length;t<a;t++){let[a,u]=f[t],{key:s,keyCaseInsensitive:g,code:p,noModifiers:v,modifiers:m,phase:w="down"}=function(e){let t="string"==typeof e?{...l,key:e}:{...l,...e};return t.keyCaseInsensitive&&"string"==typeof t.key&&(t.key=t.key.toLowerCase()),t}(a);switch(e.type){case"keydown":if("down"!==w)continue;break;case"keyup":if("up"!==w)continue}Object.values({key:n(g?e.key.toLowerCase():e.key,s),code:n(e.code,p),noModifiers:!v||!1===r&&!1===o&&!1===i&&!1===d,modifiers:function(e,t){let{ctrlKey:r,altKey:n,shiftKey:o,metaKey:l}=e;if("function"==typeof t)return t({ctrl:r,alt:n,shift:o,meta:l});let{ctrl:i=!1,alt:a=!1,shift:u=!1,meta:s=!1}=Object.fromEntries(t.split("-").map(e=>[e,!0]));return i===r&&a===n&&u===o&&s===l}(h,m)}).every(Boolean)&&(c&&e.preventDefault(),u(y))}};return u.addEventListener("keydown",d,{passive:!1}),u.addEventListener("keyup",d,{passive:!1}),{destroy:()=>{u.removeEventListener("keydown",d),u.removeEventListener("keyup",d)}}}},66209:(e,t,r)=>{"use strict";r.d(t,{Main:()=>y});var n=r(70691),o=r(49797),l=r(84306),i=r(16465),a=r(7147),u=r(3293),s=r(79911),f=r(72612),c=r(17099);class h extends o.YJl{constructor(){super(),(0,s.mj)(new o.eaF(new o.WBB(1,12),new i.Y),this),(0,s.mj)(new o.eaF(new o.UPV(2,.1,256,16),new i.Y({color:"red"})),this);let e=new o.uWO(new Float32Array(100),4),t=new o.bdM;t.setAttribute("aRand",e);let r=new o.V9B({side:o.$EB});r.onBeforeCompile=e=>a.bI.with(e).vertex.top("\n        attribute vec4 aRand;\n      ").vertex.after("project_vertex","\n        // Move the vertex a bit based on aRand, and that's all!!!!\n        gl_Position.z += aRand.x * .1;\n      ");let n=(0,s.mj)(new o.ZLX(t,r,25),this);c.c.reset();let l=Array.from({length:25},()=>0xffffff*c.c.random());for(let t of(0,f.loop2)(5,5)){let r=(t.px-.5)*4,o=(t.py-.5)*4,i=(t.px+t.py)*.4;n.setMatrixAt(t.i,(0,u.w)({x:r,y:o,z:i,scaleScalar:1.25})),n.setColorAt(t.i,(0,u._)(c.c.pick(l))),e.setXYZW(t.i,c.c.random(),c.c.random(),c.c.random(),c.c.random())}}}function d(){return(0,l.yk)(function*(e){e.useOrbitControls(),e.scene.background=new o.Q1f("#345");let t=new h;e.scene.add(t),yield()=>t.removeFromParent()},[]),null}function y(){return(0,n.jsx)(l.YV,{children:(0,n.jsx)(d,{})})}},72612:(e,t,r)=>{"use strict";function*n(e){let t=0,r={get i(){return t},get t(){return t/e},get p(){return t/(e-1)},get size(){return e},clone(){return{...this}}};for(t=0;t<e;t++)yield r}function o(e,t){let r=[];for(let o of n(e)){let e=o.clone();r.push(t?t(e):e)}return r}function*l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0,o=0;2===t.length?(n=t[0],o=t[1]):Array.isArray(t[0])?(n=t[0][0],o=t[0][1]):(n=t[0].x,o=t[0].y);let l=0,i=0,a=0,u={get i(){return l},get x(){return i},get y(){return a},get tx(){return i/n},get ty(){return a/o},get px(){return i/(n-1)},get py(){return a/(o-1)},get sizeX(){return n},get sizeY(){return o},clone(){return{...this}}};for(a=0;a<o;a++)for(i=0;i<n;i++)yield u,l++}function i(){let e;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let o=0,i=0;"number"==typeof r[0]?(o=r[0],i=r[1],e=r[2]):(Array.isArray(r[0])?(o=r[0][0],i=r[0][1]):(o=r[0].x,i=r[0].y),e=r[1]);let a=[];for(let t of l(o,i)){let r=t.clone();a.push(e?e(r):r)}return a}function*a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0,o=0,l=0;3===t.length?(n=t[0],o=t[1],l=t[2]):Array.isArray(t[0])?(n=t[0][0],o=t[0][1],l=t[0][2]):(n=t[0].x,o=t[0].y,l=t[0].z);let i=0,a=0,u=0,s=0,f={get i(){return i},get x(){return a},get y(){return u},get z(){return s},get tx(){return a/n},get ty(){return u/o},get tz(){return s/l},get px(){return a/(n-1)},get py(){return u/(o-1)},get pz(){return s/(l-1)},clone(){return{...this}}};for(s=0;s<l;s++)for(u=0;u<o;u++)for(a=0;a<n;a++)yield f,i++}function u(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=[];for(let e of a(...t))n.push(e.clone());return n}r.r(t),r.d(t,{loop:()=>n,loop2:()=>l,loop2Array:()=>i,loop3:()=>a,loop3Array:()=>u,loopArray:()=>o})},79105:(e,t,r)=>{"use strict";r.d(t,{K2:()=>i,KP:()=>o,Tj:()=>a,Ts:()=>l,Zu:()=>n});let n=0x7fffffff,o=123456,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(Number.isNaN(e))throw Error("NaN is not a valid seed.");let t=e;if(10>Math.abs(t)&&(t*=1e6),t%=n,(t=t<0?t+n:t)>1)return t&n;if(0===t)return o;throw Error("Impossible. ".concat(t))},i=e=>e=Math.imul(e,48271)&n,a=e=>(e-1)/(n-1)}},e=>{var t=t=>e(e.s=t);e.O(0,[2193,5611,7190,7962,9635,8921,4512,7775,7436,7706,146,6726,3445,9332,3414,2143,7558,1319,6852,7358],()=>t(47502)),_N_E=e.O()}]);