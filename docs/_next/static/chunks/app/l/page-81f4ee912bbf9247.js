(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6449],{25809:(e,n,t)=>{"use strict";t.d(n,{P:()=>o});var i=t(49797),r=t(96273);let s={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0};class o extends i.DXC{set(e){let{color:n,opacity:t,size:o,step:l,frame:a,plane:c}={...s,...e},u=(0,r.wX)(o),d=(0,r.wX)(null!=l?l:u),h=[],m=(e,n)=>h.push(new i.Pq0(e,n,0));a&&(m(-u.x/2,u.y/2),m(u.x/2,u.y/2),m(u.x/2,u.y/2),m(u.x/2,-u.y/2),m(u.x/2,-u.y/2),m(-u.x/2,-u.y/2),m(-u.x/2,-u.y/2),m(-u.x/2,u.y/2));let f=Math.ceil(-u.x/2/d.x)*d.x;f===-u.x/2&&(f+=d.x);do m(f,-u.y/2),m(f,u.y/2),f+=d.x;while(f<u.x/2);let p=Math.ceil(-u.y/2/d.y)*d.y;p===-u.y/2&&(p+=d.y);do m(-u.x/2,p),m(u.x/2,p),p+=d.y;while(p<u.y/2);switch(this.geometry.setFromPoints(h),c){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.material.color.set(n),this.material.opacity=t,this.material.transparent=t<1,this}constructor(e){super(),this.set(null!=e?e:s)}}},34125:(e,n,t)=>{"use strict";t.d(n,{ServerProof:()=>o});var i=t(70691),r=t(67203);let s=function(){return(0,i.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:"loading..."})};function o(){let[,e]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let n=!0;return Promise.all([t.e(5611),t.e(6564),t.e(7223),t.e(7953),t.e(4638),t.e(2294)]).then(t.bind(t,52294)).then(t=>{n&&(s=t.ChooseOne,e(Math.random()))}),()=>{n=!1}},[]),(0,i.jsx)("div",{className:"flex flex-col gap-2",children:(0,i.jsx)("div",{className:"absolute-through",children:(0,i.jsx)(s,{})})})}},51921:(e,n,t)=>{Promise.resolve().then(t.t.bind(t,89294,23)),Promise.resolve().then(t.bind(t,66209)),Promise.resolve().then(t.bind(t,59481)),Promise.resolve().then(t.bind(t,73341)),Promise.resolve().then(t.bind(t,34125)),Promise.resolve().then(t.bind(t,99398)),Promise.resolve().then(t.bind(t,68516)),Promise.resolve().then(t.bind(t,85862)),Promise.resolve().then(t.bind(t,94449))},59481:(e,n,t)=>{"use strict";t.d(n,{Main:()=>f});var i=t(70691),r=t(49797),s=t(84306),o=t(48083),l=t(56647),a=t(9723),c=t(87381),u=t(36508);class d extends r.eaF{constructor(){super(new r.bdM(4,.2),new a.Y({color:"#ff9900"}))}}class h extends r.eaF{constructor(){super(new r.bdM(4,.2),new r.BKk({uniforms:{uColor:{value:new r.Q1f("#ff9900")},uSunPosition:{value:new r.Pq0(.5,.7,.3)},uLuminosity:{value:.5}},vertexShader:"\n      varying vec3 vWorldNormal;\n      \n      void main() {\n        vWorldNormal = mat3(modelMatrix) * normal;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        gl_Position.z += -0.01;\n      }\n    ",fragmentShader:"\n      varying vec3 vWorldNormal;\n      varying vec3 vColor;\n      \n      uniform vec3 uSunPosition;\n      uniform vec3 uColor;\n      uniform float uLuminosity;\n      \n      void main() {\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        gl_FragColor = vec4(uColor * light, 1.0);\n      }\n    "}))}}function m(){return(0,s.hG)(function*(e){e.useOrbitControls=!1;let n=new o.n({size:[8,8]});n.start(e.three.renderer.domElement),yield(0,u.xy)("three",t=>{n.update(e.three.camera,e.three.aspect)})}),(0,s.yk)(function*(e){e.scene.background=new r.Q1f("#6699cc"),(0,c.mj)(new r.eaF(new r.WBB(1,4),new a.Y({color:"red"})),e.scene),(0,c.mj)(new l.R,e.scene).box({size:2}).draw().showOccludedLines(),(0,c.mj)(new d,{parent:e.scene,position:[0,.5,0]}),(0,c.mj)(new h,{parent:e.scene,position:[0,-.5,0]}),yield()=>e.scene.clear()},[]),null}function f(){return(0,i.jsx)(s.YV,{children:(0,i.jsx)(m,{})})}},68516:(e,n,t)=>{"use strict";t.d(n,{SafeClient:()=>s});var i=t(70691),r=t(67203);function s(){let[e,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{Promise.all([t.e(5500),t.e(5611),t.e(6564),t.e(7953),t.e(4638),t.e(6726),t.e(2598),t.e(1213),t.e(8083),t.e(2318),t.e(1571)]).then(t.bind(t,51571)).then(e=>n(e))},[]),e?(0,i.jsx)(e.Client,{}):(0,i.jsx)("div",{className:"layer col-center",children:"loading..."})}},73341:(e,n,t)=>{"use strict";t.d(n,{Main:()=>p});var i=t(70691),r=t(49797),s=t(12719),o=t(64028),l=t(84306),a=t(25809),c=t(56647),u=t(9723),d=t(87381),h=t(36508);class m extends r.YJl{onTick(e){let{sphere:n,pivot:t,position:i}=this.parts,s=e.lerpSin01Time(.5,1.5,{frequency:.2}),o=new r.Pq0().copy(t.position).addScaledVector(t.position,-s);n.matrixAutoUpdate=!1,n.matrix.makeScale(s,s,s).setPosition(o.add(i.position))}constructor(...e){super(...e),this.parts={sphere:(0,d.mj)(new r.eaF(new r.WBB(1,8),new u.Y),{name:"sphere",parent:this}),circle:(0,d.mj)(new c.R().circle({radius:.5}).circle({radius:1}).circle({radius:1.5}).draw(),{name:"circle",parent:this}),pivot:(0,d.mj)(new r.YJl,{name:"pivot",parent:this}),position:(0,d.mj)(new r.YJl,{name:"position",parent:this}),grid:(0,d.mj)(new a.P,{name:"grid",parent:this,rotationX:"90deg"})}}}function f(){let e=(0,l.hG)();return(0,l.yk)(function*(n){n.scene.background=new r.Q1f("#345");let t=new m;n.scene.add(t),yield(0,h.xy)("three",e=>t.onTick(e)),e.sceneSelection.set("Hop!",[t.parts.pivot]),e.toolType.set(s.pv.Move),(0,o._t)(e,t.parts.pivot),yield()=>t.removeFromParent()},[]),null}function p(){return(0,i.jsxs)(l.YV,{children:[(0,i.jsx)(f,{}),(0,i.jsxs)("div",{className:"flex flex-col p-4 gap-2",children:[(0,i.jsx)("p",{children:"Pivot offset to perform translate and scale is quite straightforward:"}),(0,i.jsx)("pre",{className:"bg-[#fff1] rounded px-2 py-1",children:"\nconst scale = ... // some value\nconst translate = new Vector3()\n  .copy(pivot.position)\n  .addScaledVector(pivot.position, -scale)\n\nmatrix\n  .makeScale(scale, scale, scale)\n  .setPosition(translate)\n".trim()})]})]})}},85862:(e,n,t)=>{"use strict";t.d(n,{SafeClient:()=>s});var i=t(70691),r=t(67203);function s(){let[e,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{Promise.all([t.e(5611),t.e(6564),t.e(7953),t.e(4638),t.e(6726),t.e(2598),t.e(1213),t.e(8083),t.e(2318),t.e(2622)]).then(t.bind(t,92622)).then(e=>n(e))},[]),e?(0,i.jsx)(e.Client,{}):(0,i.jsx)("div",{className:"layer col-center",children:"loading..."})}},94449:(e,n,t)=>{"use strict";t.d(n,{SafeClient:()=>s});var i=t(70691),r=t(67203);function s(){let[e,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{Promise.all([t.e(5611),t.e(6564),t.e(7953),t.e(4638),t.e(6726),t.e(2598),t.e(1213),t.e(8083),t.e(2318),t.e(1237)]).then(t.bind(t,71237)).then(e=>n(e))},[]),e?(0,i.jsx)(e.Client,{}):(0,i.jsx)("div",{className:"layer col-center",children:"loading..."})}},99398:(e,n,t)=>{"use strict";t.d(n,{SafeClient:()=>s});var i=t(70691),r=t(67203);function s(){let[e,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{Promise.all([t.e(5611),t.e(6564),t.e(7953),t.e(4638),t.e(6726),t.e(2598),t.e(1213),t.e(8083),t.e(2318),t.e(2358)]).then(t.bind(t,92358)).then(e=>n(e))},[]),e?(0,i.jsx)(e.Client,{}):(0,i.jsx)("div",{className:"layer col-center",children:"loading..."})}}},e=>{var n=n=>e(e.s=n);e.O(0,[2193,5611,7190,7223,9635,8921,4957,7775,16,9547,9294,4638,6726,2598,1213,8083,4266,4135,4179,7558,6209,1319,6852,7358],()=>n(51921)),_N_E=e.O()}]);