(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7193],{25809:(e,t,s)=>{"use strict";s.d(t,{P:()=>o});var r=s(49797),i=s(22641);let a={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0};class o extends r.DXC{set(e){let{color:t,opacity:s,size:o,step:n,frame:l,plane:c}={...a,...e},p=(0,i.wX)(o),h=(0,i.wX)(null!=n?n:p),d=[],y=(e,t)=>d.push(new r.Pq0(e,t,0));l&&(y(-p.x/2,p.y/2),y(p.x/2,p.y/2),y(p.x/2,p.y/2),y(p.x/2,-p.y/2),y(p.x/2,-p.y/2),y(-p.x/2,-p.y/2),y(-p.x/2,-p.y/2),y(-p.x/2,p.y/2));let m=Math.ceil(-p.x/2/h.x)*h.x;m===-p.x/2&&(m+=h.x);do y(m,-p.y/2),y(m,p.y/2),m+=h.x;while(m<p.x/2);let u=Math.ceil(-p.y/2/h.y)*h.y;u===-p.y/2&&(u+=h.y);do y(-p.x/2,u),y(p.x/2,u),u+=h.y;while(u<p.y/2);switch(this.geometry.setFromPoints(d),c){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.material.color.set(t),this.material.opacity=s,this.material.transparent=s<1,this}constructor(e){super(),this.set(null!=e?e:a)}}},39787:(e,t,s)=>{"use strict";function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];for(let e of t.flat(2))"destroy"in e?e.destroy():e()}s.d(t,{e:()=>i,z:()=>r});class i{collect(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];for(let e of t)if(e)if(Symbol.iterator in e)for(let t of e)t&&this.destroyables.push(t);else this.destroyables.push(e)}constructor(){this.destroyables=[],this.destroy=()=>{r(this.destroyables),this.destroyables=[]}}}},68480:(e,t,s)=>{Promise.resolve().then(s.bind(s,73341))},73341:(e,t,s)=>{"use strict";s.d(t,{Main:()=>u});var r=s(70691),i=s(49797),a=s(12719),o=s(64028),n=s(84306),l=s(25809),c=s(56647),p=s(9723),h=s(87381),d=s(36508);class y extends i.YJl{onTick(e){let{sphere:t,pivot:s,position:r}=this.parts,a=e.lerpSin01Time(.5,1.5,{frequency:.2}),o=new i.Pq0().copy(s.position).addScaledVector(s.position,-a);t.matrixAutoUpdate=!1,t.matrix.makeScale(a,a,a).setPosition(o.add(r.position))}constructor(...e){super(...e),this.parts={sphere:(0,h.mj)(new i.eaF(new i.WBB(1,8),new p.Y),{name:"sphere",parent:this}),circle:(0,h.mj)(new c.R().circle({radius:.5}).circle({radius:1}).circle({radius:1.5}).draw(),{name:"circle",parent:this}),pivot:(0,h.mj)(new i.YJl,{name:"pivot",parent:this}),position:(0,h.mj)(new i.YJl,{name:"position",parent:this}),grid:(0,h.mj)(new l.P,{name:"grid",parent:this,rotationX:"90deg"})}}}function m(){let e=(0,n.hG)();return(0,n.yk)(function*(t){t.scene.background=new i.Q1f("#345");let s=new y;t.scene.add(s),yield(0,d.xy)("three",e=>s.onTick(e)),e.sceneSelection.set("Hop!",[s.parts.pivot]),e.toolType.set(a.pv.Move),(0,o._t)(e,s.parts.pivot),yield()=>s.removeFromParent()},[]),null}function u(){return(0,r.jsxs)(n.YV,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)("div",{className:"flex flex-col p-4 gap-2",children:[(0,r.jsx)("p",{children:"Pivot offset to perform translate and scale is quite straightforward:"}),(0,r.jsx)("pre",{className:"bg-[#fff1] rounded px-2 py-1",children:"\nconst scale = ... // some value\nconst translate = new Vector3()\n  .copy(pivot.position)\n  .addScaledVector(pivot.position, -scale)\n\nmatrix\n  .makeScale(scale, scale, scale)\n  .setPosition(translate)\n".trim()})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2193,5611,7190,7223,9635,8921,4957,7775,16,9547,4638,6726,2598,7373,5795,4266,1023,6647,7558,1319,6852,7358],()=>t(68480)),_N_E=e.O()}]);