(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{98890:function(e,t,n){Promise.resolve().then(n.bind(n,47537))},47537:function(e,t,n){"use strict";n.d(t,{Main:function(){return w}});var o=n(32617),r=n(88780),i=n(33966),s=n(62274),l=n(97219),c=n(12042),a=n(78780),u=n(29368);class h extends r.Mesh{constructor(){super(new r.PlaneGeometry(4,.2),new c.P({color:"#ff9900"}))}}class d extends r.Mesh{constructor(){super(new r.PlaneGeometry(4,.2),new r.ShaderMaterial({uniforms:{uColor:{value:new r.Color("#ff9900")},uSunPosition:{value:new r.Vector3(.5,.7,.3)},uLuminosity:{value:.5}},vertexShader:"\n      varying vec3 vWorldNormal;\n      \n      void main() {\n        vWorldNormal = mat3(modelMatrix) * normal;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        gl_Position.z += -0.01;\n      }\n    ",fragmentShader:"\n      varying vec3 vWorldNormal;\n      varying vec3 vColor;\n      \n      uniform vec3 uSunPosition;\n      uniform vec3 uColor;\n      uniform float uLuminosity;\n      \n      void main() {\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        gl_FragColor = vec4(uColor * light, 1.0);\n      }\n    "}))}}function m(){return(0,i.jE)(function*(e){e.useOrbitControls=!1;let t=new s.F({size:[8,8]});t.start(e.three.renderer.domElement),yield(0,u.RC)("three",n=>{t.update(e.three.camera,e.three.aspect)})}),(0,i.Ky)(function*(e){e.scene.background=new r.Color("#6699cc"),(0,a.cY)(new r.Mesh(new r.IcosahedronGeometry(1,4),new c.P({color:"red"})),e.scene),(0,a.cY)(new l.O,e.scene).box({size:2}).draw().showOccludedLines(),(0,a.cY)(new h,{parent:e.scene,position:[0,.5,0]}),(0,a.cY)(new d,{parent:e.scene,position:[0,-.5,0]}),yield()=>e.scene.clear()},[]),null}function w(){return(0,o.jsx)(i.c,{children:(0,o.jsx)(m,{})})}},97219:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var o=n(88780),r=n(23420),i=n(32219);let s=new o.Vector2,l=new o.Vector3,c=new o.Matrix4;function a(e,t,n){if(null==n?void 0:n.transform)for(let e of((0,i.Xe)(n.transform,c),t))e.applyMatrix4(c);(null==n?void 0:n.color)&&e.colors.set(e.points.length,new o.Color(n.color)),e.points.push(...t)}class u extends o.LineSegments{showOccludedLines(){let{opacity:e=.2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new o.LineBasicMaterial({color:this.material.color,transparent:!0,depthFunc:o.GreaterDepth,opacity:e}),n=new o.LineSegments(this.geometry,t);return this.add(n),this}clear(){return this.points.length=0,this.colors.clear(),this.geometry.setFromPoints([new o.Vector3,new o.Vector3]),this}draw(){if(this.geometry.setFromPoints(this.points),this.geometry.computeBoundingSphere(),this.material.vertexColors=this.colors.size>0,this.material.needsUpdate=!0,this.colors.size>0){var e;let t=new o.Color(null!==(e=this.colors.get(0))&&void 0!==e?e:"white"),n=this.points.length,r=function(e){let t=e.attributes.color;if(t)return t;{let t=new o.BufferAttribute(new Float32Array(3*e.attributes.position.count),3);return e.setAttribute("color",t),t}}(this.geometry);for(let e=0;e<n;e++){let n=this.colors.get(e);n&&t.copy(n),r.setXYZ(e,t.r,t.g,t.b)}}return this}line(e,t,n){return a(this,[(0,i.Q7)(e),(0,i.Q7)(t)],n),this}polygon(e,t){let n=e.map(e=>(0,i.Q7)(e)),o=[];for(let e=0;e<n.length;e++)o.push(n[e],n[(e+1)%n.length]);return a(this,o,t),this}polyline(e,t){let n=e.map(e=>(0,i.Q7)(e)),o=[];for(let e=0;e<n.length-1;e++)o.push(n[e],n[e+1]);return a(this,o,t),this}circle(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let{x:r,y:l,radius:c,segments:h,...d}={...u.circleDefaultOptions,...(()=>{if(t.length>1){let[e,n,o]=t,{x:r,y:l}=(0,i.iK)(e,s);return{x:r,y:l,radius:n,...o}}return t[0]})()},m=new o.Vector3(1,0,0),w=new o.Vector3(0,1,0),f=[];for(let e=0;e<h;e++){let t=e/h*Math.PI*2,n=(e+1)/h*Math.PI*2,i=Math.cos(t)*c,s=Math.sin(t)*c,a=Math.cos(n)*c,u=Math.sin(n)*c,d=new o.Vector3(r,l,0).addScaledVector(m,i).addScaledVector(w,s),p=new o.Vector3(r,l,0).addScaledVector(m,a).addScaledVector(w,u);f.push(d,p)}return a(this,f,d),this}rectangle(e,t){let{centerX:n,centerY:i,width:s,height:l}=r.Ae.from(e),c=s/2,u=l/2,h=new o.Vector3(n-c,i-u,0),d=new o.Vector3(n+c,i-u,0),m=new o.Vector3(n+c,i+u,0),w=new o.Vector3(n-c,i+u,0);return a(this,[h,d,d,m,m,w,w,h],t),this}box(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n=0,r=0,s=1,c=1,a=1,{center:u,size:h,box3:d}=e;if(void 0!==u&&({x:t,y:n,z:r}=(0,i.Q7)(u,l)),void 0!==h&&({x:s,y:c,z:a}=(0,i.Q7)(h,l)),void 0!==d){let{min:o,max:i}=d,{x:l,y:u,z:h}=o,{x:m,y:w,z:f}=i;e.asIntBox3&&(m+=1,w+=1,f+=1),t=(l+m)/2,n=(u+w)/2,r=(h+f)/2,s=m-l,c=w-u,a=f-h}let m=s/2,w=c/2,f=a/2,p=new o.Vector3(t-m,n-w,r-f),g=new o.Vector3(t+m,n-w,r-f),v=new o.Vector3(t+m,n+w,r-f),V=new o.Vector3(t-m,n+w,r-f),y=new o.Vector3(t-m,n-w,r+f),x=new o.Vector3(t+m,n-w,r+f),M=new o.Vector3(t+m,n+w,r+f),P=new o.Vector3(t-m,n+w,r+f);return this.points.push(p,g,g,v,v,V,V,p),this.points.push(y,x,x,M,M,P,P,y),this.points.push(p,y,g,x,v,M,V,P),this}plus(e,t,n){let r=t/2,{x:l,y:c}=(0,i.iK)(e,s),u=new o.Vector3(l-r,c,0);return a(this,[u,new o.Vector3(l+r,c,0),new o.Vector3(l,c-r,0),new o.Vector3(l,c+r,0)],n),this}cross(e,t,n){let r=t/2,{x:l,y:c}=(0,i.iK)(e,s),u=new o.Vector3(l-r,c-r,0);return a(this,[u,new o.Vector3(l+r,c+r,0),new o.Vector3(l-r,c+r,0),new o.Vector3(l+r,c-r,0)],n),this}constructor(...e){super(...e),this.points=[],this.colors=new Map}}u.circleDefaultOptions={x:0,y:0,radius:.5,segments:96}},12042:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var o=n(88780),r=n(23247);let i={luminosity:.5};class s extends o.MeshBasicMaterial{constructor(e){let{luminosity:t,...n}={...i,...e},s={uSunPosition:{value:new o.Vector3(.5,.7,.3)},uLuminosity:{value:t}};super(n),this.onBeforeCompile=e=>r.b.with(e).uniforms(s).varying({vWorldNormal:"vec3"}).vertex.mainAfterAll("\n          vWorldNormal = mat3(modelMatrix) * normal;\n      ").fragment.after("map_fragment","\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        diffuseColor *= light;\n      "),this.sunPosition=s.uSunPosition.value}}}},function(e){e.O(0,[7987,7512,1561,7834,6158,3956,1067,3310,749,812,2038,3420,1540,9258,4157,3977,5284,1618,5694,2840,1744],function(){return e(e.s=98890)}),_N_E=e.O()}]);