(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6449],{4076:(e,t,n)=>{"use strict";n.d(t,{Client:()=>j,X:()=>y});var r=n(70691),o=n(53097),i=n(77794),s=n(79911),a=n(67235),l=n(28737),c=n(79285),d=n(4941),u=n(38062),h=n(49797),m=n(69621),f=n(12033),x=n(31763);function p(){return(0,r.jsxs)(m.kE,{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-8",children:"Decompose Matrix4 with Shear"}),(0,r.jsx)(m.$n,{label:"Orthographic (reset)",onClick:()=>{a.Q.send(x.n).assertPayload().vertigo.set({perspective:0,zoom:1,focus:0,rotation:[0,0,0]})}}),(0,r.jsx)(m.$n,{label:"Perspective",onClick:()=>{a.Q.send(x.n).assertPayload().vertigo.set({perspective:1})}}),(0,r.jsx)(m.$n,{label:"Toggle Rotation",onClick:()=>{let e=a.Q.send(y).payload;e&&(e.rotate=!e.rotate)}})]})}class y{constructor(){this.rotate=!1,a.Q.on(y,e=>e.setPayload(this))}}function v(){return(0,o.dB)("my-test-1",function*(e,t){let n=(0,f.l1)({position:[-2,4,0],scale:[1,2,3],shear:[.1,.2,.3]}),r=f.W.transformToTransform(n),o=(0,s.mj)(new m.QT(r?"white":"red"),e);o.matrixAutoUpdate=!1,(0,f.Nb)(n,o.matrix);let i=(0,f.Ez)(o.matrix);console.log(i.position),console.log(i.scale),console.log(new h.O9p().setFromQuaternion(i.rotation)),console.log(i.shear);let a=(0,s.mj)(new m.QT("yellow"),e);a.matrixAutoUpdate=!1,(0,f.Nb)(i,a.matrix)},[]),null}function g(){return(0,o.dB)("my-test-2",function*(e,t){let n=[(0,f.l1)({position:[-2,-4,0],scale:[2,4,1],euler:[1,0,2],shear:[1,.5,.1]}),(0,f.l1)({position:[2,-4,0],scale:[4,1,2],euler:[0,1,-1],shear:[-.5,1,.25]})],r=new y,[o,i]=n.map(t=>{let n=(0,s.mj)(new m.QT,e);n.matrixAutoUpdate=!1;let o=1,i=()=>{(0,f.Nb)(t,n.matrix)};return i(),n.onTick=e=>{r.rotate&&(o+=e.deltaTime),i()},n}),a=(0,s.mj)(new m.QT("yellow"),e),l=(0,f.Ez)(o.matrix),h=(0,f.Ez)(i.matrix),x=(0,f.Ez)(a.matrix);yield t.ticker.onTick(e=>{let t=u.o.triangle(e.time,{frequency:1/4});t=(0,c.inverseLerp)(.05,.95,t),t=d.kY.inOut2(t),(0,f.$N)(l,h,t,x),a.matrixAutoUpdate=!1,a.matrix=(0,f.Nb)(x,a.matrix)})},[]),null}function w(){return(0,o.Fw)(function*(e){e.pipeline.basicPasses.fxaa.enabled=!1}),(0,o.dB)("my-settings",function*(e,t){(0,s.mj)(new i.u,e).regularGrid({size:12,subdivisions:[2,6],opacity:[1,.1]})},[]),null}function j(){return(0,r.jsxs)(o.uB,{vertigoControls:{eventTarget:"canvas",size:12,zoom:.7,rotation:["8deg","12deg","0deg"],focus:[0,0,.5]},children:[(0,r.jsx)(l.Leak,{}),(0,r.jsx)(w,{}),(0,r.jsx)(v,{}),(0,r.jsx)(g,{}),(0,r.jsx)(p,{})]})}},12033:(e,t,n)=>{"use strict";n.d(t,{$N:()=>a,Ez:()=>s,Nb:()=>i,W:()=>c,l1:()=>l});var r=n(93432),o=n(49797);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.kn4,{position:n,rotation:r,scale:i,shear:s}=e,a=new o.kn4().makeScale(i.x,i.y,i.z),l=new o.kn4().set(1,s.xy,s.xz,0,0,1,s.yz,0,0,0,1,0,0,0,0,1),c=new o.kn4().makeRotationFromQuaternion(r),d=new o.kn4().makeTranslation(n.x,n.y,n.z);return t.identity(),t.multiply(c),t.multiply(l),t.multiply(a),t.premultiply(d),t}function s(e){let t=e.elements,n=new o.Pq0(t[12],t[13],t[14]);new o.kn4().set(t[0],t[4],t[8],0,t[1],t[5],t[9],0,t[2],t[6],t[10],0,0,0,0,1);let r=new o.Pq0(t[0],t[1],t[2]),i=new o.Pq0(t[4],t[5],t[6]),s=new o.Pq0(t[8],t[9],t[10]),a=0>r.dot(new o.Pq0().crossVectors(i,s))?-1:1,l=r.length(),c=r.clone().divideScalar(l),d=c.dot(i),u=i.clone().addScaledVector(c,-d),h=u.length(),m=u.divideScalar(h),f=c.dot(s),x=m.dot(s),p=s.clone().addScaledVector(c,-f).addScaledVector(m,-x),y=p.length(),v=p.divideScalar(y);a<0&&c.negate();let g=new o.kn4().makeBasis(c,m,v);return{position:n,rotation:new o.PTz().setFromRotationMatrix(g),scale:new o.Pq0(a*l,h,y),shear:{xy:d/h,xz:f/y,yz:x/y}}}function a(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{position:new o.Pq0,rotation:new o.PTz,scale:new o.Pq0,shear:{xy:0,xz:0,yz:0}};return r.position.lerpVectors(e.position,t.position,n),r.rotation.slerpQuaternions(e.rotation,t.rotation,n),r.scale.lerpVectors(e.scale,t.scale,n),r.shear.xy=e.shear.xy+(t.shear.xy-e.shear.xy)*n,r.shear.xz=e.shear.xz+(t.shear.xz-e.shear.xz)*n,r.shear.yz=e.shear.yz+(t.shear.yz-e.shear.yz)*n,r}function l(){let{position:e=0,euler:t=[0,0,0],scale:n=1,shear:i=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[s,a,l]=(0,r.jj)(i);return{position:(0,r.jj)(e),rotation:new o.PTz().setFromEuler((0,r.if)(t)),scale:(0,r.jj)(n),shear:{xy:s,xz:a,yz:l}}}class c{static matrixToMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-12,n=i(s(e));for(let r=0;r<16;r++)if(Math.abs(e.elements[r]-n.elements[r])>t)return!1;return!0}static transformToTransform(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-12,n=s(i(e));return!(e.position.distanceTo(n.position)>t||1-Math.abs(e.rotation.dot(n.rotation))>t||e.scale.distanceTo(n.scale)>t||Math.abs(e.shear.xy-n.shear.xy)>t||Math.abs(e.shear.xz-n.shear.xz)>t||Math.abs(e.shear.yz-n.shear.yz)>t)}}},15931:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(49797),o=n(93432);let i={color:"white",opacity:.5,plane:"XY",size:[8,8],step:1,frame:!0};class s extends r.DXC{set(e){let{color:t,opacity:n,size:s,step:a,frame:l,plane:c}={...i,...e},d=(0,o.wX)(s),u=(0,o.wX)(null!=a?a:d),h=[],m=(e,t)=>h.push(new r.Pq0(e,t,0));l&&(m(-d.x/2,d.y/2),m(d.x/2,d.y/2),m(d.x/2,d.y/2),m(d.x/2,-d.y/2),m(d.x/2,-d.y/2),m(-d.x/2,-d.y/2),m(-d.x/2,-d.y/2),m(-d.x/2,d.y/2));let f=Math.ceil(-d.x/2/u.x)*u.x;f===-d.x/2&&(f+=u.x);do m(f,-d.y/2),m(f,d.y/2),f+=u.x;while(f<d.x/2);let x=Math.ceil(-d.y/2/u.y)*u.y;x===-d.y/2&&(x+=u.y);do m(-d.x/2,x),m(d.x/2,x),x+=u.y;while(x<d.y/2);switch(this.geometry.setFromPoints(h),c){case"XZ":this.geometry.rotateX(Math.PI/2);break;case"YZ":this.geometry.rotateY(Math.PI/2)}return this.material.color.set(t),this.material.opacity=n,this.material.transparent=n<1,this}constructor(e){super(),this.set(null!=e?e:i)}}},18397:(e,t,n)=>{"use strict";n.d(t,{Client:()=>x});var r=n(70691),o=n(49797),i=n(53097),s=n(77794),a=n(79911),l=n(80446),c=n(69621),d=n(12033),u=n(31763),h=n(67235);function m(){return(0,r.jsxs)(c.kE,{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-8",children:"Some Shear Examples"}),(0,r.jsx)(c.$n,{label:"Orthographic (reset)",onClick:()=>{h.Q.send(u.n).assertPayload().vertigo.set({perspective:0,zoom:1,rotation:[0,0,0]})}}),(0,r.jsx)(c.$n,{label:"Perspective",onClick:()=>{h.Q.send(u.n).assertPayload().vertigo.set({perspective:1})}}),(0,r.jsxs)("p",{className:"max-w-sm",children:["Using ",(0,r.jsx)("code",{children:"TransformWithShear"})," from ",(0,r.jsx)("code",{children:"some-utils-three/experimental/transform-with-shear"}),"."]})]})}function f(){return(0,i.Fw)(function*(e){e.pipeline.basicPasses.fxaa.enabled=!1}),(0,i.dB)("my-scene",function*(e,t){(0,a.mj)(new s.u,e).regularGrid({size:12,subdivisions:[2,6],opacity:[1,.1]});let n=[{x:-5,y:3,z:0,xy:1,xz:0,yz:0},{x:-2,y:3,z:0,xy:0,xz:1,yz:0},{x:-3,y:1,z:0,xy:0,xz:0,yz:1},{x:1,y:4,z:0,xy:1,xz:1,yz:0},{x:4,y:3,z:0,xy:0,xz:1,yz:1},{x:1,y:1,z:0,xy:1,xz:0,yz:1}];for(let{x:t,y:r,z:i,xy:s,xz:l,yz:u}of n){let n={position:new o.Pq0(t,r,i),scale:new o.Pq0(1,1,1),rotation:new o.PTz,shear:{xy:s,xz:l,yz:u}},h=d.W.transformToTransform(n),m=(0,a.mj)(new c.QT(h?"white":"red"),e);m.matrixAutoUpdate=!1,(0,d.Nb)(n,m.matrix)}for(let{x:t,y:r,z:i,xy:s,xz:u,yz:h}of(l.n.setRandom("parkmiller",5678),n)){let n={position:new o.Pq0(t,r-6,i),scale:new o.Pq0(l.n.number(.1,2),l.n.number(.1,2),l.n.number(.1,2)),rotation:l.n.quaternion(new o.PTz),shear:{xy:s,xz:u,yz:h}},m=d.W.transformToTransform(n),f=(0,a.mj)(new c.QT(m?"white":"red"),e);f.matrixAutoUpdate=!1,(0,d.Nb)(n,f.matrix)}},[]),null}function x(){return(0,r.jsxs)(i.uB,{vertigoControls:{eventTarget:"canvas",size:12,zoom:.7,rotation:["15deg","20deg","0deg"],focus:[0,0,.5]},children:[(0,r.jsx)(f,{}),(0,r.jsx)(m,{})]})}},34125:(e,t,n)=>{"use strict";n.d(t,{ServerProof:()=>s});var r=n(70691),o=n(67203);let i=function(){return(0,r.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:"loading..."})};function s(){let[,e]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let t=!0;return Promise.all([n.e(5611),n.e(6564),n.e(7962),n.e(7953),n.e(146),n.e(2294)]).then(n.bind(n,52294)).then(n=>{t&&(i=n.ChooseOne,e(Math.random()))}),()=>{t=!1}},[]),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:(0,r.jsx)("div",{className:"absolute-through",children:(0,r.jsx)(i,{})})})}},59481:(e,t,n)=>{"use strict";n.d(t,{Main:()=>f});var r=n(70691),o=n(49797),i=n(84306),s=n(31763),a=n(48181),l=n(16465),c=n(79911),d=n(36508);class u extends o.eaF{constructor(){super(new o.bdM(4,.2),new l.Y({color:"#ff9900"}))}}class h extends o.eaF{constructor(){super(new o.bdM(4,.2),new o.BKk({uniforms:{uColor:{value:new o.Q1f("#ff9900")},uSunPosition:{value:new o.Pq0(.5,.7,.3)},uLuminosity:{value:.5}},vertexShader:"\n      varying vec3 vWorldNormal;\n      \n      void main() {\n        vWorldNormal = mat3(modelMatrix) * normal;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        gl_Position.z += -0.01;\n      }\n    ",fragmentShader:"\n      varying vec3 vWorldNormal;\n      varying vec3 vColor;\n      \n      uniform vec3 uSunPosition;\n      uniform vec3 uColor;\n      uniform float uLuminosity;\n      \n      void main() {\n        vec3 lightDirection = normalize(uSunPosition);\n        float light = dot(vWorldNormal, lightDirection) * 0.5 + 0.5;\n        light = pow(light, 2.0);\n        light = mix(uLuminosity, 1.0, light);\n        gl_FragColor = vec4(uColor * light, 1.0);\n      }\n    "}))}}function m(){return(0,i.hG)(function*(e){e.useOrbitControls=!1;let t=new s.n({size:[8,8]});t.start(e.three.renderer.domElement),yield(0,d.xy)("three",n=>{t.update(e.three.camera,e.three.aspect)})}),(0,i.yk)(function*(e){e.scene.background=new o.Q1f("#6699cc"),(0,c.mj)(new o.eaF(new o.WBB(1,4),new l.Y({color:"red"})),e.scene),(0,c.mj)(new a.R,e.scene).box({size:2}).draw().showOccludedLines(),(0,c.mj)(new u,{parent:e.scene,position:[0,.5,0]}),(0,c.mj)(new h,{parent:e.scene,position:[0,-.5,0]}),yield()=>e.scene.clear()},[]),null}function f(){return(0,r.jsx)(i.YV,{children:(0,r.jsx)(m,{})})}},66209:(e,t,n)=>{"use strict";n.d(t,{Main:()=>f});var r=n(70691),o=n(49797),i=n(84306),s=n(16465),a=n(7147),l=n(3293),c=n(79911),d=n(72612),u=n(17099);class h extends o.YJl{constructor(){super(),(0,c.mj)(new o.eaF(new o.WBB(1,12),new s.Y),this),(0,c.mj)(new o.eaF(new o.UPV(2,.1,256,16),new s.Y({color:"red"})),this);let e=new o.uWO(new Float32Array(100),4),t=new o.bdM;t.setAttribute("aRand",e);let n=new o.V9B({side:o.$EB});n.onBeforeCompile=e=>a.bI.with(e).vertex.top("\n        attribute vec4 aRand;\n      ").vertex.after("project_vertex","\n        // Move the vertex a bit based on aRand, and that's all!!!!\n        gl_Position.z += aRand.x * .1;\n      ");let r=(0,c.mj)(new o.ZLX(t,n,25),this);u.c.reset();let i=Array.from({length:25},()=>0xffffff*u.c.random());for(let t of(0,d.loop2)(5,5)){let n=(t.px-.5)*4,o=(t.py-.5)*4,s=(t.px+t.py)*.4;r.setMatrixAt(t.i,(0,l.w)({x:n,y:o,z:s,scaleScalar:1.25})),r.setColorAt(t.i,(0,l._)(u.c.pick(i))),e.setXYZW(t.i,u.c.random(),u.c.random(),u.c.random(),u.c.random())}}}function m(){return(0,i.yk)(function*(e){e.useOrbitControls(),e.scene.background=new o.Q1f("#345");let t=new h;e.scene.add(t),yield()=>t.removeFromParent()},[]),null}function f(){return(0,r.jsx)(i.YV,{children:(0,r.jsx)(m,{})})}},68516:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>i});var r=n(70691),o=n(67203);function i(){let[e,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{Promise.all([n.e(5500),n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(146),n.e(6726),n.e(3445),n.e(9332),n.e(3414),n.e(9717),n.e(1763),n.e(7215)]).then(n.bind(n,51571)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}},70574:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,89294,23)),Promise.resolve().then(n.bind(n,66209)),Promise.resolve().then(n.bind(n,59481)),Promise.resolve().then(n.bind(n,76033)),Promise.resolve().then(n.bind(n,18397)),Promise.resolve().then(n.bind(n,4076)),Promise.resolve().then(n.bind(n,37833)),Promise.resolve().then(n.bind(n,73341)),Promise.resolve().then(n.bind(n,34125)),Promise.resolve().then(n.bind(n,99398)),Promise.resolve().then(n.bind(n,68516)),Promise.resolve().then(n.bind(n,85862)),Promise.resolve().then(n.bind(n,94449))},73341:(e,t,n)=>{"use strict";n.d(t,{Main:()=>x});var r=n(70691),o=n(49797),i=n(12719),s=n(64028),a=n(84306),l=n(15931),c=n(48181),d=n(16465),u=n(79911),h=n(36508);class m extends o.YJl{onTick(e){let{sphere:t,pivot:n,position:r}=this.parts,i=e.lerpSin01Time(.5,1.5,{frequency:.2}),s=new o.Pq0().copy(n.position).addScaledVector(n.position,-i);t.matrixAutoUpdate=!1,t.matrix.makeScale(i,i,i).setPosition(s.add(r.position))}constructor(...e){super(...e),this.parts={sphere:(0,u.mj)(new o.eaF(new o.WBB(1,8),new d.Y),{name:"sphere",parent:this}),circle:(0,u.mj)(new c.R().circle({radius:.5}).circle({radius:1}).circle({radius:1.5}).draw(),{name:"circle",parent:this}),pivot:(0,u.mj)(new o.YJl,{name:"pivot",parent:this}),position:(0,u.mj)(new o.YJl,{name:"position",parent:this}),grid:(0,u.mj)(new l.P,{name:"grid",parent:this,rotationX:"90deg"})}}}function f(){let e=(0,a.hG)();return(0,a.yk)(function*(t){t.scene.background=new o.Q1f("#345");let n=new m;t.scene.add(n),yield(0,h.xy)("three",e=>n.onTick(e)),e.sceneSelection.set("Hop!",[n.parts.pivot]),e.toolType.set(i.pv.Move),(0,s._t)(e,n.parts.pivot),yield()=>n.removeFromParent()},[]),null}function x(){return(0,r.jsxs)(a.YV,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)("div",{className:"flex flex-col p-4 gap-2",children:[(0,r.jsx)("p",{children:"Pivot offset to perform translate and scale is quite straightforward:"}),(0,r.jsx)("pre",{className:"bg-[#fff1] rounded px-2 py-1",children:"\nconst scale = ... // some value\nconst translate = new Vector3()\n  .copy(pivot.position)\n  .addScaledVector(pivot.position, -scale)\n\nmatrix\n  .makeScale(scale, scale, scale)\n  .setPosition(translate)\n".trim()})]})]})}},76033:(e,t,n)=>{"use strict";n.d(t,{Client:()=>h});var r=n(70691),o=n(53097),i=n(77794),s=n(79911),a=n(69621),l=n(31763),c=n(67235);function d(){return(0,r.jsxs)("div",{className:"ui layer thru p-8 flex flex-col gap-4 items-start",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-8",children:"Matrix with Shear"}),(0,r.jsx)("button",{className:"btn border rounded px-4 py-2",onClick:()=>{c.Q.send(l.n).assertPayload().vertigo.set({perspective:0,zoom:1,rotation:[0,0,0]})},children:"Orthographic (reset)"}),(0,r.jsx)("button",{className:"btn border rounded px-4 py-2",onClick:()=>{c.Q.send(l.n).assertPayload().vertigo.set({perspective:1})},children:"Perspective"}),(0,r.jsxs)("p",{className:"flex w-[400px]",children:["The problem:",(0,r.jsx)("br",{}),"Linear interpolation of matrix columns produces weird intermediate states."]}),(0,r.jsxs)("p",{className:"flex w-[400px]",children:["Conclusion:",(0,r.jsx)("br",{}),"The matrices should be decomposed to position, rotation, scale, shear, interpolated, then recomposed."]}),(0,r.jsx)("p",{className:"flex w-[400px]",children:"But shear is tricky..."})]})}function u(){return(0,o.Fw)(function*(e){e.pipeline.basicPasses.fxaa.enabled=!1}),(0,o.dB)("my-scene",function*(e,t){(0,s.mj)(new i.u,e).regularGrid({size:12,subdivisions:[2,6],opacity:[1,.1]});let n=(0,s.mj)(new a.Yr,e);(0,s.mj)(n.objA,{x:1,y:4}),(0,s.mj)(n.objB,{x:-1,y:4,rotation:["0deg","180deg","0deg"]});let r=(0,s.mj)(new a.Yr,e);(0,s.mj)(r.objA,{x:1,y:2}),(0,s.mj)(r.objB,{x:-1,y:2,rotation:["90deg","90deg","0deg"]})},[]),null}function h(){return(0,r.jsxs)(o.uB,{vertigoControls:{eventTarget:"canvas",size:12,zoom:1,rotation:["0deg","0deg","0deg"],focus:[0,0,.5]},children:[(0,r.jsx)(u,{}),(0,r.jsx)(d,{})]})}},80446:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(79105);let o=function e(){let t=Math.random,n=()=>{};function o(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}function i(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0===n.length)return t();if(1===n.length)return t()*n[0];if(2===n.length)return t()*(n[1]-n[0])+n[0];throw Error("Invalid arguments")}function s(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(1===n.length)return Math.floor(t()*n[0]);if(2===n.length)return Math.floor(t()*(n[1]-n[0]))+n[0];throw Error("Invalid arguments")}function a(e){let{weightsAreNormalized:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)throw Error("Weights array is empty");if(!1===n){let n=e.reduce((e,t)=>e+t,0),r=t()*n,o=0;for(let t=0;t<e.length;t++)if(r<(o+=e[t]))return t;return e.length-1}{let n=t(),r=0;for(let t=0;t<e.length;t++)if(n<(r+=e[t]))return t;return e.length-1}}let l={new:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e().setRandom(...n)},setRandom:function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];let[a,c=0]=i,d="string"==typeof c?o(c):c;if("parkmiller"===a){let e=r.Ts(d);t=()=>(e=r.K2(e),r.Tj(e)),n=t=>{e=r.Ts(t)}}else{if(void 0!==a&&"function"!=typeof a)throw Error("Invalid random function");t=null!=a?a:Math.random,n=()=>{}}return n(d),l},seed:function(e){return n("string"==typeof e?o(e):null!=e?e:0),l},get random(){return t},chance:function(e){return t()<e},number:i,float:i,f:i,sign:function(){return .5>t()?-1:1},int:s,i:s,hexColor:function(){let e=Math.floor(0xffffff*t());return"#".concat(e.toString(16).padStart(6,"0"))},pickIndex:a,pick:function(e,n){if(0===e.length)throw Error("Array is empty");if(n)return e[a(n)];let r=Math.floor(t()*e.length);return e[r]},createPicker:function(e){let t=e.map(e=>e[0]),n=e.map(e=>e[1]),r=t.reduce((e,t)=>e+t,0);for(let e=0;e<t.length;e++)t[e]/=r;return()=>n[a(t,{weightsAreNormalized:!0})]},direction2:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},n=t()*Math.PI*2;return e.x=Math.cos(n),e.y=Math.sin(n),e},direction3:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0},n=t(),r=t(),o=2*Math.PI*n,i=Math.acos(1-2*r);return e.x=Math.sin(i)*Math.cos(o),e.y=Math.sin(i)*Math.sin(o),e.z=Math.cos(i),e},quaternion:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0,w:1},n=t(),r=t(),o=t(),i=Math.sqrt(1-n),s=Math.sqrt(n);return e.x=i*Math.sin(2*Math.PI*r),e.y=i*Math.cos(2*Math.PI*r),e.z=s*Math.sin(2*Math.PI*o),e.w=s*Math.cos(2*Math.PI*o),e},shuffleIndexes:function*(e){if(e<=0)throw Error("N must be greater than 0");let n=0,r=Math.floor((2+2*t())*e);for(;1!==function(e,t){for(;0!==t;)[e,t]=[t,e%t];return e}(e,r);){if(++n>1e3)throw Error("Failed to find a suitable a value after 1000 attempts");r=e+Math.floor(t()*e)}let o=Math.floor(t()*e);for(let t=0;t<e;t++)yield(o+t*r)%e}};return l}()},85862:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>i});var r=n(70691),o=n(67203);function i(){let[e,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{Promise.all([n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(146),n.e(6726),n.e(3445),n.e(9332),n.e(3414),n.e(9717),n.e(1763),n.e(1080)]).then(n.bind(n,92622)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}},94449:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>i});var r=n(70691),o=n(67203);function i(){let[e,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{Promise.all([n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(146),n.e(6726),n.e(3445),n.e(9332),n.e(3414),n.e(9717),n.e(1763),n.e(8413)]).then(n.bind(n,71237)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}},99398:(e,t,n)=>{"use strict";n.d(t,{SafeClient:()=>i});var r=n(70691),o=n(67203);function i(){let[e,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{Promise.all([n.e(5611),n.e(7190),n.e(6564),n.e(7953),n.e(146),n.e(6726),n.e(3445),n.e(9332),n.e(3414),n.e(9717),n.e(1763),n.e(6224)]).then(n.bind(n,92358)).then(e=>t(e))},[]),e?(0,r.jsx)(e.Client,{}):(0,r.jsx)("div",{className:"layer col-center",children:"loading..."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2193,5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,7706,9294,146,6726,3445,9332,3414,9717,1763,9215,3097,7558,8181,8132,1319,6852,7358],()=>t(70574)),_N_E=e.O()}]);