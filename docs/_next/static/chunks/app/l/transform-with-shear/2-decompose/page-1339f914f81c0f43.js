(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4088],{4076:(t,e,r)=>{"use strict";r.d(e,{Client:()=>b,X:()=>M});var n=r(70691),o=r(53097),i=r(77794),l=r(79911),a=r(67235),s=r(28737),u=r(79285),c=r(4941),f=r(38062),h=r(49797),d=r(69621),m=r(12033),g=r(31763);function p(){return(0,n.jsxs)(d.kE,{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-8",children:"Decompose Matrix4 with Shear"}),(0,n.jsx)(d.$n,{label:"Orthographic (reset)",onClick:()=>{a.Q.send(g.n).assertPayload().vertigo.set({perspective:0,zoom:1,focus:0,rotation:[0,0,0]})}}),(0,n.jsx)(d.$n,{label:"Perspective",onClick:()=>{a.Q.send(g.n).assertPayload().vertigo.set({perspective:1})}}),(0,n.jsx)(d.$n,{label:"Toggle Rotation",onClick:()=>{let t=a.Q.send(M).payload;t&&(t.rotate=!t.rotate)}})]})}class M{constructor(){this.rotate=!1,a.Q.on(M,t=>t.setPayload(this))}}function v(){return(0,o.dB)("my-test-1",function*(t,e){let r=(0,m.l1)({position:[-2,4,0],scale:[1,2,3],shear:[.1,.2,.3]}),n=m.W.transformToTransform(r),o=(0,l.mj)(new d.QT(n?"white":"red"),t);o.matrixAutoUpdate=!1,(0,m.Nb)(r,o.matrix);let i=(0,m.Ez)(o.matrix);console.log(i.position),console.log(i.scale),console.log(new h.O9p().setFromQuaternion(i.rotation)),console.log(i.shear);let a=(0,l.mj)(new d.QT("yellow"),t);a.matrixAutoUpdate=!1,(0,m.Nb)(i,a.matrix)},[]),null}function x(){return(0,o.dB)("my-test-2",function*(t,e){let r=[(0,m.l1)({position:[-2,-4,0],scale:[2,4,1],euler:[1,0,2],shear:[1,.5,.1]}),(0,m.l1)({position:[2,-4,0],scale:[4,1,2],euler:[0,1,-1],shear:[-.5,1,.25]})],n=new M,[o,i]=r.map(e=>{let r=(0,l.mj)(new d.QT,t);r.matrixAutoUpdate=!1;let o=1,i=()=>{(0,m.Nb)(e,r.matrix)};return i(),r.onTick=t=>{n.rotate&&(o+=t.deltaTime),i()},r}),a=(0,l.mj)(new d.QT("yellow"),t),s=(0,m.Ez)(o.matrix),h=(0,m.Ez)(i.matrix),g=(0,m.Ez)(a.matrix);yield e.ticker.onTick(t=>{let e=f.o.triangle(t.time,{frequency:1/4});e=(0,u.inverseLerp)(.05,.95,e),e=c.kY.inOut2(e),(0,m.$N)(s,h,e,g),a.matrixAutoUpdate=!1,a.matrix=(0,m.Nb)(g,a.matrix)})},[]),null}function y(){return(0,o.Fw)(function*(t){t.pipeline.basicPasses.fxaa.enabled=!1}),(0,o.dB)("my-settings",function*(t,e){(0,l.mj)(new i.u,t).regularGrid({size:12,subdivisions:[2,6],opacity:[1,.1]})},[]),null}function b(){return(0,n.jsxs)(o.uB,{vertigoControls:{eventTarget:"canvas",size:12,zoom:.7,rotation:["8deg","12deg","0deg"],focus:[0,0,.5]},children:[(0,n.jsx)(s.Leak,{}),(0,n.jsx)(y,{}),(0,n.jsx)(v,{}),(0,n.jsx)(x,{}),(0,n.jsx)(p,{})]})}},4941:(t,e,r)=>{"use strict";r.d(e,{_5:()=>o.ol,YN:()=>o.o8,cz:()=>i,kY:()=>o.kY});var n=r(37197),o=r(40074);let i={transition:o.kY,bump:n.$p}},17099:(t,e,r)=>{"use strict";r.d(e,{c:()=>a});var n=r(79105);let o=t=>t,i={weightsAreNormalized:!1,indexOffset:0,forbiddenItems:[]};function l(){let t=(0,n.K2)((0,n.K2)((0,n.Ts)(n.KP)));function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.KP;return"string"==typeof e&&(e=e.split("").reduce((t,e)=>7*t+e.charCodeAt(0),0)),t=(0,n.K2)((0,n.K2)((0,n.Ts)(e))),c}function r(){return t=(0,n.K2)(t),(0,n.Tj)(t)}function l(t){switch(t.length){default:return[0,1,o];case 1:return[0,t[0],o];case 2:return[t[0],t[1],o];case 3:return[t[0],t[1],t[2]]}}function a(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let[o,i,a]=l(e);return o+(i-o)*a(r())}function s(){for(var t,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];let[l,a,{weightsAreNormalized:s,indexOffset:u,forbiddenItems:c}]=function(t){let[e,r=null,n]=t,o={...i,...n};if(Array.isArray(e))return[e,r,o];if("object"==typeof e)return[Object.values(e),r?Object.values(r):null,o];throw Error("pick: unsupported options type")}(n);if(c.length>0){let e=new Set;for(let t of c){let r=l.indexOf(t);r>=0&&e.add(r)}if(l=l.filter((t,r)=>!e.has(r)),a=null!=(t=null==a?void 0:a.filter((t,r)=>!e.has(r)))?t:null,0===l.length)throw Error("pick: all items are forbidden")}if(null===a){let t=Math.floor(r()*l.length);return u&&(t+=u,(t%=l.length)<0&&(t+=l.length)),l[t]}if(!s){let t=a.reduce((t,e)=>t+e,0);a=a.map(e=>e/t)}let f=r(),h=0;for(let t=0;t<l.length;t++)if(f<(h+=a[t]))return l[t];throw Error("among: unreachable")}function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(),o=r(),i=Math.sqrt(-2*Math.log(n)),l=2*Math.PI*o;return[t+e*i*Math.cos(l),t+e*i*Math.sin(l)]}let c={seed:e,seedMax:function(){return n.Zu},reset:function(){return e(n.KP),c},next:function(){return t=(0,n.K2)(t),c},getState:function(){return t},setState:function(e){return t=e&n.Zu,c},random:r,between:a,around:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let[i=1,l=o]=e,a=2*r();return(a>1?1:-1)*l(a>1?a-1:a)*i},int:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let[o,i,a]=l(e);return o+Math.floor(a(r())*(i-o))},chance:function(t){return r()<t},shuffle:function(t){let{mutate:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e&&Array.isArray(t)?t:[...t],o=n.length;for(let t=0;t<o;t++){let e=Math.floor(o*r()),i=n[t];n[t]=n[e],n[e]=i}return n},pick:s,createPicker:function(t){let e=t.map(t=>{let[e]=t;return e}),r=t.map(t=>{let[e,r]=t;return r}),n=r.reduce((t,e)=>t+e,0);for(let[t,e]of r.entries())r[t]=e/n;return()=>s(e,r,{weightsAreNormalized:!0})},vector:function(t,e){let[r=0,n=1]=Array.isArray(e)?e:[null==e?void 0:e.min,null==e?void 0:e.max];for(let e of Object.keys(t))t[e]=a(r,n);return t},unitVector2:function(t){let e=2*Math.PI*r();return t.x=Math.cos(e),t.y=Math.sin(e),t},unitVector3:function(t){let e=r(),n=r(),o=2*Math.PI*e,i=Math.acos(1-2*n);return t.x=Math.sin(i)*Math.cos(o),t.y=Math.sin(i)*Math.sin(o),t.z=Math.cos(i),t},normalVector:function(t){let e=Object.keys(t),r=e.length,n=Math.sqrt(r);for(let o=0;o<r;o+=2){let[i,l]=u();t[e[o]]=i/n,o+1<r&&(t[e[o+1]]=l/n)}return t},unitVector:function(t){let e=Object.keys(t),r=e.length,n=0;for(let o=0;o<r;o+=2){let[i,l]=u();t[e[o]]=i,n+=i*i,o+1<r&&(t[e[o+1]]=l,n+=l*l)}n=Math.sqrt(n);for(let o=0;o<r;o++)t[e[o]]/=n;return t},boxMuller:u,quaternion:function(t){let e=r(),n=r(),o=r(),i=Math.sqrt(1-e),l=Math.sqrt(e);return t.x=i*Math.sin(2*Math.PI*n),t.y=i*Math.cos(2*Math.PI*n),t.z=l*Math.sin(2*Math.PI*o),t.w=l*Math.cos(2*Math.PI*o),t},insideCircle:function(t,e){let n=2*r()*Math.PI,o=Math.sqrt(r())*t;return e.x=o*Math.cos(n),e.y=o*Math.sin(n),e}};return c}let a=class{constructor(t){Object.assign(this,l().seed(t))}};Object.assign(a,l())},28737:(t,e,r)=>{"use strict";r.d(e,{Leak:()=>f,O:()=>c});var n={};r.r(n),r.d(n,{distribute:()=>i.mn,every:()=>i.Si,findMaxBy:()=>i.vj,pairwise:()=>i.Ju,recordBy:()=>i.VY,some:()=>i.zN,split:()=>i.mn,uniqueBy:()=>i.pD});var o=r(30158),i=r(43107),l=r(38062),a=r(85795),s=r(17099),u=r(96122);function c(t){Object.assign(window,{...o,...a,...n,...t,PRNG:s.c,waveform:l.o,dedent:u.T})}function f(t){return c(t),null}},38062:(t,e,r)=>{"use strict";r.d(e,{o:()=>n});let n={triangle:function(t){let{frequency:e=1,phase:r=0,f:n=e,p:o=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t*n+o,l=2*i-Math.floor(2*i);return i-Math.floor(i)<.5?l:1-l}}},43107:(t,e,r)=>{"use strict";function n(t,e){for(let r of t)if(e(r))return!0;return!1}function o(t,e){for(let r of t)if(!e(r))return!1;return!0}function i(t,e,r){let n=[];function o(t){let e=[];return n[t]=e,e}if(void 0!==r)for(let t=0;t<r;t++)o(t);for(let r of t){var i;let t=e(r);(null!=(i=n[t])?i:o(t)).push(r)}return n}function*l(t){let e;for(let r of t)void 0!==e&&(yield[e,r]),e=r}function a(t,e){let r,n=-1/0;for(let o of t){let t=e(o);t>n&&(n=t,r=o)}return r}function s(t){let e=new Set;return r=>{let n=t(r);return!e.has(n)&&(e.add(n),!0)}}function u(t){return(e,r)=>{if(null!==e&&"object"!=typeof e)throw Error("Accumulator must be an object");let n=null===e?{}:e,o=t(r);return n[o]||(n[o]=[]),n[o].push(r),n}}r.d(e,{Ju:()=>l,Si:()=>o,VY:()=>u,mn:()=>i,pD:()=>s,vj:()=>a,zN:()=>n})},70462:(t,e,r)=>{Promise.resolve().then(r.bind(r,4076))},96122:(t,e,r)=>{"use strict";function n(t){let e=t.split("\n"),r=0;for(let t of e){let e=t.match(/^(\s*)\S/);if(e){r=e[1].length;break}}return e.map(t=>t.slice(Math.min(t.length,r))).join("\n")}r.d(e,{T:()=>n})}},t=>{var e=e=>t(t.s=e);t.O(0,[5611,7190,6564,7962,9635,8921,7953,4512,7775,7436,146,6726,3445,9332,3414,9717,1763,9215,3097,7938,1319,6852,7358],()=>e(70462)),_N_E=t.O()}]);